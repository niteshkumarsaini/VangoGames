// Generated by Construct 3, the game and app creator :: https://www.construct.net
'use strict';var ya;"use strict";var Ta=this;
function Xa(d){function a(h,n,v){var y=n[0],A=n[1],E=n[2];n=n[3];var F=v[0],J=v[1],M=v[2];v=v[3];h[0]=y*F+E*J;h[1]=A*F+n*J;h[2]=y*M+E*v;h[3]=A*M+n*v;return h}function b(h,n,v){h[0]=n[0]-v[0];h[1]=n[1]-v[1];h[2]=n[2]-v[2];h[3]=n[3]-v[3];return h}function e(h,n,v){var y=n[0],A=n[1],E=n[2],F=n[3],J=n[4];n=n[5];var M=v[0],P=v[1],S=v[2],T=v[3],X=v[4];v=v[5];h[0]=y*M+E*P;h[1]=A*M+F*P;h[2]=y*S+E*T;h[3]=A*S+F*T;h[4]=y*X+E*v+J;h[5]=A*X+F*v+n;return h}function c(h,n,v){h[0]=n[0]-v[0];h[1]=n[1]-v[1];h[2]=n[2]-
v[2];h[3]=n[3]-v[3];h[4]=n[4]-v[4];h[5]=n[5]-v[5];return h}function f(){var h=new qa(9);qa!=Float32Array&&(h[1]=0,h[2]=0,h[3]=0,h[5]=0,h[6]=0,h[7]=0);h[0]=1;h[4]=1;h[8]=1;return h}function k(h,n,v){var y=n[0],A=n[1],E=n[2],F=n[3],J=n[4],M=n[5],P=n[6],S=n[7];n=n[8];var T=v[0],X=v[1],W=v[2],fa=v[3],da=v[4],aa=v[5],ua=v[6],pa=v[7];v=v[8];h[0]=T*y+X*F+W*P;h[1]=T*A+X*J+W*S;h[2]=T*E+X*M+W*n;h[3]=fa*y+da*F+aa*P;h[4]=fa*A+da*J+aa*S;h[5]=fa*E+da*M+aa*n;h[6]=ua*y+pa*F+v*P;h[7]=ua*A+pa*J+v*S;h[8]=ua*E+pa*M+
v*n;return h}function g(h,n,v){h[0]=n[0]-v[0];h[1]=n[1]-v[1];h[2]=n[2]-v[2];h[3]=n[3]-v[3];h[4]=n[4]-v[4];h[5]=n[5]-v[5];h[6]=n[6]-v[6];h[7]=n[7]-v[7];h[8]=n[8]-v[8];return h}function l(h){h[0]=1;h[1]=0;h[2]=0;h[3]=0;h[4]=0;h[5]=1;h[6]=0;h[7]=0;h[8]=0;h[9]=0;h[10]=1;h[11]=0;h[12]=0;h[13]=0;h[14]=0;h[15]=1;return h}function m(h,n,v){var y=n[0],A=n[1],E=n[2],F=n[3],J=n[4],M=n[5],P=n[6],S=n[7],T=n[8],X=n[9],W=n[10],fa=n[11],da=n[12],aa=n[13],ua=n[14];n=n[15];var pa=v[0],sa=v[1],ta=v[2],ra=v[3];h[0]=
pa*y+sa*J+ta*T+ra*da;h[1]=pa*A+sa*M+ta*X+ra*aa;h[2]=pa*E+sa*P+ta*W+ra*ua;h[3]=pa*F+sa*S+ta*fa+ra*n;pa=v[4];sa=v[5];ta=v[6];ra=v[7];h[4]=pa*y+sa*J+ta*T+ra*da;h[5]=pa*A+sa*M+ta*X+ra*aa;h[6]=pa*E+sa*P+ta*W+ra*ua;h[7]=pa*F+sa*S+ta*fa+ra*n;pa=v[8];sa=v[9];ta=v[10];ra=v[11];h[8]=pa*y+sa*J+ta*T+ra*da;h[9]=pa*A+sa*M+ta*X+ra*aa;h[10]=pa*E+sa*P+ta*W+ra*ua;h[11]=pa*F+sa*S+ta*fa+ra*n;pa=v[12];sa=v[13];ta=v[14];ra=v[15];h[12]=pa*y+sa*J+ta*T+ra*da;h[13]=pa*A+sa*M+ta*X+ra*aa;h[14]=pa*E+sa*P+ta*W+ra*ua;h[15]=pa*
F+sa*S+ta*fa+ra*n;return h}function q(h,n,v){var y=n[0],A=n[1],E=n[2],F=n[3],J=y+y,M=A+A,P=E+E;n=y*J;var S=y*M;y*=P;var T=A*M;A*=P;E*=P;J*=F;M*=F;F*=P;h[0]=1-(T+E);h[1]=S+F;h[2]=y-M;h[3]=0;h[4]=S-F;h[5]=1-(n+E);h[6]=A+J;h[7]=0;h[8]=y+M;h[9]=A-J;h[10]=1-(n+T);h[11]=0;h[12]=v[0];h[13]=v[1];h[14]=v[2];h[15]=1;return h}function r(h,n){h[0]=n[12];h[1]=n[13];h[2]=n[14];return h}function p(h,n){var v=n[4],y=n[5],A=n[6],E=n[8],F=n[9],J=n[10];h[0]=Math.hypot(n[0],n[1],n[2]);h[1]=Math.hypot(v,y,A);h[2]=Math.hypot(E,
F,J);return h}function u(h,n){var v=new qa(3);p(v,n);var y=1/v[0],A=1/v[1],E=1/v[2],F=n[0]*y;v=n[1]*A;var J=n[2]*E,M=n[4]*y,P=n[5]*A,S=n[6]*E;y*=n[8];A*=n[9];n=n[10]*E;E=F+P+n;0<E?(F=2*Math.sqrt(E+1),h[3]=.25*F,h[0]=(S-A)/F,h[1]=(y-J)/F,h[2]=(v-M)/F):F>P&&F>n?(F=2*Math.sqrt(1+F-P-n),h[3]=(S-A)/F,h[0]=.25*F,h[1]=(v+M)/F,h[2]=(y+J)/F):P>n?(F=2*Math.sqrt(1+P-F-n),h[3]=(y-J)/F,h[0]=(v+M)/F,h[1]=.25*F,h[2]=(S+A)/F):(F=2*Math.sqrt(1+n-F-P),h[3]=(v-M)/F,h[0]=(y+J)/F,h[1]=(S+A)/F,h[2]=.25*F);return h}function t(h,
n,v){h[0]=n[0]-v[0];h[1]=n[1]-v[1];h[2]=n[2]-v[2];h[3]=n[3]-v[3];h[4]=n[4]-v[4];h[5]=n[5]-v[5];h[6]=n[6]-v[6];h[7]=n[7]-v[7];h[8]=n[8]-v[8];h[9]=n[9]-v[9];h[10]=n[10]-v[10];h[11]=n[11]-v[11];h[12]=n[12]-v[12];h[13]=n[13]-v[13];h[14]=n[14]-v[14];h[15]=n[15]-v[15];return h}function w(){var h=new qa(3);qa!=Float32Array&&(h[0]=0,h[1]=0,h[2]=0);return h}function x(h){return Math.hypot(h[0],h[1],h[2])}function z(h,n,v){var y=new qa(3);y[0]=h;y[1]=n;y[2]=v;return y}function D(h,n,v){h[0]=n[0]-v[0];h[1]=
n[1]-v[1];h[2]=n[2]-v[2];return h}function G(h,n,v){h[0]=n[0]*v[0];h[1]=n[1]*v[1];h[2]=n[2]*v[2];return h}function N(h,n,v){h[0]=n[0]/v[0];h[1]=n[1]/v[1];h[2]=n[2]/v[2];return h}function B(h,n){return Math.hypot(n[0]-h[0],n[1]-h[1],n[2]-h[2])}function H(h,n){var v=n[0]-h[0],y=n[1]-h[1];h=n[2]-h[2];return v*v+y*y+h*h}function I(h){var n=h[0],v=h[1];h=h[2];return n*n+v*v+h*h}function K(h,n){var v=n[0],y=n[1],A=n[2];v=v*v+y*y+A*A;0<v&&(v=1/Math.sqrt(v));h[0]=n[0]*v;h[1]=n[1]*v;h[2]=n[2]*v;return h}function Q(h,
n){return h[0]*n[0]+h[1]*n[1]+h[2]*n[2]}function R(h,n,v){var y=n[0],A=n[1];n=n[2];var E=v[0],F=v[1];v=v[2];h[0]=A*v-n*F;h[1]=n*E-y*v;h[2]=y*F-A*E;return h}function U(){var h=new qa(4);qa!=Float32Array&&(h[0]=0,h[1]=0,h[2]=0,h[3]=0);return h}function Z(h){var n=new qa(4);n[0]=h[0];n[1]=h[1];n[2]=h[2];n[3]=h[3];return n}function ca(h,n,v,y){var A=new qa(4);A[0]=h;A[1]=n;A[2]=v;A[3]=y;return A}function Y(h,n){h[0]=n[0];h[1]=n[1];h[2]=n[2];h[3]=n[3];return h}function ha(h,n,v,y,A){h[0]=n;h[1]=v;h[2]=
y;h[3]=A;return h}function ka(h,n,v){h[0]=n[0]+v[0];h[1]=n[1]+v[1];h[2]=n[2]+v[2];h[3]=n[3]+v[3];return h}function za(h,n,v){h[0]=n[0]-v[0];h[1]=n[1]-v[1];h[2]=n[2]-v[2];h[3]=n[3]-v[3];return h}function Oa(h,n,v){h[0]=n[0]*v[0];h[1]=n[1]*v[1];h[2]=n[2]*v[2];h[3]=n[3]*v[3];return h}function ab(h,n,v){h[0]=n[0]/v[0];h[1]=n[1]/v[1];h[2]=n[2]/v[2];h[3]=n[3]/v[3];return h}function Ua(h,n,v){h[0]=n[0]*v;h[1]=n[1]*v;h[2]=n[2]*v;h[3]=n[3]*v;return h}function bb(h,n){return Math.hypot(n[0]-h[0],n[1]-h[1],
n[2]-h[2],n[3]-h[3])}function mb(h,n){var v=n[0]-h[0],y=n[1]-h[1],A=n[2]-h[2];h=n[3]-h[3];return v*v+y*y+A*A+h*h}function Va(h){return Math.hypot(h[0],h[1],h[2],h[3])}function Pa(h){var n=h[0],v=h[1],y=h[2];h=h[3];return n*n+v*v+y*y+h*h}function fb(h,n){var v=n[0],y=n[1],A=n[2];n=n[3];var E=v*v+y*y+A*A+n*n;0<E&&(E=1/Math.sqrt(E));h[0]=v*E;h[1]=y*E;h[2]=A*E;h[3]=n*E;return h}function cb(h,n){return h[0]*n[0]+h[1]*n[1]+h[2]*n[2]+h[3]*n[3]}function ub(h,n,v,y){var A=n[0],E=n[1],F=n[2];n=n[3];h[0]=A+
y*(v[0]-A);h[1]=E+y*(v[1]-E);h[2]=F+y*(v[2]-F);h[3]=n+y*(v[3]-n);return h}function vb(h,n){return h[0]===n[0]&&h[1]===n[1]&&h[2]===n[2]&&h[3]===n[3]}function wb(h,n){var v=h[0],y=h[1],A=h[2];h=h[3];var E=n[0],F=n[1],J=n[2];n=n[3];return Math.abs(v-E)<=1E-6*Math.max(1,Math.abs(v),Math.abs(E))&&Math.abs(y-F)<=1E-6*Math.max(1,Math.abs(y),Math.abs(F))&&Math.abs(A-J)<=1E-6*Math.max(1,Math.abs(A),Math.abs(J))&&Math.abs(h-n)<=1E-6*Math.max(1,Math.abs(h),Math.abs(n))}function gb(){var h=new qa(4);qa!=Float32Array&&
(h[0]=0,h[1]=0,h[2]=0);h[3]=1;return h}function xb(h,n,v){v*=.5;var y=Math.sin(v);h[0]=y*n[0];h[1]=y*n[1];h[2]=y*n[2];h[3]=Math.cos(v);return h}function yb(h,n,v){var y=n[0],A=n[1],E=n[2];n=n[3];var F=v[0],J=v[1],M=v[2];v=v[3];h[0]=y*v+n*F+A*M-E*J;h[1]=A*v+n*J+E*F-y*M;h[2]=E*v+n*M+y*J-A*F;h[3]=n*v-y*F-A*J-E*M;return h}function zb(h,n,v){v*=.5;var y=n[0],A=n[1],E=n[2];n=n[3];var F=Math.sin(v);v=Math.cos(v);h[0]=y*v+n*F;h[1]=A*v+E*F;h[2]=E*v-A*F;h[3]=n*v-y*F;return h}function Ab(h,n,v){v*=.5;var y=
n[0],A=n[1],E=n[2];n=n[3];var F=Math.sin(v);v=Math.cos(v);h[0]=y*v-E*F;h[1]=A*v+n*F;h[2]=E*v+y*F;h[3]=n*v-A*F;return h}function Bb(h,n,v){v*=.5;var y=n[0],A=n[1],E=n[2];n=n[3];var F=Math.sin(v);v=Math.cos(v);h[0]=y*v+A*F;h[1]=A*v-y*F;h[2]=E*v+n*F;h[3]=n*v-E*F;return h}function Cb(h,n){var v=n[0],y=n[1],A=n[2],E=Math.sqrt(v*v+y*y+A*A);n=Math.exp(n[3]);var F=0<E?n*Math.sin(E)/E:0;h[0]=v*F;h[1]=y*F;h[2]=A*F;h[3]=n*Math.cos(E);return h}function Db(h,n){var v=n[0],y=n[1],A=n[2];n=n[3];var E=Math.sqrt(v*
v+y*y+A*A);E=0<E?Math.atan2(E,n)/E:0;h[0]=v*E;h[1]=y*E;h[2]=A*E;h[3]=.5*Math.log(v*v+y*y+A*A+n*n);return h}function hb(h,n,v,y){var A=n[0],E=n[1],F=n[2];n=n[3];var J=v[0],M=v[1],P=v[2];v=v[3];var S=A*J+E*M+F*P+n*v;0>S&&(S=-S,J=-J,M=-M,P=-P,v=-v);if(1E-6<1-S){var T=Math.acos(S);var X=Math.sin(T);S=Math.sin((1-y)*T)/X;y=Math.sin(y*T)/X}else S=1-y;h[0]=S*A+y*J;h[1]=S*E+y*M;h[2]=S*F+y*P;h[3]=S*n+y*v;return h}function Eb(h,n){var v=n[0]+n[4]+n[8];if(0<v)v=Math.sqrt(v+1),h[3]=.5*v,v=.5/v,h[0]=(n[5]-n[7])*
v,h[1]=(n[6]-n[2])*v,h[2]=(n[1]-n[3])*v;else{var y=0;n[4]>n[0]&&(y=1);n[8]>n[3*y+y]&&(y=2);var A=(y+1)%3,E=(y+2)%3;v=Math.sqrt(n[3*y+y]-n[3*A+A]-n[3*E+E]+1);h[y]=.5*v;v=.5/v;h[3]=(n[3*A+E]-n[3*E+A])*v;h[A]=(n[3*A+y]+n[3*y+A])*v;h[E]=(n[3*E+y]+n[3*y+E])*v}return h}function Fb(h,n,v){var y=.5*v[0],A=.5*v[1];v=.5*v[2];var E=n[0],F=n[1],J=n[2];n=n[3];h[0]=E;h[1]=F;h[2]=J;h[3]=n;h[4]=y*n+A*J-v*F;h[5]=A*n+v*E-y*J;h[6]=v*n+y*F-A*E;h[7]=-y*E-A*F-v*J;return h}function Gb(h,n){h[0]=n[0];h[1]=n[1];h[2]=n[2];
h[3]=n[3];h[4]=n[4];h[5]=n[5];h[6]=n[6];h[7]=n[7];return h}function Hb(h,n,v){var y=n[0],A=n[1],E=n[2],F=n[3],J=v[4],M=v[5],P=v[6],S=v[7],T=n[4],X=n[5],W=n[6];n=n[7];var fa=v[0],da=v[1],aa=v[2];v=v[3];h[0]=y*v+F*fa+A*aa-E*da;h[1]=A*v+F*da+E*fa-y*aa;h[2]=E*v+F*aa+y*da-A*fa;h[3]=F*v-y*fa-A*da-E*aa;h[4]=y*S+F*J+A*P-E*M+T*v+n*fa+X*aa-W*da;h[5]=A*S+F*M+E*J-y*P+X*v+n*da+W*fa-T*aa;h[6]=E*S+F*P+y*M-A*J+W*v+n*aa+T*da-X*fa;h[7]=F*S-y*J-A*M-E*P+n*v-T*fa-X*da-W*aa;return h}function ib(){var h=new qa(2);qa!=Float32Array&&
(h[0]=0,h[1]=0);return h}function Sa(h,n,v){h[0]=n[0]-v[0];h[1]=n[1]-v[1];return h}function jb(h,n,v){h[0]=n[0]*v[0];h[1]=n[1]*v[1];return h}function kb(h,n,v){h[0]=n[0]/v[0];h[1]=n[1]/v[1];return h}function Wa(h,n){return Math.hypot(n[0]-h[0],n[1]-h[1])}function lb(h,n){var v=n[0]-h[0];h=n[1]-h[1];return v*v+h*h}function Ma(h){return Math.hypot(h[0],h[1])}function nb(h){var n=h[0];h=h[1];return n*n+h*h}var qa="undefined"!==typeof Float32Array?Float32Array:Array,Ka=Math.random,Ib=Math.PI/180;Math.hypot||
(Math.hypot=function(){for(var h=0,n=arguments.length;n--;)h+=arguments[n]*arguments[n];return Math.sqrt(h)});var Ob=Object.freeze({__proto__:null,EPSILON:1E-6,get oka(){return qa},Kra:Ka,uza:function(h){qa=h},Eza:function(h){return h*Ib},hd:function(h,n){return Math.abs(h-n)<=1E-6*Math.max(1,Math.abs(h),Math.abs(n))}}),Pb=Object.freeze({__proto__:null,create:function(){var h=new qa(4);qa!=Float32Array&&(h[1]=0,h[2]=0);h[0]=1;h[3]=1;return h},clone:function(h){var n=new qa(4);n[0]=h[0];n[1]=h[1];
n[2]=h[2];n[3]=h[3];return n},Aa:function(h,n){h[0]=n[0];h[1]=n[1];h[2]=n[2];h[3]=n[3];return h},cz:function(h){h[0]=1;h[1]=0;h[2]=0;h[3]=1;return h},Ag:function(h,n,v,y){var A=new qa(4);A[0]=h;A[1]=n;A[2]=v;A[3]=y;return A},set:function(h,n,v,y,A){h[0]=n;h[1]=v;h[2]=y;h[3]=A;return h},jZ:function(h,n){if(h===n){var v=n[1];h[1]=n[2];h[2]=v}else h[0]=n[0],h[1]=n[2],h[2]=n[1],h[3]=n[3];return h},Ku:function(h,n){var v=n[0],y=n[1],A=n[2];n=n[3];var E=v*n-A*y;if(!E)return null;E=1/E;h[0]=n*E;h[1]=-y*
E;h[2]=-A*E;h[3]=v*E;return h},nY:function(h,n){var v=n[0];h[0]=n[3];h[1]=-n[1];h[2]=-n[2];h[3]=v;return h},lN:function(h){return h[0]*h[3]-h[2]*h[1]},multiply:a,rotate:function(h,n,v){var y=n[0],A=n[1],E=n[2];n=n[3];var F=Math.sin(v);v=Math.cos(v);h[0]=y*v+E*F;h[1]=A*v+n*F;h[2]=y*-F+E*v;h[3]=A*-F+n*v;return h},scale:function(h,n,v){var y=n[1],A=n[2],E=n[3],F=v[0];v=v[1];h[0]=n[0]*F;h[1]=y*F;h[2]=A*v;h[3]=E*v;return h},JE:function(h,n){var v=Math.sin(n);n=Math.cos(n);h[0]=n;h[1]=v;h[2]=-v;h[3]=n;
return h},pN:function(h,n){h[0]=n[0];h[1]=0;h[2]=0;h[3]=n[1];return h},Nn:function(h){return"mat2("+h[0]+", "+h[1]+", "+h[2]+", "+h[3]+")"},oN:function(h){return Math.hypot(h[0],h[1],h[2],h[3])},spa:function(h,n,v,y){h[2]=y[2]/y[0];v[0]=y[0];v[1]=y[1];v[3]=y[3]-h[2]*v[1];return[h,n,v]},add:function(h,n,v){h[0]=n[0]+v[0];h[1]=n[1]+v[1];h[2]=n[2]+v[2];h[3]=n[3]+v[3];return h},On:b,Dk:function(h,n){return h[0]===n[0]&&h[1]===n[1]&&h[2]===n[2]&&h[3]===n[3]},hd:function(h,n){var v=h[0],y=h[1],A=h[2];h=
h[3];var E=n[0],F=n[1],J=n[2];n=n[3];return Math.abs(v-E)<=1E-6*Math.max(1,Math.abs(v),Math.abs(E))&&Math.abs(y-F)<=1E-6*Math.max(1,Math.abs(y),Math.abs(F))&&Math.abs(A-J)<=1E-6*Math.max(1,Math.abs(A),Math.abs(J))&&Math.abs(h-n)<=1E-6*Math.max(1,Math.abs(h),Math.abs(n))},CN:function(h,n,v){h[0]=n[0]*v;h[1]=n[1]*v;h[2]=n[2]*v;h[3]=n[3]*v;return h},DN:function(h,n,v,y){h[0]=n[0]+v[0]*y;h[1]=n[1]+v[1]*y;h[2]=n[2]+v[2]*y;h[3]=n[3]+v[3]*y;return h},Ap:a,sub:b}),Qb=Object.freeze({__proto__:null,create:function(){var h=
new qa(6);qa!=Float32Array&&(h[1]=0,h[2]=0,h[4]=0,h[5]=0);h[0]=1;h[3]=1;return h},clone:function(h){var n=new qa(6);n[0]=h[0];n[1]=h[1];n[2]=h[2];n[3]=h[3];n[4]=h[4];n[5]=h[5];return n},Aa:function(h,n){h[0]=n[0];h[1]=n[1];h[2]=n[2];h[3]=n[3];h[4]=n[4];h[5]=n[5];return h},cz:function(h){h[0]=1;h[1]=0;h[2]=0;h[3]=1;h[4]=0;h[5]=0;return h},Ag:function(h,n,v,y,A,E){var F=new qa(6);F[0]=h;F[1]=n;F[2]=v;F[3]=y;F[4]=A;F[5]=E;return F},set:function(h,n,v,y,A,E,F){h[0]=n;h[1]=v;h[2]=y;h[3]=A;h[4]=E;h[5]=
F;return h},Ku:function(h,n){var v=n[0],y=n[1],A=n[2],E=n[3],F=n[4];n=n[5];var J=v*E-y*A;if(!J)return null;J=1/J;h[0]=E*J;h[1]=-y*J;h[2]=-A*J;h[3]=v*J;h[4]=(A*n-E*F)*J;h[5]=(y*F-v*n)*J;return h},lN:function(h){return h[0]*h[3]-h[1]*h[2]},multiply:e,rotate:function(h,n,v){var y=n[0],A=n[1],E=n[2],F=n[3],J=n[4];n=n[5];var M=Math.sin(v);v=Math.cos(v);h[0]=y*v+E*M;h[1]=A*v+F*M;h[2]=y*-M+E*v;h[3]=A*-M+F*v;h[4]=J;h[5]=n;return h},scale:function(h,n,v){var y=n[1],A=n[2],E=n[3],F=n[4],J=n[5],M=v[0];v=v[1];
h[0]=n[0]*M;h[1]=y*M;h[2]=A*v;h[3]=E*v;h[4]=F;h[5]=J;return h},translate:function(h,n,v){var y=n[0],A=n[1],E=n[2],F=n[3],J=n[4];n=n[5];var M=v[0];v=v[1];h[0]=y;h[1]=A;h[2]=E;h[3]=F;h[4]=y*M+E*v+J;h[5]=A*M+F*v+n;return h},JE:function(h,n){var v=Math.sin(n);n=Math.cos(n);h[0]=n;h[1]=v;h[2]=-v;h[3]=n;h[4]=0;h[5]=0;return h},pN:function(h,n){h[0]=n[0];h[1]=0;h[2]=0;h[3]=n[1];h[4]=0;h[5]=0;return h},qN:function(h,n){h[0]=1;h[1]=0;h[2]=0;h[3]=1;h[4]=n[0];h[5]=n[1];return h},Nn:function(h){return"mat2d("+
h[0]+", "+h[1]+", "+h[2]+", "+h[3]+", "+h[4]+", "+h[5]+")"},oN:function(h){return Math.hypot(h[0],h[1],h[2],h[3],h[4],h[5],1)},add:function(h,n,v){h[0]=n[0]+v[0];h[1]=n[1]+v[1];h[2]=n[2]+v[2];h[3]=n[3]+v[3];h[4]=n[4]+v[4];h[5]=n[5]+v[5];return h},On:c,CN:function(h,n,v){h[0]=n[0]*v;h[1]=n[1]*v;h[2]=n[2]*v;h[3]=n[3]*v;h[4]=n[4]*v;h[5]=n[5]*v;return h},DN:function(h,n,v,y){h[0]=n[0]+v[0]*y;h[1]=n[1]+v[1]*y;h[2]=n[2]+v[2]*y;h[3]=n[3]+v[3]*y;h[4]=n[4]+v[4]*y;h[5]=n[5]+v[5]*y;return h},Dk:function(h,n){return h[0]===
n[0]&&h[1]===n[1]&&h[2]===n[2]&&h[3]===n[3]&&h[4]===n[4]&&h[5]===n[5]},hd:function(h,n){var v=h[0],y=h[1],A=h[2],E=h[3],F=h[4];h=h[5];var J=n[0],M=n[1],P=n[2],S=n[3],T=n[4];n=n[5];return Math.abs(v-J)<=1E-6*Math.max(1,Math.abs(v),Math.abs(J))&&Math.abs(y-M)<=1E-6*Math.max(1,Math.abs(y),Math.abs(M))&&Math.abs(A-P)<=1E-6*Math.max(1,Math.abs(A),Math.abs(P))&&Math.abs(E-S)<=1E-6*Math.max(1,Math.abs(E),Math.abs(S))&&Math.abs(F-T)<=1E-6*Math.max(1,Math.abs(F),Math.abs(T))&&Math.abs(h-n)<=1E-6*Math.max(1,
Math.abs(h),Math.abs(n))},Ap:e,sub:c}),Rb=Object.freeze({__proto__:null,create:f,Ria:function(h,n){h[0]=n[0];h[1]=n[1];h[2]=n[2];h[3]=n[4];h[4]=n[5];h[5]=n[6];h[6]=n[8];h[7]=n[9];h[8]=n[10];return h},clone:function(h){var n=new qa(9);n[0]=h[0];n[1]=h[1];n[2]=h[2];n[3]=h[3];n[4]=h[4];n[5]=h[5];n[6]=h[6];n[7]=h[7];n[8]=h[8];return n},Aa:function(h,n){h[0]=n[0];h[1]=n[1];h[2]=n[2];h[3]=n[3];h[4]=n[4];h[5]=n[5];h[6]=n[6];h[7]=n[7];h[8]=n[8];return h},Ag:function(h,n,v,y,A,E,F,J,M){var P=new qa(9);P[0]=
h;P[1]=n;P[2]=v;P[3]=y;P[4]=A;P[5]=E;P[6]=F;P[7]=J;P[8]=M;return P},set:function(h,n,v,y,A,E,F,J,M,P){h[0]=n;h[1]=v;h[2]=y;h[3]=A;h[4]=E;h[5]=F;h[6]=J;h[7]=M;h[8]=P;return h},cz:function(h){h[0]=1;h[1]=0;h[2]=0;h[3]=0;h[4]=1;h[5]=0;h[6]=0;h[7]=0;h[8]=1;return h},jZ:function(h,n){if(h===n){var v=n[1],y=n[2],A=n[5];h[1]=n[3];h[2]=n[6];h[3]=v;h[5]=n[7];h[6]=y;h[7]=A}else h[0]=n[0],h[1]=n[3],h[2]=n[6],h[3]=n[1],h[4]=n[4],h[5]=n[7],h[6]=n[2],h[7]=n[5],h[8]=n[8];return h},Ku:function(h,n){var v=n[0],y=
n[1],A=n[2],E=n[3],F=n[4],J=n[5],M=n[6],P=n[7];n=n[8];var S=n*F-J*P,T=-n*E+J*M,X=P*E-F*M,W=v*S+y*T+A*X;if(!W)return null;W=1/W;h[0]=S*W;h[1]=(-n*y+A*P)*W;h[2]=(J*y-A*F)*W;h[3]=T*W;h[4]=(n*v-A*M)*W;h[5]=(-J*v+A*E)*W;h[6]=X*W;h[7]=(-P*v+y*M)*W;h[8]=(F*v-y*E)*W;return h},nY:function(h,n){var v=n[0],y=n[1],A=n[2],E=n[3],F=n[4],J=n[5],M=n[6],P=n[7];n=n[8];h[0]=F*n-J*P;h[1]=A*P-y*n;h[2]=y*J-A*F;h[3]=J*M-E*n;h[4]=v*n-A*M;h[5]=A*E-v*J;h[6]=E*P-F*M;h[7]=y*M-v*P;h[8]=v*F-y*E;return h},lN:function(h){var n=
h[3],v=h[4],y=h[5],A=h[6],E=h[7],F=h[8];return h[0]*(F*v-y*E)+h[1]*(-F*n+y*A)+h[2]*(E*n-v*A)},multiply:k,translate:function(h,n,v){var y=n[0],A=n[1],E=n[2],F=n[3],J=n[4],M=n[5],P=n[6],S=n[7];n=n[8];var T=v[0];v=v[1];h[0]=y;h[1]=A;h[2]=E;h[3]=F;h[4]=J;h[5]=M;h[6]=T*y+v*F+P;h[7]=T*A+v*J+S;h[8]=T*E+v*M+n;return h},rotate:function(h,n,v){var y=n[0],A=n[1],E=n[2],F=n[3],J=n[4],M=n[5],P=n[6],S=n[7];n=n[8];var T=Math.sin(v);v=Math.cos(v);h[0]=v*y+T*F;h[1]=v*A+T*J;h[2]=v*E+T*M;h[3]=v*F-T*y;h[4]=v*J-T*A;h[5]=
v*M-T*E;h[6]=P;h[7]=S;h[8]=n;return h},scale:function(h,n,v){var y=v[0];v=v[1];h[0]=y*n[0];h[1]=y*n[1];h[2]=y*n[2];h[3]=v*n[3];h[4]=v*n[4];h[5]=v*n[5];h[6]=n[6];h[7]=n[7];h[8]=n[8];return h},qN:function(h,n){h[0]=1;h[1]=0;h[2]=0;h[3]=0;h[4]=1;h[5]=0;h[6]=n[0];h[7]=n[1];h[8]=1;return h},JE:function(h,n){var v=Math.sin(n);n=Math.cos(n);h[0]=n;h[1]=v;h[2]=0;h[3]=-v;h[4]=n;h[5]=0;h[6]=0;h[7]=0;h[8]=1;return h},pN:function(h,n){h[0]=n[0];h[1]=0;h[2]=0;h[3]=0;h[4]=n[1];h[5]=0;h[6]=0;h[7]=0;h[8]=1;return h},
sxa:function(h,n){h[0]=n[0];h[1]=n[1];h[2]=0;h[3]=n[2];h[4]=n[3];h[5]=0;h[6]=n[4];h[7]=n[5];h[8]=1;return h},Sia:function(h,n){var v=n[0],y=n[1],A=n[2];n=n[3];var E=v+v,F=y+y,J=A+A;v*=E;var M=y*E;y*=F;var P=A*E,S=A*F;A*=J;E*=n;F*=n;n*=J;h[0]=1-y-A;h[3]=M-n;h[6]=P+F;h[1]=M+n;h[4]=1-v-A;h[7]=S-E;h[2]=P-F;h[5]=S+E;h[8]=1-v-y;return h},Cya:function(h,n){var v=n[0],y=n[1],A=n[2],E=n[3],F=n[4],J=n[5],M=n[6],P=n[7],S=n[8],T=n[9],X=n[10],W=n[11],fa=n[12],da=n[13],aa=n[14];n=n[15];var ua=v*J-y*F,pa=v*M-A*
F,sa=v*P-E*F,ta=y*M-A*J,ra=y*P-E*J,Da=A*P-E*M,Ea=S*da-T*fa,Fa=S*aa-X*fa;S=S*n-W*fa;var Ga=T*aa-X*da;T=T*n-W*da;X=X*n-W*aa;W=ua*X-pa*T+sa*Ga+ta*S-ra*Fa+Da*Ea;if(!W)return null;W=1/W;h[0]=(J*X-M*T+P*Ga)*W;h[1]=(M*S-F*X-P*Fa)*W;h[2]=(F*T-J*S+P*Ea)*W;h[3]=(A*T-y*X-E*Ga)*W;h[4]=(v*X-A*S+E*Fa)*W;h[5]=(y*S-v*T-E*Ea)*W;h[6]=(da*Da-aa*ra+n*ta)*W;h[7]=(aa*sa-fa*Da-n*pa)*W;h[8]=(fa*ra-da*sa+n*ua)*W;return h},YY:function(h,n,v){h[0]=2/n;h[1]=0;h[2]=0;h[3]=0;h[4]=-2/v;h[5]=0;h[6]=-1;h[7]=1;h[8]=1;return h},Nn:function(h){return"mat3("+
h[0]+", "+h[1]+", "+h[2]+", "+h[3]+", "+h[4]+", "+h[5]+", "+h[6]+", "+h[7]+", "+h[8]+")"},oN:function(h){return Math.hypot(h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],h[8])},add:function(h,n,v){h[0]=n[0]+v[0];h[1]=n[1]+v[1];h[2]=n[2]+v[2];h[3]=n[3]+v[3];h[4]=n[4]+v[4];h[5]=n[5]+v[5];h[6]=n[6]+v[6];h[7]=n[7]+v[7];h[8]=n[8]+v[8];return h},On:g,CN:function(h,n,v){h[0]=n[0]*v;h[1]=n[1]*v;h[2]=n[2]*v;h[3]=n[3]*v;h[4]=n[4]*v;h[5]=n[5]*v;h[6]=n[6]*v;h[7]=n[7]*v;h[8]=n[8]*v;return h},DN:function(h,n,v,y){h[0]=
n[0]+v[0]*y;h[1]=n[1]+v[1]*y;h[2]=n[2]+v[2]*y;h[3]=n[3]+v[3]*y;h[4]=n[4]+v[4]*y;h[5]=n[5]+v[5]*y;h[6]=n[6]+v[6]*y;h[7]=n[7]+v[7]*y;h[8]=n[8]+v[8]*y;return h},Dk:function(h,n){return h[0]===n[0]&&h[1]===n[1]&&h[2]===n[2]&&h[3]===n[3]&&h[4]===n[4]&&h[5]===n[5]&&h[6]===n[6]&&h[7]===n[7]&&h[8]===n[8]},hd:function(h,n){var v=h[0],y=h[1],A=h[2],E=h[3],F=h[4],J=h[5],M=h[6],P=h[7];h=h[8];var S=n[0],T=n[1],X=n[2],W=n[3],fa=n[4],da=n[5],aa=n[6],ua=n[7];n=n[8];return Math.abs(v-S)<=1E-6*Math.max(1,Math.abs(v),
Math.abs(S))&&Math.abs(y-T)<=1E-6*Math.max(1,Math.abs(y),Math.abs(T))&&Math.abs(A-X)<=1E-6*Math.max(1,Math.abs(A),Math.abs(X))&&Math.abs(E-W)<=1E-6*Math.max(1,Math.abs(E),Math.abs(W))&&Math.abs(F-fa)<=1E-6*Math.max(1,Math.abs(F),Math.abs(fa))&&Math.abs(J-da)<=1E-6*Math.max(1,Math.abs(J),Math.abs(da))&&Math.abs(M-aa)<=1E-6*Math.max(1,Math.abs(M),Math.abs(aa))&&Math.abs(P-ua)<=1E-6*Math.max(1,Math.abs(P),Math.abs(ua))&&Math.abs(h-n)<=1E-6*Math.max(1,Math.abs(h),Math.abs(n))},Ap:k,sub:g}),Sb=Object.freeze({__proto__:null,
create:function(){var h=new qa(16);qa!=Float32Array&&(h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[6]=0,h[7]=0,h[8]=0,h[9]=0,h[11]=0,h[12]=0,h[13]=0,h[14]=0);h[0]=1;h[5]=1;h[10]=1;h[15]=1;return h},clone:function(h){var n=new qa(16);n[0]=h[0];n[1]=h[1];n[2]=h[2];n[3]=h[3];n[4]=h[4];n[5]=h[5];n[6]=h[6];n[7]=h[7];n[8]=h[8];n[9]=h[9];n[10]=h[10];n[11]=h[11];n[12]=h[12];n[13]=h[13];n[14]=h[14];n[15]=h[15];return n},Aa:function(h,n){h[0]=n[0];h[1]=n[1];h[2]=n[2];h[3]=n[3];h[4]=n[4];h[5]=n[5];h[6]=n[6];h[7]=n[7];h[8]=
n[8];h[9]=n[9];h[10]=n[10];h[11]=n[11];h[12]=n[12];h[13]=n[13];h[14]=n[14];h[15]=n[15];return h},Ag:function(h,n,v,y,A,E,F,J,M,P,S,T,X,W,fa,da){var aa=new qa(16);aa[0]=h;aa[1]=n;aa[2]=v;aa[3]=y;aa[4]=A;aa[5]=E;aa[6]=F;aa[7]=J;aa[8]=M;aa[9]=P;aa[10]=S;aa[11]=T;aa[12]=X;aa[13]=W;aa[14]=fa;aa[15]=da;return aa},set:function(h,n,v,y,A,E,F,J,M,P,S,T,X,W,fa,da,aa){h[0]=n;h[1]=v;h[2]=y;h[3]=A;h[4]=E;h[5]=F;h[6]=J;h[7]=M;h[8]=P;h[9]=S;h[10]=T;h[11]=X;h[12]=W;h[13]=fa;h[14]=da;h[15]=aa;return h},cz:l,jZ:function(h,
n){if(h===n){var v=n[1],y=n[2],A=n[3],E=n[6],F=n[7],J=n[11];h[1]=n[4];h[2]=n[8];h[3]=n[12];h[4]=v;h[6]=n[9];h[7]=n[13];h[8]=y;h[9]=E;h[11]=n[14];h[12]=A;h[13]=F;h[14]=J}else h[0]=n[0],h[1]=n[4],h[2]=n[8],h[3]=n[12],h[4]=n[1],h[5]=n[5],h[6]=n[9],h[7]=n[13],h[8]=n[2],h[9]=n[6],h[10]=n[10],h[11]=n[14],h[12]=n[3],h[13]=n[7],h[14]=n[11],h[15]=n[15];return h},Ku:function(h,n){var v=n[0],y=n[1],A=n[2],E=n[3],F=n[4],J=n[5],M=n[6],P=n[7],S=n[8],T=n[9],X=n[10],W=n[11],fa=n[12],da=n[13],aa=n[14];n=n[15];var ua=
v*J-y*F,pa=v*M-A*F,sa=v*P-E*F,ta=y*M-A*J,ra=y*P-E*J,Da=A*P-E*M,Ea=S*da-T*fa,Fa=S*aa-X*fa,Ga=S*n-W*fa,Ia=T*aa-X*da,Qa=T*n-W*da,Ra=X*n-W*aa,Aa=ua*Ra-pa*Qa+sa*Ia+ta*Ga-ra*Fa+Da*Ea;if(!Aa)return null;Aa=1/Aa;h[0]=(J*Ra-M*Qa+P*Ia)*Aa;h[1]=(A*Qa-y*Ra-E*Ia)*Aa;h[2]=(da*Da-aa*ra+n*ta)*Aa;h[3]=(X*ra-T*Da-W*ta)*Aa;h[4]=(M*Ga-F*Ra-P*Fa)*Aa;h[5]=(v*Ra-A*Ga+E*Fa)*Aa;h[6]=(aa*sa-fa*Da-n*pa)*Aa;h[7]=(S*Da-X*sa+W*pa)*Aa;h[8]=(F*Qa-J*Ga+P*Ea)*Aa;h[9]=(y*Ga-v*Qa-E*Ea)*Aa;h[10]=(fa*ra-da*sa+n*ua)*Aa;h[11]=(T*sa-S*ra-
W*ua)*Aa;h[12]=(J*Fa-F*Ia-M*Ea)*Aa;h[13]=(v*Ia-y*Fa+A*Ea)*Aa;h[14]=(da*pa-fa*ta-aa*ua)*Aa;h[15]=(S*ta-T*pa+X*ua)*Aa;return h},nY:function(h,n){var v=n[0],y=n[1],A=n[2],E=n[3],F=n[4],J=n[5],M=n[6],P=n[7],S=n[8],T=n[9],X=n[10],W=n[11],fa=n[12],da=n[13],aa=n[14];n=n[15];h[0]=J*(X*n-W*aa)-T*(M*n-P*aa)+da*(M*W-P*X);h[1]=-(y*(X*n-W*aa)-T*(A*n-E*aa)+da*(A*W-E*X));h[2]=y*(M*n-P*aa)-J*(A*n-E*aa)+da*(A*P-E*M);h[3]=-(y*(M*W-P*X)-J*(A*W-E*X)+T*(A*P-E*M));h[4]=-(F*(X*n-W*aa)-S*(M*n-P*aa)+fa*(M*W-P*X));h[5]=v*
(X*n-W*aa)-S*(A*n-E*aa)+fa*(A*W-E*X);h[6]=-(v*(M*n-P*aa)-F*(A*n-E*aa)+fa*(A*P-E*M));h[7]=v*(M*W-P*X)-F*(A*W-E*X)+S*(A*P-E*M);h[8]=F*(T*n-W*da)-S*(J*n-P*da)+fa*(J*W-P*T);h[9]=-(v*(T*n-W*da)-S*(y*n-E*da)+fa*(y*W-E*T));h[10]=v*(J*n-P*da)-F*(y*n-E*da)+fa*(y*P-E*J);h[11]=-(v*(J*W-P*T)-F*(y*W-E*T)+S*(y*P-E*J));h[12]=-(F*(T*aa-X*da)-S*(J*aa-M*da)+fa*(J*X-M*T));h[13]=v*(T*aa-X*da)-S*(y*aa-A*da)+fa*(y*X-A*T);h[14]=-(v*(J*aa-M*da)-F*(y*aa-A*da)+fa*(y*M-A*J));h[15]=v*(J*X-M*T)-F*(y*X-A*T)+S*(y*M-A*J);return h},
lN:function(h){var n=h[0],v=h[1],y=h[2],A=h[3],E=h[4],F=h[5],J=h[6],M=h[7],P=h[8],S=h[9],T=h[10],X=h[11],W=h[12],fa=h[13],da=h[14];h=h[15];return(n*F-v*E)*(T*h-X*da)-(n*J-y*E)*(S*h-X*fa)+(n*M-A*E)*(S*da-T*fa)+(v*J-y*F)*(P*h-X*W)-(v*M-A*F)*(P*da-T*W)+(y*M-A*J)*(P*fa-S*W)},multiply:m,translate:function(h,n,v){var y=v[0],A=v[1];v=v[2];if(n===h)h[12]=n[0]*y+n[4]*A+n[8]*v+n[12],h[13]=n[1]*y+n[5]*A+n[9]*v+n[13],h[14]=n[2]*y+n[6]*A+n[10]*v+n[14],h[15]=n[3]*y+n[7]*A+n[11]*v+n[15];else{var E=n[0];var F=n[1];
var J=n[2];var M=n[3];var P=n[4];var S=n[5];var T=n[6];var X=n[7];var W=n[8];var fa=n[9];var da=n[10];var aa=n[11];h[0]=E;h[1]=F;h[2]=J;h[3]=M;h[4]=P;h[5]=S;h[6]=T;h[7]=X;h[8]=W;h[9]=fa;h[10]=da;h[11]=aa;h[12]=E*y+P*A+W*v+n[12];h[13]=F*y+S*A+fa*v+n[13];h[14]=J*y+T*A+da*v+n[14];h[15]=M*y+X*A+aa*v+n[15]}return h},scale:function(h,n,v){var y=v[0],A=v[1];v=v[2];h[0]=n[0]*y;h[1]=n[1]*y;h[2]=n[2]*y;h[3]=n[3]*y;h[4]=n[4]*A;h[5]=n[5]*A;h[6]=n[6]*A;h[7]=n[7]*A;h[8]=n[8]*v;h[9]=n[9]*v;h[10]=n[10]*v;h[11]=n[11]*
v;h[12]=n[12];h[13]=n[13];h[14]=n[14];h[15]=n[15];return h},rotate:function(h,n,v,y){var A=y[0],E=y[1];y=y[2];var F=Math.hypot(A,E,y);if(1E-6>F)return null;F=1/F;A*=F;E*=F;y*=F;var J=Math.sin(v);var M=Math.cos(v);var P=1-M;v=n[0];F=n[1];var S=n[2];var T=n[3];var X=n[4];var W=n[5];var fa=n[6];var da=n[7];var aa=n[8];var ua=n[9];var pa=n[10];var sa=n[11];var ta=A*A*P+M;var ra=E*A*P+y*J;var Da=y*A*P-E*J;var Ea=A*E*P-y*J;var Fa=E*E*P+M;var Ga=y*E*P+A*J;var Ia=A*y*P+E*J;A=E*y*P-A*J;E=y*y*P+M;h[0]=v*ta+
X*ra+aa*Da;h[1]=F*ta+W*ra+ua*Da;h[2]=S*ta+fa*ra+pa*Da;h[3]=T*ta+da*ra+sa*Da;h[4]=v*Ea+X*Fa+aa*Ga;h[5]=F*Ea+W*Fa+ua*Ga;h[6]=S*Ea+fa*Fa+pa*Ga;h[7]=T*Ea+da*Fa+sa*Ga;h[8]=v*Ia+X*A+aa*E;h[9]=F*Ia+W*A+ua*E;h[10]=S*Ia+fa*A+pa*E;h[11]=T*Ia+da*A+sa*E;n!==h&&(h[12]=n[12],h[13]=n[13],h[14]=n[14],h[15]=n[15]);return h},RN:function(h,n,v){var y=Math.sin(v);v=Math.cos(v);var A=n[4],E=n[5],F=n[6],J=n[7],M=n[8],P=n[9],S=n[10],T=n[11];n!==h&&(h[0]=n[0],h[1]=n[1],h[2]=n[2],h[3]=n[3],h[12]=n[12],h[13]=n[13],h[14]=n[14],
h[15]=n[15]);h[4]=A*v+M*y;h[5]=E*v+P*y;h[6]=F*v+S*y;h[7]=J*v+T*y;h[8]=M*v-A*y;h[9]=P*v-E*y;h[10]=S*v-F*y;h[11]=T*v-J*y;return h},SN:function(h,n,v){var y=Math.sin(v);v=Math.cos(v);var A=n[0],E=n[1],F=n[2],J=n[3],M=n[8],P=n[9],S=n[10],T=n[11];n!==h&&(h[4]=n[4],h[5]=n[5],h[6]=n[6],h[7]=n[7],h[12]=n[12],h[13]=n[13],h[14]=n[14],h[15]=n[15]);h[0]=A*v-M*y;h[1]=E*v-P*y;h[2]=F*v-S*y;h[3]=J*v-T*y;h[8]=A*y+M*v;h[9]=E*y+P*v;h[10]=F*y+S*v;h[11]=J*y+T*v;return h},TN:function(h,n,v){var y=Math.sin(v);v=Math.cos(v);
var A=n[0],E=n[1],F=n[2],J=n[3],M=n[4],P=n[5],S=n[6],T=n[7];n!==h&&(h[8]=n[8],h[9]=n[9],h[10]=n[10],h[11]=n[11],h[12]=n[12],h[13]=n[13],h[14]=n[14],h[15]=n[15]);h[0]=A*v+M*y;h[1]=E*v+P*y;h[2]=F*v+S*y;h[3]=J*v+T*y;h[4]=M*v-A*y;h[5]=P*v-E*y;h[6]=S*v-F*y;h[7]=T*v-J*y;return h},qN:function(h,n){h[0]=1;h[1]=0;h[2]=0;h[3]=0;h[4]=0;h[5]=1;h[6]=0;h[7]=0;h[8]=0;h[9]=0;h[10]=1;h[11]=0;h[12]=n[0];h[13]=n[1];h[14]=n[2];h[15]=1;return h},pN:function(h,n){h[0]=n[0];h[1]=0;h[2]=0;h[3]=0;h[4]=0;h[5]=n[1];h[6]=0;
h[7]=0;h[8]=0;h[9]=0;h[10]=n[2];h[11]=0;h[12]=0;h[13]=0;h[14]=0;h[15]=1;return h},JE:function(h,n,v){var y=v[0],A=v[1];v=v[2];var E=Math.hypot(y,A,v);if(1E-6>E)return null;E=1/E;y*=E;A*=E;v*=E;E=Math.sin(n);n=Math.cos(n);var F=1-n;h[0]=y*y*F+n;h[1]=A*y*F+v*E;h[2]=v*y*F-A*E;h[3]=0;h[4]=y*A*F-v*E;h[5]=A*A*F+n;h[6]=v*A*F+y*E;h[7]=0;h[8]=y*v*F+A*E;h[9]=A*v*F-y*E;h[10]=v*v*F+n;h[11]=0;h[12]=0;h[13]=0;h[14]=0;h[15]=1;return h},yxa:function(h,n){var v=Math.sin(n);n=Math.cos(n);h[0]=1;h[1]=0;h[2]=0;h[3]=
0;h[4]=0;h[5]=n;h[6]=v;h[7]=0;h[8]=0;h[9]=-v;h[10]=n;h[11]=0;h[12]=0;h[13]=0;h[14]=0;h[15]=1;return h},zxa:function(h,n){var v=Math.sin(n);n=Math.cos(n);h[0]=n;h[1]=0;h[2]=-v;h[3]=0;h[4]=0;h[5]=1;h[6]=0;h[7]=0;h[8]=v;h[9]=0;h[10]=n;h[11]=0;h[12]=0;h[13]=0;h[14]=0;h[15]=1;return h},Axa:function(h,n){var v=Math.sin(n);n=Math.cos(n);h[0]=n;h[1]=v;h[2]=0;h[3]=0;h[4]=-v;h[5]=n;h[6]=0;h[7]=0;h[8]=0;h[9]=0;h[10]=1;h[11]=0;h[12]=0;h[13]=0;h[14]=0;h[15]=1;return h},Tia:q,uxa:function(h,n){var v=new qa(3),
y=-n[0],A=-n[1],E=-n[2],F=n[3],J=n[4],M=n[5],P=n[6],S=n[7],T=y*y+A*A+E*E+F*F;0<T?(v[0]=2*(J*F+S*y+M*E-P*A)/T,v[1]=2*(M*F+S*A+P*y-J*E)/T,v[2]=2*(P*F+S*E+J*A-M*y)/T):(v[0]=2*(J*F+S*y+M*E-P*A),v[1]=2*(M*F+S*A+P*y-J*E),v[2]=2*(P*F+S*E+J*A-M*y));q(h,n,v);return h},Wia:r,Lxa:p,Kxa:u,vxa:function(h,n,v,y){var A=n[0],E=n[1],F=n[2],J=n[3],M=A+A,P=E+E,S=F+F;n=A*M;var T=A*P;A*=S;var X=E*P;E*=S;F*=S;M*=J;P*=J;J*=S;S=y[0];var W=y[1];y=y[2];h[0]=(1-(X+F))*S;h[1]=(T+J)*S;h[2]=(A-P)*S;h[3]=0;h[4]=(T-J)*W;h[5]=(1-
(n+F))*W;h[6]=(E+M)*W;h[7]=0;h[8]=(A+P)*y;h[9]=(E-M)*y;h[10]=(1-(n+X))*y;h[11]=0;h[12]=v[0];h[13]=v[1];h[14]=v[2];h[15]=1;return h},wxa:function(h,n,v,y,A){var E=n[0],F=n[1],J=n[2],M=n[3],P=E+E,S=F+F,T=J+J;n=E*P;var X=E*S,W=E*T;E=F*S;F*=T;var fa=J*T;J=M*P;S*=M;var da=M*T,aa=y[0],ua=y[1];T=y[2];y=A[0];M=A[1];A=A[2];P=(1-(E+fa))*aa;var pa=(X+da)*aa;aa*=W-S;X=(X-da)*ua;fa=(1-(n+fa))*ua;ua*=F+J;W=(W+S)*T;F=(F-J)*T;n=(1-(n+E))*T;h[0]=P;h[1]=pa;h[2]=aa;h[3]=0;h[4]=X;h[5]=fa;h[6]=ua;h[7]=0;h[8]=W;h[9]=F;
h[10]=n;h[11]=0;h[12]=v[0]+y-(P*y+X*M+W*A);h[13]=v[1]+M-(pa*y+fa*M+F*A);h[14]=v[2]+A-(aa*y+ua*M+n*A);h[15]=1;return h},Sia:function(h,n){var v=n[0],y=n[1],A=n[2];n=n[3];var E=v+v,F=y+y,J=A+A;v*=E;var M=y*E;y*=F;var P=A*E,S=A*F;A*=J;E*=n;F*=n;n*=J;h[0]=1-y-A;h[1]=M+n;h[2]=P-F;h[3]=0;h[4]=M-n;h[5]=1-v-A;h[6]=S+E;h[7]=0;h[8]=P+F;h[9]=S-E;h[10]=1-v-y;h[11]=0;h[12]=0;h[13]=0;h[14]=0;h[15]=1;return h},Uia:function(h,n,v,y,A,E,F){var J=1/(v-n),M=1/(A-y),P=1/(E-F);h[0]=2*E*J;h[1]=0;h[2]=0;h[3]=0;h[4]=0;h[5]=
2*E*M;h[6]=0;h[7]=0;h[8]=(v+n)*J;h[9]=(A+y)*M;h[10]=(F+E)*P;h[11]=-1;h[12]=0;h[13]=0;h[14]=F*E*2*P;h[15]=0;return h},perspective:function(h,n,v,y,A){n=1/Math.tan(n/2);h[0]=n/v;h[1]=0;h[2]=0;h[3]=0;h[4]=0;h[5]=n;h[6]=0;h[7]=0;h[8]=0;h[9]=0;h[11]=-1;h[12]=0;h[13]=0;h[15]=0;null!=A&&Infinity!==A?(v=1/(y-A),h[10]=(A+y)*v,h[14]=2*A*y*v):(h[10]=-1,h[14]=-2*y);return h},Jya:function(h,n,v,y){var A=Math.tan(n.Lza*Math.PI/180),E=Math.tan(n.gxa*Math.PI/180),F=Math.tan(n.qya*Math.PI/180);n=Math.tan(n.fza*Math.PI/
180);var J=2/(F+n),M=2/(A+E);h[0]=J;h[1]=0;h[2]=0;h[3]=0;h[4]=0;h[5]=M;h[6]=0;h[7]=0;h[8]=-((F-n)*J*.5);h[9]=(A-E)*M*.5;h[10]=y/(v-y);h[11]=-1;h[12]=0;h[13]=0;h[14]=y*v/(v-y);h[15]=0;return h},Gja:function(h,n,v,y,A,E,F){var J=1/(n-v),M=1/(y-A),P=1/(E-F);h[0]=-2*J;h[1]=0;h[2]=0;h[3]=0;h[4]=0;h[5]=-2*M;h[6]=0;h[7]=0;h[8]=0;h[9]=0;h[10]=2*P;h[11]=0;h[12]=(n+v)*J;h[13]=(A+y)*M;h[14]=(F+E)*P;h[15]=1;return h},wja:function(h,n,v,y){var A=n[0],E=n[1];n=n[2];var F=y[0];var J=y[1];var M=y[2];var P=v[0];y=
v[1];var S=v[2];if(1E-6>Math.abs(A-P)&&1E-6>Math.abs(E-y)&&1E-6>Math.abs(n-S))return l(h);v=A-P;y=E-y;P=n-S;var T=1/Math.hypot(v,y,P);v*=T;y*=T;P*=T;S=J*P-M*y;M=M*v-F*P;F=F*y-J*v;(T=Math.hypot(S,M,F))?(T=1/T,S*=T,M*=T,F*=T):F=M=S=0;J=y*F-P*M;var X=P*S-v*F;var W=v*M-y*S;(T=Math.hypot(J,X,W))?(T=1/T,J*=T,X*=T,W*=T):W=X=J=0;h[0]=S;h[1]=J;h[2]=v;h[3]=0;h[4]=M;h[5]=X;h[6]=y;h[7]=0;h[8]=F;h[9]=W;h[10]=P;h[11]=0;h[12]=-(S*A+M*E+F*n);h[13]=-(J*A+X*E+W*n);h[14]=-(v*A+y*E+P*n);h[15]=1;return h},Bza:function(h,
n,v,y){var A=n[0],E=n[1];n=n[2];var F=y[0],J=y[1],M=y[2];y=A-v[0];var P=E-v[1];v=n-v[2];var S=y*y+P*P+v*v;0<S&&(S=1/Math.sqrt(S),y*=S,P*=S,v*=S);var T=J*v-M*P;M=M*y-F*v;F=F*P-J*y;S=T*T+M*M+F*F;0<S&&(S=1/Math.sqrt(S),T*=S,M*=S,F*=S);h[0]=T;h[1]=M;h[2]=F;h[3]=0;h[4]=P*F-v*M;h[5]=v*T-y*F;h[6]=y*M-P*T;h[7]=0;h[8]=y;h[9]=P;h[10]=v;h[11]=0;h[12]=A;h[13]=E;h[14]=n;h[15]=1;return h},Nn:function(h){return"mat4("+h[0]+", "+h[1]+", "+h[2]+", "+h[3]+", "+h[4]+", "+h[5]+", "+h[6]+", "+h[7]+", "+h[8]+", "+h[9]+
", "+h[10]+", "+h[11]+", "+h[12]+", "+h[13]+", "+h[14]+", "+h[15]+")"},oN:function(h){return Math.hypot(h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],h[8],h[9],h[10],h[11],h[12],h[13],h[14],h[15])},add:function(h,n,v){h[0]=n[0]+v[0];h[1]=n[1]+v[1];h[2]=n[2]+v[2];h[3]=n[3]+v[3];h[4]=n[4]+v[4];h[5]=n[5]+v[5];h[6]=n[6]+v[6];h[7]=n[7]+v[7];h[8]=n[8]+v[8];h[9]=n[9]+v[9];h[10]=n[10]+v[10];h[11]=n[11]+v[11];h[12]=n[12]+v[12];h[13]=n[13]+v[13];h[14]=n[14]+v[14];h[15]=n[15]+v[15];return h},On:t,CN:function(h,n,
v){h[0]=n[0]*v;h[1]=n[1]*v;h[2]=n[2]*v;h[3]=n[3]*v;h[4]=n[4]*v;h[5]=n[5]*v;h[6]=n[6]*v;h[7]=n[7]*v;h[8]=n[8]*v;h[9]=n[9]*v;h[10]=n[10]*v;h[11]=n[11]*v;h[12]=n[12]*v;h[13]=n[13]*v;h[14]=n[14]*v;h[15]=n[15]*v;return h},DN:function(h,n,v,y){h[0]=n[0]+v[0]*y;h[1]=n[1]+v[1]*y;h[2]=n[2]+v[2]*y;h[3]=n[3]+v[3]*y;h[4]=n[4]+v[4]*y;h[5]=n[5]+v[5]*y;h[6]=n[6]+v[6]*y;h[7]=n[7]+v[7]*y;h[8]=n[8]+v[8]*y;h[9]=n[9]+v[9]*y;h[10]=n[10]+v[10]*y;h[11]=n[11]+v[11]*y;h[12]=n[12]+v[12]*y;h[13]=n[13]+v[13]*y;h[14]=n[14]+v[14]*
y;h[15]=n[15]+v[15]*y;return h},Dk:function(h,n){return h[0]===n[0]&&h[1]===n[1]&&h[2]===n[2]&&h[3]===n[3]&&h[4]===n[4]&&h[5]===n[5]&&h[6]===n[6]&&h[7]===n[7]&&h[8]===n[8]&&h[9]===n[9]&&h[10]===n[10]&&h[11]===n[11]&&h[12]===n[12]&&h[13]===n[13]&&h[14]===n[14]&&h[15]===n[15]},hd:function(h,n){var v=h[0],y=h[1],A=h[2],E=h[3],F=h[4],J=h[5],M=h[6],P=h[7],S=h[8],T=h[9],X=h[10],W=h[11],fa=h[12],da=h[13],aa=h[14];h=h[15];var ua=n[0],pa=n[1],sa=n[2],ta=n[3],ra=n[4],Da=n[5],Ea=n[6],Fa=n[7],Ga=n[8],Ia=n[9],
Qa=n[10],Ra=n[11],Aa=n[12],Jb=n[13],Kb=n[14];n=n[15];return Math.abs(v-ua)<=1E-6*Math.max(1,Math.abs(v),Math.abs(ua))&&Math.abs(y-pa)<=1E-6*Math.max(1,Math.abs(y),Math.abs(pa))&&Math.abs(A-sa)<=1E-6*Math.max(1,Math.abs(A),Math.abs(sa))&&Math.abs(E-ta)<=1E-6*Math.max(1,Math.abs(E),Math.abs(ta))&&Math.abs(F-ra)<=1E-6*Math.max(1,Math.abs(F),Math.abs(ra))&&Math.abs(J-Da)<=1E-6*Math.max(1,Math.abs(J),Math.abs(Da))&&Math.abs(M-Ea)<=1E-6*Math.max(1,Math.abs(M),Math.abs(Ea))&&Math.abs(P-Fa)<=1E-6*Math.max(1,
Math.abs(P),Math.abs(Fa))&&Math.abs(S-Ga)<=1E-6*Math.max(1,Math.abs(S),Math.abs(Ga))&&Math.abs(T-Ia)<=1E-6*Math.max(1,Math.abs(T),Math.abs(Ia))&&Math.abs(X-Qa)<=1E-6*Math.max(1,Math.abs(X),Math.abs(Qa))&&Math.abs(W-Ra)<=1E-6*Math.max(1,Math.abs(W),Math.abs(Ra))&&Math.abs(fa-Aa)<=1E-6*Math.max(1,Math.abs(fa),Math.abs(Aa))&&Math.abs(da-Jb)<=1E-6*Math.max(1,Math.abs(da),Math.abs(Jb))&&Math.abs(aa-Kb)<=1E-6*Math.max(1,Math.abs(aa),Math.abs(Kb))&&Math.abs(h-n)<=1E-6*Math.max(1,Math.abs(h),Math.abs(n))},
Ap:m,sub:t}),ob=function(){var h=w();return function(n,v,y,A,E,F){v||(v=3);y||(y=0);for(A=A?Math.min(A*v+y,n.length):n.length;y<A;y+=v)h[0]=n[y],h[1]=n[y+1],h[2]=n[y+2],E(h,h,F),n[y]=h[0],n[y+1]=h[1],n[y+2]=h[2];return n}}();ob=Object.freeze({__proto__:null,create:w,clone:function(h){var n=new qa(3);n[0]=h[0];n[1]=h[1];n[2]=h[2];return n},length:x,Ag:z,Aa:function(h,n){h[0]=n[0];h[1]=n[1];h[2]=n[2];return h},set:function(h,n,v,y){h[0]=n;h[1]=v;h[2]=y;return h},add:function(h,n,v){h[0]=n[0]+v[0];h[1]=
n[1]+v[1];h[2]=n[2]+v[2];return h},On:D,multiply:G,Xl:N,ceil:function(h,n){h[0]=Math.ceil(n[0]);h[1]=Math.ceil(n[1]);h[2]=Math.ceil(n[2]);return h},floor:function(h,n){h[0]=Math.floor(n[0]);h[1]=Math.floor(n[1]);h[2]=Math.floor(n[2]);return h},min:function(h,n,v){h[0]=Math.min(n[0],v[0]);h[1]=Math.min(n[1],v[1]);h[2]=Math.min(n[2],v[2]);return h},max:function(h,n,v){h[0]=Math.max(n[0],v[0]);h[1]=Math.max(n[1],v[1]);h[2]=Math.max(n[2],v[2]);return h},round:function(h,n){h[0]=Math.round(n[0]);h[1]=
Math.round(n[1]);h[2]=Math.round(n[2]);return h},scale:function(h,n,v){h[0]=n[0]*v;h[1]=n[1]*v;h[2]=n[2]*v;return h},VN:function(h,n,v,y){h[0]=n[0]+v[0]*y;h[1]=n[1]+v[1]*y;h[2]=n[2]+v[2]*y;return h},$y:B,gZ:H,ZE:I,PY:function(h,n){h[0]=-n[0];h[1]=-n[1];h[2]=-n[2];return h},inverse:function(h,n){h[0]=1/n[0];h[1]=1/n[1];h[2]=1/n[2];return h},normalize:K,xp:Q,kN:R,Gd:function(h,n,v,y){var A=n[0],E=n[1];n=n[2];h[0]=A+y*(v[0]-A);h[1]=E+y*(v[1]-E);h[2]=n+y*(v[2]-n);return h},Qxa:function(h,n,v,y,A,E){var F=
E*E,J=F*(2*E-3)+1,M=F*(E-2)+E,P=F*(E-1);E=F*(3-2*E);h[0]=n[0]*J+v[0]*M+y[0]*P+A[0]*E;h[1]=n[1]*J+v[1]*M+y[1]*P+A[1]*E;h[2]=n[2]*J+v[2]*M+y[2]*P+A[2]*E;return h},Qwa:function(h,n,v,y,A,E){var F=1-E,J=F*F,M=E*E,P=J*F;J*=3*E;F*=3*M;E*=M;h[0]=n[0]*P+v[0]*J+y[0]*F+A[0]*E;h[1]=n[1]*P+v[1]*J+y[1]*F+A[1]*E;h[2]=n[2]*P+v[2]*J+y[2]*F+A[2]*E;return h},random:function(h,n){n=n||1;var v=2*Ka()*Math.PI,y=2*Ka()-1,A=Math.sqrt(1-y*y)*n;h[0]=Math.cos(v)*A;h[1]=Math.sin(v)*A;h[2]=y*n;return h},dO:function(h,n,v){var y=
n[0],A=n[1];n=n[2];var E=v[3]*y+v[7]*A+v[11]*n+v[15];E=E||1;h[0]=(v[0]*y+v[4]*A+v[8]*n+v[12])/E;h[1]=(v[1]*y+v[5]*A+v[9]*n+v[13])/E;h[2]=(v[2]*y+v[6]*A+v[10]*n+v[14])/E;return h},eka:function(h,n,v){var y=n[0],A=n[1];n=n[2];h[0]=y*v[0]+A*v[3]+n*v[6];h[1]=y*v[1]+A*v[4]+n*v[7];h[2]=y*v[2]+A*v[5]+n*v[8];return h},fka:function(h,n,v){var y=v[0],A=v[1],E=v[2],F=n[0],J=n[1];n=n[2];var M=A*n-E*J,P=E*F-y*n,S=y*J-A*F;v=2*v[3];h[0]=F+M*v+2*(A*S-E*P);h[1]=J+P*v+2*(E*M-y*S);h[2]=n+S*v+2*(y*P-A*M);return h},RN:function(h,
n,v,y){var A=[],E=[];A[0]=n[0]-v[0];A[1]=n[1]-v[1];A[2]=n[2]-v[2];E[0]=A[0];E[1]=A[1]*Math.cos(y)-A[2]*Math.sin(y);E[2]=A[1]*Math.sin(y)+A[2]*Math.cos(y);h[0]=E[0]+v[0];h[1]=E[1]+v[1];h[2]=E[2]+v[2];return h},SN:function(h,n,v,y){var A=[],E=[];A[0]=n[0]-v[0];A[1]=n[1]-v[1];A[2]=n[2]-v[2];E[0]=A[2]*Math.sin(y)+A[0]*Math.cos(y);E[1]=A[1];E[2]=A[2]*Math.cos(y)-A[0]*Math.sin(y);h[0]=E[0]+v[0];h[1]=E[1]+v[1];h[2]=E[2]+v[2];return h},TN:function(h,n,v,y){var A=[],E=[];A[0]=n[0]-v[0];A[1]=n[1]-v[1];A[2]=
n[2]-v[2];E[0]=A[0]*Math.cos(y)-A[1]*Math.sin(y);E[1]=A[0]*Math.sin(y)+A[1]*Math.cos(y);E[2]=A[2];h[0]=E[0]+v[0];h[1]=E[1]+v[1];h[2]=E[2]+v[2];return h},angle:function(h,n){var v=h[0],y=h[1],A=h[2],E=n[0],F=n[1],J=n[2];h=(v=Math.sqrt(v*v+y*y+A*A)*Math.sqrt(E*E+F*F+J*J))&&Q(h,n)/v;return Math.acos(Math.min(Math.max(h,-1),1))},sZ:function(h){h[0]=0;h[1]=0;h[2]=0;return h},Nn:function(h){return"vec3("+h[0]+", "+h[1]+", "+h[2]+")"},Dk:function(h,n){return h[0]===n[0]&&h[1]===n[1]&&h[2]===n[2]},hd:function(h,
n){var v=h[0],y=h[1];h=h[2];var A=n[0],E=n[1];n=n[2];return Math.abs(v-A)<=1E-6*Math.max(1,Math.abs(v),Math.abs(A))&&Math.abs(y-E)<=1E-6*Math.max(1,Math.abs(y),Math.abs(E))&&Math.abs(h-n)<=1E-6*Math.max(1,Math.abs(h),Math.abs(n))},sub:D,Ap:G,BY:N,zY:B,fZ:H,gz:x,YE:I,forEach:ob});var pb=function(){var h=U();return function(n,v,y,A,E,F){v||(v=4);y||(y=0);for(A=A?Math.min(A*v+y,n.length):n.length;y<A;y+=v)h[0]=n[y],h[1]=n[y+1],h[2]=n[y+2],h[3]=n[y+3],E(h,h,F),n[y]=h[0],n[y+1]=h[1],n[y+2]=h[2],n[y+3]=
h[3];return n}}();pb=Object.freeze({__proto__:null,create:U,clone:Z,Ag:ca,Aa:Y,set:ha,add:ka,On:za,multiply:Oa,Xl:ab,ceil:function(h,n){h[0]=Math.ceil(n[0]);h[1]=Math.ceil(n[1]);h[2]=Math.ceil(n[2]);h[3]=Math.ceil(n[3]);return h},floor:function(h,n){h[0]=Math.floor(n[0]);h[1]=Math.floor(n[1]);h[2]=Math.floor(n[2]);h[3]=Math.floor(n[3]);return h},min:function(h,n,v){h[0]=Math.min(n[0],v[0]);h[1]=Math.min(n[1],v[1]);h[2]=Math.min(n[2],v[2]);h[3]=Math.min(n[3],v[3]);return h},max:function(h,n,v){h[0]=
Math.max(n[0],v[0]);h[1]=Math.max(n[1],v[1]);h[2]=Math.max(n[2],v[2]);h[3]=Math.max(n[3],v[3]);return h},round:function(h,n){h[0]=Math.round(n[0]);h[1]=Math.round(n[1]);h[2]=Math.round(n[2]);h[3]=Math.round(n[3]);return h},scale:Ua,VN:function(h,n,v,y){h[0]=n[0]+v[0]*y;h[1]=n[1]+v[1]*y;h[2]=n[2]+v[2]*y;h[3]=n[3]+v[3]*y;return h},$y:bb,gZ:mb,length:Va,ZE:Pa,PY:function(h,n){h[0]=-n[0];h[1]=-n[1];h[2]=-n[2];h[3]=-n[3];return h},inverse:function(h,n){h[0]=1/n[0];h[1]=1/n[1];h[2]=1/n[2];h[3]=1/n[3];return h},
normalize:fb,xp:cb,kN:function(h,n,v,y){var A=v[0]*y[1]-v[1]*y[0],E=v[0]*y[2]-v[2]*y[0],F=v[0]*y[3]-v[3]*y[0],J=v[1]*y[2]-v[2]*y[1],M=v[1]*y[3]-v[3]*y[1];v=v[2]*y[3]-v[3]*y[2];y=n[0];var P=n[1],S=n[2];n=n[3];h[0]=P*v-S*M+n*J;h[1]=-(y*v)+S*F-n*E;h[2]=y*M-P*F+n*A;h[3]=-(y*J)+P*E-S*A;return h},Gd:ub,random:function(h,n){n=n||1;do{var v=2*Ka()-1;var y=2*Ka()-1;var A=v*v+y*y}while(1<=A);do{var E=2*Ka()-1;var F=2*Ka()-1;var J=E*E+F*F}while(1<=J);A=Math.sqrt((1-A)/J);h[0]=n*v;h[1]=n*y;h[2]=n*E*A;h[3]=n*
F*A;return h},dO:function(h,n,v){var y=n[0],A=n[1],E=n[2];n=n[3];h[0]=v[0]*y+v[4]*A+v[8]*E+v[12]*n;h[1]=v[1]*y+v[5]*A+v[9]*E+v[13]*n;h[2]=v[2]*y+v[6]*A+v[10]*E+v[14]*n;h[3]=v[3]*y+v[7]*A+v[11]*E+v[15]*n;return h},fka:function(h,n,v){var y=n[0],A=n[1],E=n[2],F=v[0],J=v[1],M=v[2];v=v[3];var P=v*y+J*E-M*A,S=v*A+M*y-F*E,T=v*E+F*A-J*y;y=-F*y-J*A-M*E;h[0]=P*v+y*-F+S*-M-T*-J;h[1]=S*v+y*-J+T*-F-P*-M;h[2]=T*v+y*-M+P*-J-S*-F;h[3]=n[3];return h},sZ:function(h){h[0]=0;h[1]=0;h[2]=0;h[3]=0;return h},Nn:function(h){return"vec4("+
h[0]+", "+h[1]+", "+h[2]+", "+h[3]+")"},Dk:vb,hd:wb,sub:za,Ap:Oa,BY:ab,zY:bb,fZ:mb,gz:Va,YE:Pa,forEach:pb});var qb=function(){var h=w(),n=z(1,0,0),v=z(0,1,0);return function(y,A,E){var F=Q(A,E);if(-.999999>F)return R(h,n,A),1E-6>x(h)&&R(h,v,A),K(h,h),xb(y,h,Math.PI),y;if(.999999<F)return y[0]=0,y[1]=0,y[2]=0,y[3]=1,y;R(h,A,E);y[0]=h[0];y[1]=h[1];y[2]=h[2];y[3]=1+F;return fb(y,y)}}(),rb=function(){var h=gb(),n=gb();return function(v,y,A,E,F,J){hb(h,y,F,J);hb(n,A,E,J);hb(v,h,n,2*J*(1-J));return v}}(),
db=function(){var h=f();return function(n,v,y,A){h[0]=y[0];h[3]=y[1];h[6]=y[2];h[1]=A[0];h[4]=A[1];h[7]=A[2];h[2]=-v[0];h[5]=-v[1];h[8]=-v[2];return fb(n,Eb(n,h))}}();qb=Object.freeze({__proto__:null,create:gb,cz:function(h){h[0]=0;h[1]=0;h[2]=0;h[3]=1;return h},sza:xb,Hxa:function(h,n){var v=2*Math.acos(n[3]),y=Math.sin(v/2);1E-6<y?(h[0]=n[0]/y,h[1]=n[1]/y,h[2]=n[2]/y):(h[0]=1,h[1]=0,h[2]=0);return v},Fxa:function(h,n){h=cb(h,n);return Math.acos(2*h*h-1)},multiply:yb,RN:zb,SN:Ab,TN:Bb,Rwa:function(h,
n){var v=n[0],y=n[1];n=n[2];h[0]=v;h[1]=y;h[2]=n;h[3]=Math.sqrt(Math.abs(1-v*v-y*y-n*n));return h},exp:Cb,uja:Db,pow:function(h,n,v){Db(h,n);Ua(h,h,v);Cb(h,h);return h},xza:hb,random:function(h){var n=Ka(),v=Ka(),y=Ka(),A=Math.sqrt(1-n);n=Math.sqrt(n);h[0]=A*Math.sin(2*Math.PI*v);h[1]=A*Math.cos(2*Math.PI*v);h[2]=n*Math.sin(2*Math.PI*y);h[3]=n*Math.cos(2*Math.PI*y);return h},Ku:function(h,n){var v=n[0],y=n[1],A=n[2];n=n[3];var E=v*v+y*y+A*A+n*n;E=E?1/E:0;h[0]=-v*E;h[1]=-y*E;h[2]=-A*E;h[3]=n*E;return h},
Bia:function(h,n){h[0]=-n[0];h[1]=-n[1];h[2]=-n[2];h[3]=n[3];return h},txa:Eb,rxa:function(h,n,v,y){var A=.5*Math.PI/180;n*=A;v*=A;y*=A;A=Math.sin(n);n=Math.cos(n);var E=Math.sin(v);v=Math.cos(v);var F=Math.sin(y);y=Math.cos(y);h[0]=A*v*y-n*E*F;h[1]=n*E*y+A*v*F;h[2]=n*v*F-A*E*y;h[3]=n*v*y+A*E*F;return h},Nn:function(h){return"quat("+h[0]+", "+h[1]+", "+h[2]+", "+h[3]+")"},clone:Z,Ag:ca,Aa:Y,set:ha,add:ka,Ap:yb,scale:Ua,xp:cb,Gd:ub,length:Va,gz:Va,ZE:Pa,YE:Pa,normalize:fb,Dk:vb,hd:wb,jza:qb,yza:rb,
rza:db});rb=Object.freeze({__proto__:null,create:function(){var h=new qa(8);qa!=Float32Array&&(h[0]=0,h[1]=0,h[2]=0,h[4]=0,h[5]=0,h[6]=0,h[7]=0);h[3]=1;return h},clone:function(h){var n=new qa(8);n[0]=h[0];n[1]=h[1];n[2]=h[2];n[3]=h[3];n[4]=h[4];n[5]=h[5];n[6]=h[6];n[7]=h[7];return n},Ag:function(h,n,v,y,A,E,F,J){var M=new qa(8);M[0]=h;M[1]=n;M[2]=v;M[3]=y;M[4]=A;M[5]=E;M[6]=F;M[7]=J;return M},xxa:function(h,n,v,y,A,E,F){var J=new qa(8);J[0]=h;J[1]=n;J[2]=v;J[3]=y;A*=.5;E*=.5;F*=.5;J[4]=A*y+E*v-F*
n;J[5]=E*y+F*h-A*v;J[6]=F*y+A*n-E*h;J[7]=-A*h-E*n-F*v;return J},Tia:Fb,qN:function(h,n){h[0]=0;h[1]=0;h[2]=0;h[3]=1;h[4]=.5*n[0];h[5]=.5*n[1];h[6]=.5*n[2];h[7]=0;return h},JE:function(h,n){h[0]=n[0];h[1]=n[1];h[2]=n[2];h[3]=n[3];h[4]=0;h[5]=0;h[6]=0;h[7]=0;return h},Ria:function(h,n){var v=gb();u(v,n);var y=new qa(3);r(y,n);Fb(h,v,y);return h},Aa:Gb,cz:function(h){h[0]=0;h[1]=0;h[2]=0;h[3]=1;h[4]=0;h[5]=0;h[6]=0;h[7]=0;return h},set:function(h,n,v,y,A,E,F,J,M){h[0]=n;h[1]=v;h[2]=y;h[3]=A;h[4]=E;h[5]=
F;h[6]=J;h[7]=M;return h},Jxa:Y,Ixa:function(h,n){h[0]=n[4];h[1]=n[5];h[2]=n[6];h[3]=n[7];return h},vza:Y,tza:function(h,n){h[4]=n[0];h[5]=n[1];h[6]=n[2];h[7]=n[3];return h},Wia:function(h,n){var v=n[4],y=n[5],A=n[6],E=n[7],F=-n[0],J=-n[1],M=-n[2];n=n[3];h[0]=2*(v*n+E*F+y*M-A*J);h[1]=2*(y*n+E*J+A*F-v*M);h[2]=2*(A*n+E*M+v*J-y*F);return h},translate:function(h,n,v){var y=n[0],A=n[1],E=n[2],F=n[3],J=.5*v[0],M=.5*v[1];v=.5*v[2];var P=n[4],S=n[5],T=n[6];n=n[7];h[0]=y;h[1]=A;h[2]=E;h[3]=F;h[4]=F*J+A*v-
E*M+P;h[5]=F*M+E*J-y*v+S;h[6]=F*v+y*M-A*J+T;h[7]=-y*J-A*M-E*v+n;return h},RN:function(h,n,v){var y=-n[0],A=-n[1],E=-n[2],F=n[3],J=n[4],M=n[5],P=n[6],S=n[7],T=J*F+S*y+M*E-P*A,X=M*F+S*A+P*y-J*E,W=P*F+S*E+J*A-M*y;J=S*F-J*y-M*A-P*E;zb(h,n,v);y=h[0];A=h[1];E=h[2];F=h[3];h[4]=T*F+J*y+X*E-W*A;h[5]=X*F+J*A+W*y-T*E;h[6]=W*F+J*E+T*A-X*y;h[7]=J*F-T*y-X*A-W*E;return h},SN:function(h,n,v){var y=-n[0],A=-n[1],E=-n[2],F=n[3],J=n[4],M=n[5],P=n[6],S=n[7],T=J*F+S*y+M*E-P*A,X=M*F+S*A+P*y-J*E,W=P*F+S*E+J*A-M*y;J=S*F-
J*y-M*A-P*E;Ab(h,n,v);y=h[0];A=h[1];E=h[2];F=h[3];h[4]=T*F+J*y+X*E-W*A;h[5]=X*F+J*A+W*y-T*E;h[6]=W*F+J*E+T*A-X*y;h[7]=J*F-T*y-X*A-W*E;return h},TN:function(h,n,v){var y=-n[0],A=-n[1],E=-n[2],F=n[3],J=n[4],M=n[5],P=n[6],S=n[7],T=J*F+S*y+M*E-P*A,X=M*F+S*A+P*y-J*E,W=P*F+S*E+J*A-M*y;J=S*F-J*y-M*A-P*E;Bb(h,n,v);y=h[0];A=h[1];E=h[2];F=h[3];h[4]=T*F+J*y+X*E-W*A;h[5]=X*F+J*A+W*y-T*E;h[6]=W*F+J*E+T*A-X*y;h[7]=J*F-T*y-X*A-W*E;return h},hza:function(h,n,v){var y=v[0],A=v[1],E=v[2];v=v[3];var F=n[0],J=n[1],M=
n[2],P=n[3];h[0]=F*v+P*y+J*E-M*A;h[1]=J*v+P*A+M*y-F*E;h[2]=M*v+P*E+F*A-J*y;h[3]=P*v-F*y-J*A-M*E;F=n[4];J=n[5];M=n[6];P=n[7];h[4]=F*v+P*y+J*E-M*A;h[5]=J*v+P*A+M*y-F*E;h[6]=M*v+P*E+F*A-J*y;h[7]=P*v-F*y-J*A-M*E;return h},iza:function(h,n,v){var y=n[0],A=n[1],E=n[2];n=n[3];var F=v[0],J=v[1],M=v[2],P=v[3];h[0]=y*P+n*F+A*M-E*J;h[1]=A*P+n*J+E*F-y*M;h[2]=E*P+n*M+y*J-A*F;h[3]=n*P-y*F-A*J-E*M;F=v[4];J=v[5];M=v[6];P=v[7];h[4]=y*P+n*F+A*M-E*J;h[5]=A*P+n*J+E*F-y*M;h[6]=E*P+n*M+y*J-A*F;h[7]=n*P-y*F-A*J-E*M;return h},
gza:function(h,n,v,y){if(1E-6>Math.abs(y))return Gb(h,n);var A=Math.hypot(v[0],v[1],v[2]);y*=.5;var E=Math.sin(y),F=E*v[0]/A,J=E*v[1]/A;v=E*v[2]/A;y=Math.cos(y);A=n[0];E=n[1];var M=n[2],P=n[3];h[0]=A*y+P*F+E*v-M*J;h[1]=E*y+P*J+M*F-A*v;h[2]=M*y+P*v+A*J-E*F;h[3]=P*y-A*F-E*J-M*v;A=n[4];E=n[5];M=n[6];n=n[7];h[4]=A*y+n*F+E*v-M*J;h[5]=E*y+n*J+M*F-A*v;h[6]=M*y+n*v+A*J-E*F;h[7]=n*y-A*F-E*J-M*v;return h},add:function(h,n,v){h[0]=n[0]+v[0];h[1]=n[1]+v[1];h[2]=n[2]+v[2];h[3]=n[3]+v[3];h[4]=n[4]+v[4];h[5]=n[5]+
v[5];h[6]=n[6]+v[6];h[7]=n[7]+v[7];return h},multiply:Hb,Ap:Hb,scale:function(h,n,v){h[0]=n[0]*v;h[1]=n[1]*v;h[2]=n[2]*v;h[3]=n[3]*v;h[4]=n[4]*v;h[5]=n[5]*v;h[6]=n[6]*v;h[7]=n[7]*v;return h},xp:cb,Gd:function(h,n,v,y){var A=1-y;0>cb(n,v)&&(y=-y);h[0]=n[0]*A+v[0]*y;h[1]=n[1]*A+v[1]*y;h[2]=n[2]*A+v[2]*y;h[3]=n[3]*A+v[3]*y;h[4]=n[4]*A+v[4]*y;h[5]=n[5]*A+v[5]*y;h[6]=n[6]*A+v[6]*y;h[7]=n[7]*A+v[7]*y;return h},Ku:function(h,n){var v=Pa(n);h[0]=-n[0]/v;h[1]=-n[1]/v;h[2]=-n[2]/v;h[3]=n[3]/v;h[4]=-n[4]/v;
h[5]=-n[5]/v;h[6]=-n[6]/v;h[7]=n[7]/v;return h},Bia:function(h,n){h[0]=-n[0];h[1]=-n[1];h[2]=-n[2];h[3]=n[3];h[4]=-n[4];h[5]=-n[5];h[6]=-n[6];h[7]=n[7];return h},length:Va,gz:Va,ZE:Pa,YE:Pa,normalize:function(h,n){var v=Pa(n);if(0<v){v=Math.sqrt(v);var y=n[0]/v,A=n[1]/v,E=n[2]/v,F=n[3]/v,J=n[4],M=n[5],P=n[6];n=n[7];var S=y*J+A*M+E*P+F*n;h[0]=y;h[1]=A;h[2]=E;h[3]=F;h[4]=(J-y*S)/v;h[5]=(M-A*S)/v;h[6]=(P-E*S)/v;h[7]=(n-F*S)/v}return h},Nn:function(h){return"quat2("+h[0]+", "+h[1]+", "+h[2]+", "+h[3]+
", "+h[4]+", "+h[5]+", "+h[6]+", "+h[7]+")"},Dk:function(h,n){return h[0]===n[0]&&h[1]===n[1]&&h[2]===n[2]&&h[3]===n[3]&&h[4]===n[4]&&h[5]===n[5]&&h[6]===n[6]&&h[7]===n[7]},hd:function(h,n){var v=h[0],y=h[1],A=h[2],E=h[3],F=h[4],J=h[5],M=h[6];h=h[7];var P=n[0],S=n[1],T=n[2],X=n[3],W=n[4],fa=n[5],da=n[6];n=n[7];return Math.abs(v-P)<=1E-6*Math.max(1,Math.abs(v),Math.abs(P))&&Math.abs(y-S)<=1E-6*Math.max(1,Math.abs(y),Math.abs(S))&&Math.abs(A-T)<=1E-6*Math.max(1,Math.abs(A),Math.abs(T))&&Math.abs(E-
X)<=1E-6*Math.max(1,Math.abs(E),Math.abs(X))&&Math.abs(F-W)<=1E-6*Math.max(1,Math.abs(F),Math.abs(W))&&Math.abs(J-fa)<=1E-6*Math.max(1,Math.abs(J),Math.abs(fa))&&Math.abs(M-da)<=1E-6*Math.max(1,Math.abs(M),Math.abs(da))&&Math.abs(h-n)<=1E-6*Math.max(1,Math.abs(h),Math.abs(n))}});db=function(){var h=ib();return function(n,v,y,A,E,F){v||(v=2);y||(y=0);for(A=A?Math.min(A*v+y,n.length):n.length;y<A;y+=v)h[0]=n[y],h[1]=n[y+1],E(h,h,F),n[y]=h[0],n[y+1]=h[1];return n}}();db=Object.freeze({__proto__:null,
create:ib,clone:function(h){var n=new qa(2);n[0]=h[0];n[1]=h[1];return n},Ag:function(h,n){var v=new qa(2);v[0]=h;v[1]=n;return v},Aa:function(h,n){h[0]=n[0];h[1]=n[1];return h},set:function(h,n,v){h[0]=n;h[1]=v;return h},add:function(h,n,v){h[0]=n[0]+v[0];h[1]=n[1]+v[1];return h},On:Sa,multiply:jb,Xl:kb,ceil:function(h,n){h[0]=Math.ceil(n[0]);h[1]=Math.ceil(n[1]);return h},floor:function(h,n){h[0]=Math.floor(n[0]);h[1]=Math.floor(n[1]);return h},min:function(h,n,v){h[0]=Math.min(n[0],v[0]);h[1]=
Math.min(n[1],v[1]);return h},max:function(h,n,v){h[0]=Math.max(n[0],v[0]);h[1]=Math.max(n[1],v[1]);return h},round:function(h,n){h[0]=Math.round(n[0]);h[1]=Math.round(n[1]);return h},scale:function(h,n,v){h[0]=n[0]*v;h[1]=n[1]*v;return h},VN:function(h,n,v,y){h[0]=n[0]+v[0]*y;h[1]=n[1]+v[1]*y;return h},$y:Wa,gZ:lb,length:Ma,ZE:nb,PY:function(h,n){h[0]=-n[0];h[1]=-n[1];return h},inverse:function(h,n){h[0]=1/n[0];h[1]=1/n[1];return h},normalize:function(h,n){var v=n[0],y=n[1];v=v*v+y*y;0<v&&(v=1/Math.sqrt(v));
h[0]=n[0]*v;h[1]=n[1]*v;return h},xp:function(h,n){return h[0]*n[0]+h[1]*n[1]},kN:function(h,n,v){n=n[0]*v[1]-n[1]*v[0];h[0]=h[1]=0;h[2]=n;return h},Gd:function(h,n,v,y){var A=n[0];n=n[1];h[0]=A+y*(v[0]-A);h[1]=n+y*(v[1]-n);return h},random:function(h,n){n=n||1;var v=2*Ka()*Math.PI;h[0]=Math.cos(v)*n;h[1]=Math.sin(v)*n;return h},Iza:function(h,n,v){var y=n[0];n=n[1];h[0]=v[0]*y+v[2]*n;h[1]=v[1]*y+v[3]*n;return h},Jza:function(h,n,v){var y=n[0];n=n[1];h[0]=v[0]*y+v[2]*n+v[4];h[1]=v[1]*y+v[3]*n+v[5];
return h},eka:function(h,n,v){var y=n[0];n=n[1];h[0]=v[0]*y+v[3]*n+v[6];h[1]=v[1]*y+v[4]*n+v[7];return h},dO:function(h,n,v){var y=n[0];n=n[1];h[0]=v[0]*y+v[4]*n+v[12];h[1]=v[1]*y+v[5]*n+v[13];return h},rotate:function(h,n,v,y){var A=n[0]-v[0];n=n[1]-v[1];var E=Math.sin(y);y=Math.cos(y);h[0]=A*y-n*E+v[0];h[1]=A*E+n*y+v[1];return h},angle:function(h,n){var v=h[0];h=h[1];var y=n[0];n=n[1];var A=Math.sqrt(v*v+h*h)*Math.sqrt(y*y+n*n);return Math.acos(Math.min(Math.max(A&&(v*y+h*n)/A,-1),1))},sZ:function(h){h[0]=
0;h[1]=0;return h},Nn:function(h){return"vec2("+h[0]+", "+h[1]+")"},Dk:function(h,n){return h[0]===n[0]&&h[1]===n[1]},hd:function(h,n){var v=h[0];h=h[1];var y=n[0];n=n[1];return Math.abs(v-y)<=1E-6*Math.max(1,Math.abs(v),Math.abs(y))&&Math.abs(h-n)<=1E-6*Math.max(1,Math.abs(h),Math.abs(n))},gz:Ma,sub:Sa,Ap:jb,BY:kb,zY:Wa,fZ:lb,YE:nb,forEach:db});d.Zl=Ob;d.uya=Pb;d.vya=Qb;d.wya=Rb;d.zp=Sb;d.Rya=qb;d.Sya=rb;d.Qza=db;d.cF=ob;d.sz=pb;Object.defineProperty(d,"__esModule",{value:!0})}
"object"===typeof exports&&"undefined"!==typeof module?Xa(exports):"function"===typeof define&&define.Jwa?define(["exports"],Xa):(Ta=Ta||self,Xa(Ta.Zl={}));
{"use strict";function d(t,w,x,z){var D=w[0]-t[0];w=w[1]-t[1];var G=z[0]-x[0],N=z[1]-x[1];if(0===G*w-N*D)return!1;z=(D*(x[1]-t[1])+w*(t[0]-x[0]))/(G*w-N*D);t=(G*(t[1]-x[1])+N*(x[0]-t[0]))/(N*D-G*w);return 0<=z&&1>=z&&0<=t&&1>=t}function a(t,w,x){return(w[0]-t[0])*(x[1]-t[1])-(x[0]-t[0])*(w[1]-t[1])}function b(t,w,x){return 0<a(t,w,x)}function e(t,w,x){return 0<=a(t,w,x)}function c(t,w,x){return 0>=a(t,w,x)}var Ya=[],Za=[];function f(t,w){var x=w[0]-t[0];t=w[1]-t[1];return x*x+t*t}function k(t,w){var x=
t.length;return t[0>w?w%x+x:w%x]}function g(t,w,x,z){for(;x<z;x++)t.push(w[x])}function l(t,w){var x=k(t,w-1),z=k(t,w);t=k(t,w+1);return 0>a(x,z,t)}var $a=[],sb=[];function m(t,w,x,z){z=z||[];z.length=0;if(w<x)for(var D=w;D<=x;D++)z.push(t[D]);else{for(D=0;D<=x;D++)z.push(t[D]);for(D=w;D<t.length;D++)z.push(t[D])}return z}function q(t){for(var w=[],x,z,D=[],G=Number.MAX_VALUE,N=0;N<t.length;++N)if(l(t,N))for(var B=0;B<t.length;++B){a:{z=t;var H=N,I=B;if(e(k(z,H+1),k(z,H),k(z,I))&&c(k(z,H-1),k(z,H),
k(z,I)))x=!1;else{x=f(k(z,H),k(z,I));for(var K=0;K!==z.length;++K)if((K+1)%z.length!==H&&K!==H&&e(k(z,H),k(z,I),k(z,K+1))&&c(k(z,H),k(z,I),k(z,K))){$a[0]=k(z,H);$a[1]=k(z,I);sb[0]=k(z,K);sb[1]=k(z,K+1);var Q=[0,0];var R=$a[1][1]-$a[0][1];var U=$a[0][0]-$a[1][0];var Z=R*$a[0][0]+U*$a[0][1];var ca=sb[1][1]-sb[0][1];var Y=sb[0][0]-sb[1][0];var ha=ca*sb[0][0]+Y*sb[0][1];var ka=R*Y-ca*U;0>=Math.abs(ka-0)||(Q[0]=(Y*Z-U*ha)/ka,Q[1]=(R*ha-ca*Z)/ka);ka=Q;if(f(k(z,H),ka)<x){x=!1;break a}}x=!0}}if(x){x=q(m(t,
N,B,D));z=q(m(t,B,N,D));for(H=0;H<z.length;H++)x.push(z[H]);x.length<G&&(w=x,G=x.length,w.push([k(t,N),k(t,B)]))}}return w}function r(t,w){if(0===w.length)return[t];if(w instanceof Array&&w.length&&w[0]instanceof Array&&2===w[0].length&&w[0][0]instanceof Array){t=[t];for(var x=0;x<w.length;x++)for(var z=w[x],D=0;D<t.length;D++){var G=r(t[D],z);if(G){t.splice(D,1);t.push(G[0],G[1]);break}}return t}z=w;x=t.indexOf(z[0]);D=t.indexOf(z[1]);return-1!==x&&-1!==D?[m(t,x,D),m(t,D,x)]:!1}function p(t,w,x,
z,D){var G=w[1]-t[1];w=t[0]-w[0];t=G*t[0]+w*t[1];var N=z[1]-x[1];z=x[0]-z[0];x=N*x[0]+z*x[1];var B=G*z-N*w;return Math.abs(B-0)<=(D||0)?[0,0]:[(z*t-w*x)/B,(G*x-N*t)/B]}function u(t,w,x,z,D,G,N){G=G||100;N=N||0;D=D||25;w="undefined"!==typeof w?w:[];x=x||[];z=z||[];var B=[0,0],H=[0,0],I=[0,0],K,Q=0,R=0,U=0,Z=[],ca=[];if(3>t.length)return w;N++;if(N>G)return console.warn("quickDecomp: max level ("+G+") reached."),w;for(var Y=0;Y<t.length;++Y)if(l(t,Y)){x.push(t[Y]);var ha=K=Number.MAX_VALUE;for(var ka=
0;ka<t.length;++ka){if(b(k(t,Y-1),k(t,Y),k(t,ka))&&c(k(t,Y-1),k(t,Y),k(t,ka-1))){I=p(k(t,Y-1),k(t,Y),k(t,ka),k(t,ka-1));var za=k(t,Y+1);var Oa=k(t,Y);0>a(za,Oa,I)&&(za=f(t[Y],I),za<K&&(K=za,H=I,R=ka))}b(k(t,Y+1),k(t,Y),k(t,ka+1))&&c(k(t,Y+1),k(t,Y),k(t,ka))&&(I=p(k(t,Y+1),k(t,Y),k(t,ka),k(t,ka+1)),b(k(t,Y-1),k(t,Y),I)&&(za=f(t[Y],I),za<ha&&(ha=za,B=I,Q=ka)))}if(R===(Q+1)%t.length)I[0]=(H[0]+B[0])/2,I[1]=(H[1]+B[1])/2,z.push(I),Y<Q?(g(Z,t,Y,Q+1),Z.push(I),ca.push(I),0!==R&&g(ca,t,R,t.length),g(ca,
t,0,Y+1)):(0!==Y&&g(Z,t,Y,t.length),g(Z,t,0,Q+1),Z.push(I),ca.push(I),g(ca,t,R,Y+1));else{R>Q&&(Q+=t.length);B=Number.MAX_VALUE;if(Q<R)return w;for(ka=R;ka<=Q;++ka)if(e(k(t,Y-1),k(t,Y),k(t,ka))&&c(k(t,Y+1),k(t,Y),k(t,ka))){za=f(k(t,Y),k(t,ka));if(R=za<B)a:{R=t;H=Y;I=ka;for(ha=0;ha!==R.length;++ha)if(ha!==H&&ha!==I&&(ha+1)%R.length!==H&&(ha+1)%R.length!==I&&d(k(R,H),k(R,I),k(R,ha),k(R,ha+1))){R=!1;break a}R=!0}R&&(B=za,U=ka%t.length)}Y<U?(g(Z,t,Y,U+1),0!==U&&g(ca,t,U,t.length),g(ca,t,0,Y+1)):(0!==
Y&&g(Z,t,Y,t.length),g(Z,t,0,U+1),g(ca,t,U,Y+1))}Z.length<ca.length?(u(Z,w,x,z,D,G,N),u(ca,w,x,z,D,G,N)):(u(ca,w,x,z,D,G,N),u(Z,w,x,z,D,G,N));return w}w.push(t);return w}self.Mya={exa:function(t){var w=q(t);return 0<w.length?r(t,w):[t]},Tya:u,Xxa:function(t){var w;for(w=0;w<t.length-1;w++)for(var x=0;x<w-1;x++)if(d(t[w],t[w+1],t[x],t[x+1]))return!1;for(w=1;w<t.length-2;w++)if(d(t[0],t[t.length-1],t[w],t[w+1]))return!1;return!0},Yya:function(t,w){for(var x=0,z=t.length-1;3<t.length&&0<=z;--z){var D=
k(t,z-1);var G=k(t,z),N=k(t,z+1),B=w;B?(Ya[0]=G[0]-D[0],Ya[1]=G[1]-D[1],Za[0]=N[0]-G[0],Za[1]=N[1]-G[1],D=Math.acos((Ya[0]*Za[0]+Ya[1]*Za[1])/(Math.sqrt(Ya[0]*Ya[0]+Ya[1]*Ya[1])*Math.sqrt(Za[0]*Za[0]+Za[1]*Za[1])))<B):D=0===a(D,G,N);D&&(t.splice(z%t.length,1),x++)}return x},Zya:function(t,w){for(var x=t.length-1;1<=x;--x)for(var z=t[x],D=x-1;0<=D;--D){var G=z,N=t[D],B=w;Math.abs(G[0]-N[0])<=(B||0)&&Math.abs(G[1]-N[1])<=(B||0)&&t.splice(x,1)}},tya:function(t){for(var w=0,x=1;x<t.length;++x)if(t[x][1]<
t[w][1]||t[x][1]===t[w][1]&&t[x][0]>t[w][0])w=x;if(b(k(t,w-1),k(t,w),k(t,w+1)))return!1;w=[];x=t.length;for(var z=0;z!==x;z++)w.push(t.pop());for(z=0;z!==x;z++)t[z]=w[z];return!0}}}{"use strict";const d=self.C=class{constructor(){throw TypeError("static class can't be instantiated");}};d.Lu=!1;d.wN=!1;d.hardwareConcurrency=navigator.hardwareConcurrency||2;self.Eg={}}
{"use strict";const d=self.C;d.$Q=class{constructor(a){this.Sha=a;this.Sa=new Map;this.Uda()}Uda(){var a=this.Sha;if(a.startsWith("?")||a.startsWith("#"))a=a.substr(1);a=a.split("&");for(const b of a)this.Vda(b)}Vda(a){if(a)if(a.includes("=")){var b=a.indexOf("="),e=decodeURIComponent(a.substring(0,b));a=decodeURIComponent(a.substring(b+1));this.Sa.set(e,a)}else this.Sa.set(a,null)}yA(a){return this.Sa.has(a)}na(a){a=this.Sa.get(a);return"undefined"===typeof a?null:a}};d.kH=new d.$Q(location.search);
d.Qpa=new d.$Q(location.hash);d.kH.na("mode")}
{"use strict";const d=self.C,a=navigator.userAgent;let b={tja:/linux|openbsd|freebsd|netbsd/i.test(a),yia:/CrOS/.test(a),dF:/trident|iemobile|msie|tizen/i.test(a),Exa:/trident|iemobile|msie|edge\//i.test(a),opera:/OPR\//.test(a),rY:/bb10/i.test(a),Pia:/edge\//i.test(a),lZ:/trident/i.test(a),webkit:/webkit/i.test(a),Sja:/safari\//i.test(a),xia:/chrome\//i.test(a),zia:/chromium\//i.test(a),Cia:/crosswalk|xwalk/i.test(a),Dya:/nwjs/i.test(a),lia:/amazonwebappplatform/i.test(a),kka:/wv\)/.test(a),mia:/android/i.test(a),
Cja:/nokiabrowser\/[0-9.]+/i.test(a)};var tb=/mac\s+os\s+x\s+[0-9_]+/i.exec(a),Lb=/android\s+[0-9.]+/i.exec(a),Mb=/OPR\/[0-9.]+/.exec(a),Nb=/tizen\s+[0-9.]+/i.exec(a),Tb=/iphone\s+os\s+[0-9_]+/i.exec(a),Ub=/ipad[^)]*os\s+[0-9_]+/i.exec(a),Vb=/windows\s+phone\s+[0-9.]+/i.exec(a),Wb=/windows\s+phone\s+os\s+[0-9.]+/i.exec(a),Xb=/chrome\/[0-9.]+/i.exec(a),Yb=/chromium\/[0-9.]+/i.exec(a),Zb=/nwjs\/[0-9.]+/i.exec(a),$b=/firefox\/[0-9.]+/i.exec(a),ac=/msie\s+[0-9.]+/i.exec(a),bc=/edge\/[0-9.]+/i.exec(a),
cc=/edg\/[0-9.]+/i.exec(a),dc=/silk\/[0-9.]+/i.exec(a);let e="(unknown)",c="(unknown)",f="(unknown)",k="(unknown)",g="(unknown)",l="browser",m=!1,q=!1,r=new Map;function p(t,w,x){!0===w?(x(),r.set(t,!0)):w&&w.length&&(x(w[0]),r.set(t,!0))}p("isWindows",/windows\s+nt\s+\d+\.\d+/i.exec(a),t=>{e="Windows";if(t=t.split(" ")[2])switch(t){case "5.0":c="2000";break;case "5.1":c="XP";break;case "5.2":c="XP";break;case "6.0":c="Vista";break;case "6.1":c="7";break;case "6.2":c="8";break;case "6.3":c="8.1";
break;case "10.0":c="10"}});p("isOSX",tb,t=>{e="Mac OS X";(t=t.split(" ")[3])&&(c=t.replace("_","."))});p("isLinux",b.tja,()=>{e="Linux"});p("isChromeOS",b.yia,()=>{e="Chrome OS"});p("isAndroid",!b.dF&&Lb,t=>{e="Android";(t=t.split(" ")[1])&&(c=t)});p("isTizen",Nb,t=>{e="Tizen";(t=t.split(" ")[1])&&(c=t)});p("isIPhone",!b.dF&&Tb,t=>{e="iOS";(t=t.split(" ")[2])&&(c=t.replace("_","."))});p("isIPad",!b.dF&&Ub,t=>{e="iOS";(t=t.split(" ")[3])&&(c=t.replace("_","."))});p("isWindowsPhone",Vb,t=>{e="Windows Phone";
(t=t.split(" ")[2])&&(c=t)});p("isWindowsPhoneOS",Wb,t=>{e="Windows Phone";(t=t.split(" ")[3])&&(c=t)});p("isBlackberry",b.rY,()=>{e="Blackberry";c="10";f="stock";g="webkit"});p("isChrome",!b.Pia&&!b.opera&&Xb,t=>{f="Chrome";g="Chromium";(t=t.split("/")[1])&&(k=t)});p("isOpera",Mb,t=>{f="Opera";g="Chromium";(t=t.split("/")[1])&&(k=t)});p("isChromium",Yb,t=>{g=f="Chromium";(t=t.split("/")[1])&&(k=t)});p("isFirefox",$b,t=>{f="Firefox";g="Gecko";(t=t.split("/")[1])&&(k=t)});p("isInternetExplorer",ac,
t=>{f="Internet Explorer";g="Trident";(t=t.split(" ")[1])&&(k=t)});p("isTrident","Internet Explorer"!==f&&b.lZ,()=>{g="Trident";var t=/rv:[0-9.]+/i.exec(a);t&&t.length&&(f="Internet Explorer",(t=t[0].split(":")[1])&&(k=t))});p("isEdge",bc,t=>{g=f="Edge";(t=t.split("/")[1])&&(k=t)});p("isEdgeChromium",cc,t=>{f="Edge";g="Chromium";(t=t.split("/")[1])&&(k=t)});p("isSafari",b.Sja&&!b.Cja&&!b.xia&&!b.zia&&!b.Dxa&&!b.rY,()=>{f="Safari";g="WebKit";var t=/version\/[0-9.]+/i.exec(a),w=/crios\/[0-9.]+/i.exec(a),
x=/fxios\/[0-9.]+/i.exec(a);t&&t.length&&(t=t[0].split("/")[1])&&(k=t);w&&w.length&&(f="Chrome for iOS",(w=w[0].split("/")[1])&&(k=w));x&&x.length&&(f="Firefox for iOS",(x=x[0].split("/")[1])&&(k=x))});p("isSilk",dc,t=>{f="Silk";(t=t.split("/")[1])&&(k=t)});p("isCrosswalk",b.Cia,()=>l="crosswalk");p("isCordova",self.device&&(self.device.cordova||self.device.phonegap),()=>l="cordova");p("isNWJS",Zb,t=>{l="nwjs";f="NW.js";g="Chromium";(t=t.split("/")[1])&&(k=t)});p("isAmazonWebApp",b.lia,()=>l="webapp");
p("isHomeScreenWebApp","nwjs"!==l&&"undefined"!==typeof window&&(window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches||navigator.standalone),()=>l="webapp");p("isFalseSafari","Safari"===f&&("Android"===e||"Tizen"===e||"Blackberry"===e),()=>f="stock");p("isAndroidWebview","Chrome"===f&&"browser"===l&&b.kka,()=>l="webview");p("isFirefoxOS","Firefox"===f&&"(unknown)"===e,()=>e="Firefox OS");p("isAndroidFallback","(unknown)"===e&&!b.dF&&b.mia,()=>e="Android");p("isTridentFallback",
"(unknown)"===e&&b.lZ,()=>g="Trident");p("isWebkitFallback","(unknown)"===e&&b.webkit,()=>g="WebKit");p("isDesktop","Windows"===e||"Mac OS X"===e||"Linux"===e||"Chrome OS"===e||"nwjs"===l,()=>m=!0);q="nwjs"===l;const u="Mac OS X"===e&&navigator.maxTouchPoints&&2<navigator.maxTouchPoints;u&&(e="iOS",c=k,q=m=!1);d.md={Hs:e,pqa:c,yd:f,Lla:k,rF:parseFloat(k),zz:g,wF:l,Joa:m,GA:!m,Koa:q,Foa:!!(self.chrome&&self.chrome.runtime&&self.chrome.runtime.id),Aoa:"Mac OS X"===e||"iOS"===e,Soa:u,Woa:"Linux"===e}}"use strict";
{const d=new Map,a="undefined"!==typeof IDBObjectStore&&"function"===typeof IDBObjectStore.prototype.getAll,b="undefined"!==typeof IDBObjectStore&&"function"===typeof IDBObjectStore.prototype.getAllKeys;function e(u){return new Promise((t,w)=>{u.onsuccess=()=>t(u.result);u.onerror=()=>w(u.error)})}function c(u){return new Promise((t,w)=>{u.oncomplete=()=>t();u.onerror=()=>w(u.error);u.onabort=()=>w(u.error)})}function f(u,t){return g(u,t)}function k(u,t){return g(u,t,!0)}async function g(u,t,w=!1,
x=!0){const z=await l(u);try{const D=z.transaction(["keyvaluepairs"],w?"readwrite":"readonly");return t(D)}catch(D){if(x&&"InvalidStateError"===D.name)return d.delete(u),g(u,t,w,!1);throw D;}}function l(u){q(u);let t=d.get(u);t instanceof Promise||(t=m(u),d.set(u,t),t.catch(()=>d.delete(u)));return t}async function m(u){q(u);const t=indexedDB.open(u,2);t.addEventListener("upgradeneeded",w=>{try{w.target.result.createObjectStore("keyvaluepairs")}catch(x){console.error(`Failed to create objectstore for database ${u}`,
x)}});return e(t)}function q(u){if("string"!==typeof u)throw new TypeError("expected string");}function r(u,t){const w=u.objectStore("keyvaluepairs").openCursor();return new Promise(x=>{const z=[];w.onsuccess=D=>{if(D=D.target.result){switch(t){case "entries":z.push([D.key,D.value]);break;case "keys":z.push(D.key);break;case "values":z.push(D.value)}D.continue()}else x(z)}})}class p{constructor(u){q(u);this.name=u}async ready(){await l(this.name)}set(u,t){q(u);return k(this.name,async w=>{var x=w.objectStore("keyvaluepairs").put(t,
u);x=e(x);w=c(w);await Promise.all([w,x])})}get(u){q(u);return f(this.name,async t=>{var w=t.objectStore("keyvaluepairs").get(u);w=e(w);t=c(t);[,t]=await Promise.all([t,w]);return t})}delete(u){q(u);return k(this.name,async t=>{var w=t.objectStore("keyvaluepairs").delete(u);w=e(w);t=c(t);await Promise.all([t,w])})}clear(){return k(this.name,async u=>{var t=u.objectStore("keyvaluepairs").clear();t=e(t);u=c(u);await Promise.all([u,t])})}keys(){return f(this.name,async u=>{if(b){var t=u.objectStore("keyvaluepairs").getAllKeys();
t=e(t)}else t=r(u,"keys");u=c(u);[,u]=await Promise.all([u,t]);return u})}values(){return f(this.name,async u=>{if(a){var t=u.objectStore("keyvaluepairs").getAll();t=e(t)}else t=r(u,"values");u=c(u);[,u]=await Promise.all([u,t]);return u})}entries(){return f(this.name,async u=>{var t=r(u,"entries");u=c(u);[,t]=await Promise.all([u,t]);return t})}}self.L4=p}"use strict";
{const d=self.L4,a=[/no available storage method found/i,/an attempt was made to break through the security policy of the user agent/i,/the user denied permission to access the database/i,/a mutation operation was attempted on a database that did not allow mutations/i,/idbfactory\.open\(\) called in an invalid security context/i],b=new WeakMap;let e=!1;"undefined"===typeof indexedDB&&(e=!0,console.warn("Unable to use local storage because indexedDB is not defined"));function c(l){throw Error(`"${l}" is not implemented`);
}function f(l){if("function"===typeof l)throw Error("localforage callback API is not implemented; please use the promise API instead");}function k(l){return"object"===typeof l?new Promise(m=>{const {port1:q,port2:r}=new MessageChannel;r.onmessage=p=>m(p.data);q.postMessage(l)}):Promise.resolve(l)}class g{constructor(l){this.I=l;b.set(this,new Map)}Hw(l){if(!e)for(const m of a)if(l&&m.test(l.message)){console.error("Unable to use local storage, reverting to in-memory store: ",l,l.message);e=!0;break}}async dW(l){l=
b.get(this).get(l);l=await k(l);return"undefined"===typeof l?null:l}async LX(l,m){m=await k(m);b.get(this).set(l,m)}CX(l){b.get(this).delete(l)}FV(){b.get(this).clear()}JW(){return Array.from(b.get(this).keys())}async getItem(l,m){f(m);if(e)return await this.dW(l);let q;try{q=await this.I.get(l)}catch(r){this.Hw(r);if(e)return await this.dW(l);console.error(`Error reading '${l}' from storage, returning null: `,r);return null}return"undefined"===typeof q?null:q}async setItem(l,m,q){f(q);"undefined"===
typeof m&&(m=null);if(e)await this.LX(l,m);else try{await this.I.set(l,m)}catch(r){if(this.Hw(r),e)await this.LX(l,m);else throw r;}}async removeItem(l,m){f(m);if(e)this.CX(l);else try{await this.I.delete(l)}catch(q){this.Hw(q),e?this.CX(l):console.error(`Error removing '${l}' from storage: `,q)}}async clear(l){f(l);if(e)this.FV();else try{await this.I.clear()}catch(m){this.Hw(m),e?this.FV():console.error("Error clearing storage: ",m)}}async keys(l){f(l);if(e)return this.JW();l=[];try{l=await this.I.keys()}catch(m){this.Hw(m);
if(e)return this.JW();console.error("Error getting storage keys: ",m)}return l}ready(l){f(l);return e?Promise.resolve(!0):this.I.ready()}jN(l){if("object"!==typeof l)throw new TypeError("invalid options object");l=l.name;if("string"!==typeof l)throw new TypeError("invalid store name");l=new d(l);return new g(l)}length(){c("localforage.length()")}key(){c("localforage.key()")}iterate(){c("localforage.iterate()")}supports(){c("localforage.supports()")}dropInstance(){c("localforage.dropInstance()")}}
self.localforage=new g(new d("localforage"))}
{"use strict";const d=self.C;d.cc={};d.cc.nwa=(()=>{try{if("Safari"===d.md.yd||"undefined"===typeof document)return!1;const a=document.createElement("div");return"undefined"===typeof a.animate?!1:"undefined"!==typeof a.animate([{opacity:"0"},{opacity:"1"}],1E3).reverse}catch(a){return!1}})();d.cc.hna="undefined"!==typeof HTMLDialogElement;d.cc.Yra=!!self.requestIdleCallback;d.cc.ImageBitmap=!!self.createImageBitmap;d.cc.ImageBitmapOptions=!1;if(d.cc.ImageBitmap)try{self.createImageBitmap(new ImageData(32,32),
{premultiplyAlpha:"none"}).then(()=>{d.cc.ImageBitmapOptions=!0}).catch(()=>{d.cc.ImageBitmapOptions=!1})}catch(a){d.cc.ImageBitmapOptions=!1}d.cc.ema=!(!navigator.clipboard||!navigator.clipboard.readText||"Firefox"===d.md.yd);d.cc.Qqa=!(!navigator.permissions||!navigator.permissions.query);d.cc.XQ="undefined"!==typeof Proxy;d.cc.kna="undefined"===typeof document?!1:"undefined"!==typeof document.createElement("a").download;d.cc.gv="undefined"!==typeof HTMLCanvasElement&&HTMLCanvasElement.prototype.toBlob;
d.cc.Ana="function"===typeof fetch;d.cc.Sqa=!!(self.isSecureContext&&"Opera"!==d.md.yd&&navigator.storage&&navigator.storage.persist);d.cc.pva=!!(self.isSecureContext&&navigator.storage&&navigator.storage.estimate);var ec;if("undefined"===typeof document||"iOS"===d.md.Hs)ec=!1;else{var fc=document.documentElement;ec=!!(fc.requestFullscreen||fc.msRequestFullscreen||fc.mozRequestFullScreen||fc.webkitRequestFullscreen)}d.cc.Ona=ec;d.cc.noa="undefined"!==typeof self.ImageDecoder;d.cc.kqa=!!self.showOpenFilePicker;
d.cc.lqa=!(!navigator.fonts||!navigator.fonts.query)}
{"use strict";const d=self.C;if(!String.prototype.trimStart){const a=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*/;String.prototype.trimStart=function(){return this.replace(a,"")}}if(!String.prototype.trimEnd){const a=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*$/;String.prototype.trimEnd=function(){return this.replace(a,
"")}}String.prototype.replaceAll||(String.prototype.replaceAll=function(a,b){return this.replace(new RegExp(d.kv(a),"g"),b)});Array.prototype.values||(Array.prototype.values=function*(){for(const a of this)yield a});if(!Array.prototype.flat){function a(b,e){return b.reduce((c,f)=>{0<e&&Array.isArray(f)?Array.prototype.push.apply(c,a(f,e-1)):c.push(f);return c},[])}Array.prototype.flat=function(b=1){return a(this,b)}}Array.prototype.Pe||(Array.prototype.Pe=function(a){a=Math.trunc(a)||0;0>a&&(a+=this.length);
if(!(0>a||a>=this.length))return this[a]});String.prototype.Pe||(String.prototype.Pe=function(a){a=Math.trunc(a)||0;0>a&&(a+=this.length);if(!(0>a||a>=this.length))return this[a]});RegExp.escape||(RegExp.escape=function(a){return String(a).replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")});navigator.storage&&!navigator.storage.estimate&&navigator.webkitTemporaryStorage&&navigator.webkitTemporaryStorage.queryUsageAndQuota&&(navigator.storage.estimate=function(){return new Promise((a,b)=>navigator.webkitTemporaryStorage.queryUsageAndQuota((e,
c)=>a({usage:e,quota:c}),b))});"undefined"===typeof self.isSecureContext&&(self.isSecureContext="https:"===location.protocol);"undefined"===typeof self.globalThis&&(self.globalThis=self)}{"use strict";const d=self.C;self.assert=function(a,b){a||console.error("Assertion failure: "+b+"\n\nStack trace:\n"+d.Xz())}}
{"use strict";const d=self.C,a=self.Eg;d.$n=function(e){return"number"===typeof e};d.Xn=function(e){return d.$n(e)&&isFinite(e)};d.Lg=function(e){if(!d.$n(e))throw new TypeError("expected number");};d.jR=function(){};d.xsa=function(e,c,f){if(!d.$n(e)||isNaN(e)||c>e||f<e)throw new RangeError("number outside of range");};d.gsa=function(...e){for(let c of e);};d.Kg=function(e){if(!d.Xn(e))throw new TypeError("expected finite number");};d.gR=function(){};d.dsa=function(...e){for(let c of e);};d.zj=function(e){return"string"===
typeof e};d.le=function(e){if(!d.zj(e))throw new TypeError("expected string");};d.lR=function(){};d.isa=function(...e){for(let c of e);};d.lQ=function(e){return"object"!==typeof e||null===e?!1:(e=Object.getPrototypeOf(e))?e.constructor===Object:null===e};d.Ksa=function(e){if(!d.lQ(e))throw new TypeError("expected simple object");};d.Hsa=function(e){if(!d.Ue(e)&&!d.lQ(e))throw new TypeError("expected simple object");};d.kQ=function(e){return"object"===typeof e&&null!==e&&!Array.isArray(e)};d.eR=function(e){if(!d.kQ(e))throw new TypeError("expected object");
};d.kR=function(){};d.hsa=function(...e){for(let c of e);};d.LG=function(e){return d.Yn(e,Blob)&&"string"===typeof e.name};d.vsa=function(e){if(!d.LG(e))throw new TypeError("expected file");};d.Fsa=function(){};d.Wp=function(e){return Array.isArray(e)};d.sH=function(e){if(!d.Wp(e))throw new TypeError("expected array");};d.fR=function(){};d.csa=function(...e){for(let c of e);};d.l4=function(e){return d.Wp(e)?e.length?d.Wp(e[0])?!0:!1:!0:!1};d.bsa=function(e){if(!d.l4(e))throw new TypeError("expected 2d array");
for(let c of e)if(!d.Wp(c))throw new TypeError("expected 2d array");};d.ysa=function(){};d.MG=function(e){return"function"===typeof e};d.Zk=function(e,c){if(!d.MG(e))throw new TypeError("expected function");if(!d.Ue(c)&&e!==c)throw new TypeError("expected same function reference");};d.hR=function(){};d.esa=function(...e){for(let c of e);};d.ksa=function(e,...c){if(!d.MG(e))throw new TypeError("expected function");if(!c.length)throw Error("missing comparison functions");for(let f of c)if(!d.Ue(f)&&
e===f)return;throw new TypeError("expected same function reference");};d.zsa=function(...e){if(!d.Ue(e))for(let c of e);};d.Yn=function(e,c){return e instanceof c};d.iQ=function(e,...c){for(let f of c)if(d.Yn(e,f))return!0;return!1};d.tH=function(e,c){if(!d.Yn(e,c))throw new TypeError("unexpected type");};d.iR=function(){};d.fsa=function(e,...c){for(let f of c);};d.lsa=function(e,...c){if(!d.iQ(e,...c))throw new TypeError("unexpected type");};d.nsa=function(e,...c){if(!d.Ue(e)&&!d.iQ(e,...c))throw new TypeError("unexpected type");
};d.Boa=function(e,c){for(let f of e)if(!d.Yn(f,c))return!1;return!0};d.Coa=function(e){for(let c of e)if(!d.Xn(c))return!1;return!0};d.osa=function(e){for(let c of e);};d.Asa=function(e){if(!d.Ue(e))for(let c of e);};d.qsa=function(e){for(let c of e);};d.Bsa=function(e){if(!d.Ue(e))for(let c of e);};d.Goa=function(e,c){return d.Ue(e)||!d.zj(e.nodeName)?!1:!c||d.bh(e.nodeName,c)};d.rsa=function(e,c){if(d.Ue(e)||!d.zj(e.nodeName))throw new TypeError("expected DOM node");if(c&&!d.bh(e.nodeName,c))throw new TypeError(`expected DOM '${c}' node`);
};d.Csa=function(){};d.OG=function(e,c){return d.Ue(e)||!d.zj(e.tagName)?!1:!c||d.bh(e.tagName,c)};d.wsa=function(e,c){if(d.Ue(e)||!d.zj(e.tagName))throw new TypeError("expected HTML element");if(c&&!d.bh(e.tagName,c))throw new TypeError(`expected HTML '${c}' element`);};d.Gsa=function(){};d.cQ=function(e){return d.OG(e,"img")||d.OG(e,"canvas")||d.OG(e,"video")||"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap};d.ssa=function(e){if(!d.cQ(e))throw new TypeError("expected drawable");
};d.Dsa=function(){};d.dQ=function(e){return e instanceof ImageData?!0:d.cQ(e)};d.usa=function(e){if(!d.dQ(e))throw new TypeError("expected drawable or image data");};d.Esa=function(e){if(!d.Ue(e)&&!d.dQ(e))throw new TypeError("expected drawable or image data");};d.G4=function(e){return"string"===typeof e||e instanceof d.CG||e instanceof d.lj};d.Lsa=function(e){if(!d.G4(e))throw new TypeError("expected string-like");};d.Isa=function(){};d.jsa=function(...e){for(let c of e);};d.Jsa=function(){throw Error("must be overridden");
};d.oqa=function(){throw Error("not yet implemented");};d.Ioa=function(e,...c){if("undefined"===typeof e)return!1;for(let f of c){if("undefined"===typeof e[f])return!1;e=e[f]}return!0};d.Ue=function(e){return"undefined"===typeof e||null===e};d.pla=function(e){let c=e[0].constructor;for(let f of e)if(f.constructor!==c)return!1;return c};d.qla=function(e,c){for(let f of e)if(!(f instanceof c))return!1;return!0};const b=Object.getPrototypeOf(Uint8Array);d.qpa=function(e){return d.Yn(e,b)};d.Msa=function(){};
d.mwa=function(e){d.I9(e,b)};d.lwa=function(e,...c){if(!d.H9(e,...c))throw new TypeError("unexpected type");};d.H9=function(e,...c){for(const f of c)if(d.sS(e,f))return!0;return!1};d.I9=function(e,c){if(!d.sS(e,c))throw new TypeError("unexpected type");};d.sS=function(e,c){for(;e=Object.getPrototypeOf(e);)if(e.constructor.name===c.name)return!0;return!1};a.Lg=d.Lg;a.jR=d.jR;a.Kg=d.Kg;a.gR=d.gR;a.le=d.le;a.lR=d.lR;a.eR=d.eR;a.kR=d.kR;a.sH=d.sH;a.fR=d.fR;a.Zk=d.Zk;a.hR=d.hR;a.tH=d.tH;a.iR=d.iR;a.Ue=
d.Ue}
{"use strict";const d=self.C,a=new Map;d.Lra=function(r,...p){a.has(r)||a.set(r,-1);-1===a.get(r)&&a.set(r,requestAnimationFrame(()=>{console.log(`%c${r}`,"font-weight: bold",...p);a.set(r,-1)}))};d.Xz=function(){return Error().stack};d.dna=function(){debugger};d.Wwa=function(r,p){return r&&r instanceof p?r:null};d.Yl=function(r){return"undefined"===typeof r?"undefined":null===r?"null":"boolean"===typeof r?"<boolean>":d.$n(r)?"<number>":d.zj(r)?"<string>":d.Wp(r)?"<array>":"symbol"===typeof r?"<"+
r.toString()+">":d.MG(r)?r.name&&"Function"!==r.name?r.name:"<anonymous function>":"object"===typeof r?r.constructor&&r.constructor.name&&"Object"!==r.constructor.name?r.constructor.name:"<anonymous object>":"<unknown>"};d.KE=function(r){return null===r?"null":Array.isArray(r)?"array":typeof r};d.range=function*(r,p){if(!isFinite(Math.abs(r-p)))throw Error("Invalid parameters");if(r>p)for(--r;r>=p;r--)yield r;else for(;r<p;r++)yield r};let b=new Map,e=new Map,c=new WeakMap,f=new WeakMap;d.os={};const k=
new Set(["then","splice"]);function g(r){console.warn("[Defence] "+r+" @",d.Xz())}d.os.get=function(r,p){p in r||"symbol"===typeof p||k.has(p)||g(`Accessed missing property '${p}' from defended object '${d.Yl(r)}', returning undefined`);f.has(r)&&"symbol"!==typeof p&&!k.has(p)&&g(`Accessed property '${p}' on a released object '${d.Yl(r)}'\nObject was originally released at: ${f.get(r)})\nCall stack at access: `);return r[p]};d.os.set=function(r,p,u){p in r||b.has(r)||g(`Set non-existent property '${p}' to '${u}' on defended object '${d.Yl(r)}'`);
{var t=d.KE(r[p]);let w=d.KE(u);t="null"===t||"null"===w?!0:"undefined"===t||"undefined"===w?!1:t===w}t||b.has(r)||g(`Set '${d.KE(r[p])}' property '${p}' to type '${d.KE(u)}' on defended object '${d.Yl(r)}'`);f.has(r)&&g(`Set property '${p}' on a released object '${d.Yl(r)}'\nObject was originally released at: ${f.get(r)})\nCall stack at access: `);r[p]=u;return!0};d.os.deleteProperty=function(r,p){throw new ReferenceError(`Cannot delete property '${p}' from defended object '${d.Yl(r)}'`);};d.os.defineProperty=
function(r,p){throw new ReferenceError(`Cannot define property '${p}' on defended object '${d.Yl(r)}'`);};d.os.ixa=function(r){throw new ReferenceError(`Cannot enumerate defended object '${d.Yl(r)}'`);};let l=-1;function m(){l=-1;if(0<b.size||0<e.size){let r=[...new Set([...b.keys()].map(p=>d.Yl(p)))].join();console.warn(`An object derived from DefendedBase was not protected with debugDefend(). This will disable some checks. See the coding guidelines! Possible affected class names: ${r}`);b.clear();
e.clear()}}d.oa=class{constructor(){if(d.wN&&d.cc.XQ){var r=new.target;r=Object.create(r.prototype);var p=new Proxy(r,d.os);b.set(r,p);e.set(p,r);c.set(p,r);-1===l&&(l=requestAnimationFrame(m));return p}}};d.Eia=function(r){if(d.wN&&d.cc.XQ&&r instanceof d.oa){if(!e.has(r))return r;let p=e.get(r);e.delete(r);b.delete(p);return r}return d.Lu?Object.seal(r):r};d.F=function(r,...p){let u;try{u=new r(...p)}catch(x){throw e.clear(),b.clear(),x;}if(d.wN){p=u;var t=new Set;for(w in p)t.add(w);var w=t;if(p=
q.get(r)){t=[];for(let x of p.values())w.has(x)?w.delete(x):t.push(x);d.Gn(t,[...w]);t.length&&console.warn(`[Defence] '${d.Yl(r)}' constructor creates inconsistent properties: ${t.join(", ")}`)}else q.set(r,w)}return d.Eia(u)};d.A=function(r){(r=c.get(r))&&f.set(r,d.Xz())};d.gB=function(){let r=c.get(void 0);return r?!!f.get(r):!1};let q=new Map;d.Oqa=class{constructor(r){this.Pa="";r&&this.start(r)}start(r){this.Pa=r;performance.mark(this.Pa+"-Start")}end(){performance.mark(this.Pa+"-End");performance.measure(this.Pa,
this.Pa+"-Start",this.Pa+"-End")}next(r){this.end();this.Pa=r;performance.mark(this.Pa+"-Start")}}}
{"use strict";const d=self.C,a=2*Math.PI,b=Math.PI/180,e=180/Math.PI;d.wrap=function(f,k,g){f=Math.floor(f);k=Math.floor(k);g=Math.floor(g);return f<k?(f=g-(k-f)%(g-k),f===g?0:f):k+(f-k)%(g-k)};d.xja=function(f,k,g,l){return(f-k)*(l-0)/(g-k)};d.normalize=function(f,k,g){return(f-k)/(g-k)};d.ja=function(f,k,g){return f<k?k:f>g?g:f};d.Tc=function(f){f%=a;0>f&&(f+=a);return f};d.Ea=function(f){return f*b};d.Td=function(f){return f*e};d.pf=function(f,k,g,l){return Math.hypot(g-f,l-k)};d.AY=function(f,
k,g,l){f=g-f;k=l-k;return f*f+k*k};d.wg=function(f,k,g,l){return Math.atan2(l-k,g-f)};d.Xr=function(f,k){if(f===k)return 0;f=Math.sin(f)*Math.sin(k)+Math.cos(f)*Math.cos(k);return 1<=f?0:-1>=f?Math.PI:Math.acos(f)};d.eN=function(f,k,g){let l=Math.sin(f),m=Math.cos(f),q=Math.sin(k),r=Math.cos(k);return Math.acos(l*q+m*r)>g?0<m*q-l*r?d.Tc(f+g):d.Tc(f-g):d.Tc(k)};d.Oe=function(f,k){return 0>=Math.cos(f)*Math.sin(k)-Math.sin(f)*Math.cos(k)};d.dN=function(f,k,g,l=0){let m=d.Xr(f,k);l*=a;return d.Oe(k,
f)?d.Tc(f+(m+l)*g):d.Tc(f-(m+l)*g)};d.oia=function(f,k,g,l=0){const m=d.Xr(f,k);l*=a;return d.Oe(k,f)?d.Tc(f+(m+l)*g):d.Tc((a-m+l)*g)};d.nia=function(f,k,g,l=0){const m=d.Xr(f,k);l*=a;return d.Oe(k,f)?d.Tc((-a+m-l)*g):d.Tc(f-(m+l)*g)};d.Gd=function(f,k,g){return f+g*(k-f)};d.bF=function(f,k,g){return f===k?0:(g-f)/(k-f)};d.$Y=function(f,k,g,l){return d.Gd(0,l,d.bF(f,k,g))};d.UE=function(f,k,g,l){return d.Gd(d.Gd(f,k,l),d.Gd(k,g,l),l)};d.yY=function(f,k,g,l,m){return d.Gd(d.UE(f,k,g,m),d.UE(k,g,l,
m),m)};d.xY=function(f,k,g){return(f+k+(f-k)*Math.cos(g*Math.PI))/2};d.$l=function(f){return 0<f&&0===(f-1&f)};d.EN=function(f){--f;for(let k=1;32>k;k<<=1)f|=f>>k;return f+1};d.kza=function(f,k){return Math.round(f*k)/k};d.pxa=function(f,k){return Math.floor(f*k)/k};d.UN=function(f){return Math.round(1E6*f)/1E6};d.toFixed=function(f,k){f=f.toFixed(k);for(k=f.length-1;0<=k&&"0"===f.charAt(k);--k);0<=k&&"."===f.charAt(k)&&--k;return 0>k?f:f.substr(0,k+1)};d.u6=function(f,k,g){return d.ja(f,0,255)|d.ja(k,
0,255)<<8|d.ja(g,0,255)<<16};d.QA=function(f,k,g,l){f=d.ja(Math.floor(1024*f),-8192,8191);k=d.ja(Math.floor(1024*k),-8192,8191);g=d.ja(Math.floor(1024*g),-8192,8191);l=d.ja(Math.floor(1023*l),0,1023);0>f&&(f+=16384);0>k&&(k+=16384);0>g&&(g+=16384);return-(274877906944*f+16777216*k+1024*g+l)};d.TQ=function(f,k,g){return d.QA(f,k,g,1)};d.mG=function(f){if(0<=f)return(f&255)/255;f=Math.floor(-f/274877906944);8191<f&&(f-=16384);return f/1024};d.aG=function(f){if(0<=f)return((f&65280)>>8)/255;f=Math.floor(-f%
274877906944/16777216);8191<f&&(f-=16384);return f/1024};d.PF=function(f){if(0<=f)return((f&16711680)>>16)/255;f=Math.floor(-f%16777216/1024);8191<f&&(f-=16384);return f/1024};d.y1=function(f){return 0===f&&0>1/f?0:0<=f?1:Math.floor(-f%1024)/1023};d.Zia=function(f,k){f=Math.floor(f);for(k=Math.floor(k);0!==k;){let g=k;k=f%k;f=g}return f};const c=[[3,2],[4,3],[5,4],[5,3],[6,5],[14,9],[16,9],[16,10],[21,9]];d.Gxa=function(f,k){f=Math.floor(f);k=Math.floor(k);if(f===k)return[1,1];for(var g of c){let l=
f/g[0]*g[1];if(1>Math.abs(k-l))return g.slice(0);l=f/g[1]*g[0];if(1>Math.abs(k-l))return[g[1],g[0]]}g=d.Zia(f,k);return[f/g,k/g]};d.qza=function(f,k,g,l,m,q,r,p){var u=Math.min(f,g),t=Math.max(m,r);if(Math.max(f,g)<Math.min(m,r)||u>t)return!1;u=Math.min(k,l);t=Math.max(q,p);if(Math.max(k,l)<Math.min(q,p)||u>t)return!1;u=m-f+r-g;t=q-k+p-l;f=g-f;k=l-k;m=r-m;q=p-q;p=Math.abs(k*m-q*f);return Math.abs(m*t-q*u)>p?!1:Math.abs(f*t-k*u)<=p};d.Ln=function(f,k,g,l,m,q,r,p,u,t,w,x){const z=Math.max(u,w);if(q<
Math.min(u,w)||m>z)return!1;m=Math.max(t,x);if(p<Math.min(t,x)||r>m)return!1;r=u-f+w-g;p=t-k+x-l;f=g-f;k=l-k;u=w-u;t=x-t;x=Math.abs(k*u-t*f);return Math.abs(u*p-t*r)>x?!1:Math.abs(f*p-k*r)<=x};d.VE=function(f,k,g,l,m){const q=Math.min(f,g),r=Math.max(f,g),p=Math.min(k,l),u=Math.max(k,l),t=m.Kb,w=m.Lb,x=m.Ac,z=m.Bc,D=m.wc,G=m.xc,N=m.uc;m=m.vc;return d.Ln(f,k,g,l,q,r,p,u,t,w,x,z)||d.Ln(f,k,g,l,q,r,p,u,x,z,D,G)||d.Ln(f,k,g,l,q,r,p,u,D,G,N,m)||d.Ln(f,k,g,l,q,r,p,u,N,m,t,w)};d.pza=function(f,k,g,l,m){const q=
Math.min(f,g),r=Math.max(f,g),p=Math.min(k,l),u=Math.max(k,l);let t=0;for(let w=m.length-4;t<=w;t+=2)if(d.Ln(f,k,g,l,q,r,p,u,m[t],m[t+1],m[t+2],m[t+3]))return!0;return d.Ln(f,k,g,l,q,r,p,u,m[t],m[t+1],m[0],m[1])};d.Nja=function(f,k,g,l,m,q,r,p){g-=f;q=p-q;const u=g*q-(l-k)*(r-m);if(0===u)return 2;l=((k-l)*(r-f)+g*(p-k))/u;return 0<l&&1.000001>l?(q*(r-f)+(m-r)*(p-k))/u:2};d.mz=function(f,k,g,l,m,q,r,p,u){const t=(r-m)*u;u*=p-q;return d.Nja(f,k,g,l,m-t,q-u,r+t,p+u)};d.lja=function(f,k,g,l,m,q,r,p){m-=
g;q-=l;r-=g;p-=l;f-=g;g=k-l;k=m*m+q*q;l=m*r+q*p;m=m*f+q*g;q=r*r+p*p;r=r*f+p*g;p=1/(k*q-l*l);q=(q*m-l*r)*p;m=(k*r-l*m)*p;return 0<=q&&0<=m&&1>=q+m};d.ika=function(f,k,g,l,m,q,r,p){m-=g;q-=l;r-=g;p-=l;f-=g;const u=k-l;k=m*m+q*q;l=m*r+q*p;g=r*r+p*p;m=f*m+u*q;q=f*r+u*p;r=k*g-l*l;p=(g*m-l*q)/r;m=(k*q-l*m)/r;return[1-p-m,p,m]};d.hka=function(f,k,g,l,m,q,r,p,u){return[f*l+k*q+g*p,f*m+k*r+g*u]}}
{"use strict";const d=self.C;let a=null,b="";if("undefined"!==typeof document){a=document;const l=document.querySelector("base");if(b=l&&l.hasAttribute("href")?l.getAttribute("href"):"")b.startsWith("/")&&(b=b.substr(1)),b.endsWith("/")||(b+="/")}d.Sna=function(){return b};d.QF=function(){if(!a)return"";const l=a.location;return d.E2(l.origin+l.pathname)+b};d.E2=function(l){if(!l.length||l.endsWith("/")||l.endsWith("\\"))return l;const m=Math.max(l.lastIndexOf("/"),l.lastIndexOf("\\"));return-1===
m?"":l.substr(0,m+1)};d.Vna=function(l){if(!l.length)return l;if(l.endsWith("/")||l.endsWith("\\"))return"";const m=Math.max(l.lastIndexOf("/"),l.lastIndexOf("\\"));return-1===m?l:l.substr(m+1)};d.X1=function(l){let m=l.lastIndexOf(".");return 1>m?"":l.substr(m)};d.fA=function(l){let m=l.lastIndexOf(".");return 1>m?l:l.substr(0,m)};d.m5=function(l){return l.replace(/\\/g,"/")};d.Noa=function(l,m){return m===(l?d.X1(l).slice(1):"")};d.Ena=function(l,m){let q,r;d.LG(l)&&(q=d.fA(l.name));d.zj(l)&&(q=
d.fA(l));d.LG(m)&&(r=d.fA(m.name));d.zj(m)&&(r=d.fA(m));return q===r};d.Mqa=function(l){l=d.m5(l);let m=/^\w:\//.exec(l);m?(m=m[0],l=l.slice(3),"/"!==l[0]&&(l="/"+l)):m="";l=l.replace(/\/{2,}/g,"/");1<l.length&&"/"===l.slice(-1)&&(l=l.slice(0,-1));var q=l.lastIndexOf("/")+1;let r="",p=l,u="";0<q&&(r=l.slice(0,q),p=l.slice(q));l=p;q=p.lastIndexOf(".");0<q&&(u=p.slice(q),l=p.slice(0,-u.length));return{dir:r,Pwa:p,name:l,root:m,ext:u,Bxa:m+r+p}};d.eI=function(l,m){return new Promise(q=>{self.setTimeout(q,
l,m)})};d.Aza=function(l){try{l()}catch(m){d.Lu&&console.warn("Swallowed exception: ",m)}};d.Bya=function(){};d.bh=function(l,m){return"string"!==typeof l||"string"!==typeof m?!1:l===m||l.normalize().toLowerCase()===m.normalize().toLowerCase()};d.jxa=function(l,m){return"string"!==typeof l||"string"!==typeof m?!1:l===m?!0:l.normalize()===m.normalize()};d.jka=function(l,m){var q=0;l[q++]=m[0];l[q++]=m[1];l[q++]=m[2];l[q++]=m[3];l[q++]=m[4];l[q++]=m[5];l[q++]=m[6];l[q++]=m[7];l[q++]=m[8];l[q++]=m[9];
l[q++]=m[10];l[q++]=m[11];l[q++]=m[12];l[q++]=m[13];l[q++]=m[14];l[q]=m[15]};d.Qe=function(l,m){l.length=m};d.G=function(l){l&&0!==l.length&&d.Qe(l,0)};d.Aia=function(l){if(l){for(let m=0;m<l.length;m++)d.Qe(l[m],0);d.Qe(l,0)}};d.IE=function(l,m,q){m|=0;var r=l.length;if(!(m<=r))for(;r<m;++r)l.push(q)};d.aZ=function(l){var m=4;const q=l.length;m<q?d.Qe(l,m):m>q&&d.IE(l,m,"0")};d.jd=function(l,m){d.G(l);d.Gn(l,m)};d.Gn=function(l,m){if(1E4>m.length)l.push(...m);else for(let q=0,r=m.length;q<r;++q)l.push(m[q])};
d.ria=function(l,m){m=Math.floor(m);if(!(0>m||m>=l.length)){for(var q=l.length-1;m<q;++m)l[m]=l[m+1];d.Qe(l,q)}};d.Yr=function(l,m){m=l.indexOf(m);0<=m&&l.splice(m,1)};d.Owa=function(l,m){let q=l.length;if(m.length!==q)return!1;for(let r=0;r<q;++r)if(l[r]!==m[r])return!1;return!0};d.qia=function(l,m){let q=[],r=0;for(let p=0,u=l.length;p<u;++p){let t=l[p];m(t)?q.push(t):(l[r]=t,++r)}d.Qe(l,r);return q};d.ai=function(l,m){const q=l.length;let r=0;for(let p=0,u=l.length;p<u;++p){let t=l[p];m.has(t)||
(l[r++]=t)}d.Qe(l,r);return q-r};d.gja=function(l,m){return l!==Math.floor(l)?!1:0<=l&&l<m.length};d.Pza=function(l,m){if(!d.gja(l,m))throw new RangeError("array index out of bounds");};d.DE=function(l){return l.slice()};d.Fia=function(l,m){let q=[];for(let r of l)if(d.kQ(r)){l=m(r);if(!l)throw Error("missing clone");if(l.constructor!==r.constructor)throw Error("object is not a clone");q.push(l)}else d.Wp(r)?q.push(d.Fia(r,m)):q.push(r);return q};d.Xwa=function(l){let m=[];for(let q of l)m.push(q.slice());
return m};d.xya=function(l,m){return new Set([...l,...m])};d.yya=function(l,m){for(const q of m)l.add(q);return l};d.first=function(l){for(let m of l)return m;return null};d.xor=function(l,m){return!l!==!m};d.compare=function(l,m,q){switch(m){case 0:return l===q;case 1:return l!==q;case 2:return l<q;case 3:return l<=q;case 4:return l>q;case 5:return l>=q;default:return!1}};d.Pxa=function(l){for(let m in l)if(l.hasOwnProperty(m))return!0;return!1};d.G6=function(l,m){return l.length?new Promise((q,
r)=>{const p=[];let u=0,t=!1;for(let w=0,x=l.length;w<x;++w)p.push(void 0),l[w].then(z=>{t||(p[w]=z,++u,u===l.length?q(p):m(u,l.length))}).catch(z=>{t=!0;r(z)})}):Promise.resolve([])};let e=[];d.Jka=function(l){e.push(l)};d.Una=function(){let l=0;for(let m of e){let q=m();l+=q}return Math.floor(l)};let c=1;const f=new Map,k=new MessageChannel;k.port2.onmessage=function(l){l=l.data;const m=f.get(l);f.delete(l);m&&m(performance.now())};d.rH=function(l){const m=c++;f.set(m,l);k.port1.postMessage(m);
return m};d.k_=function(l){f.delete(l)};d.B6=d.rH;d.F9=function(){return new Promise(l=>d.B6(l))};const g=new Set;d.asa=function(l){const m=self.requestAnimationFrame(async q=>{await d.F9();g.has(m)&&(g.delete(m),l(q))});g.add(m);return m};d.Xla=function(l){g.has(l)&&(self.cancelAnimationFrame(l),g.delete(l))}}
{"use strict";const d=self.C;d.HG=function(a){return/^(?:[a-z\-]+:)?\/\//.test(a)||"data:"===a.substr(0,5)||"blob:"===a.substr(0,5)};d.VG=function(a){return!d.HG(a)};d.j9=function(a){if(!a.ok)throw Error(`fetch '${a.url}' response returned ${a.status} ${a.statusText}`);};d.Tz=function(a){return fetch(a,void 0).then(b=>{d.j9(b);return b})};d.ov=function(a){return d.Tz(a).then(b=>b.text())};d.VO=function(a){return d.Tz(a).then(b=>b.json())};d.fm=function(a){return d.Tz(a).then(b=>b.blob())};d.nv=function(a){return d.Tz(a).then(b=>
b.arrayBuffer())};d.r1=function(a){return new Promise((b,e)=>{const c=new Image;c.onload=()=>b(c);c.onerror=f=>e(f);c.src=a})};d.c_=function(a){return"function"===typeof a.arrayBuffer?a.arrayBuffer():new Promise((b,e)=>{const c=new FileReader;c.onload=()=>b(c.result);c.onerror=()=>e(c.error);c.readAsArrayBuffer(a)})};d.nO=function(a){return"function"===typeof a.text?a.text():new Promise((b,e)=>{const c=new FileReader;c.onload=()=>b(c.result);c.onerror=()=>e(c.error);c.readAsText(a)})};d.Gla=function(a){return d.nO(a).then(b=>
JSON.parse(b))};d.mO=async function(a,b){a=URL.createObjectURL(a);try{const e=await d.r1(a);URL.revokeObjectURL(a);a="";b&&"function"===typeof e.decode&&await e.decode();return e}finally{a&&URL.revokeObjectURL(a)}};d.gh=function(a,b){if("undefined"!==typeof document&&"function"===typeof document.createElement){const e=document.createElement("canvas");e.width=a;e.height=b;return e}return new OffscreenCanvas(a,b)};d.gv=function(a,b,e){"number"!==typeof e&&(e=1);b=b||"image/png";e=d.ja(e,0,1);return a.toBlob?
new Promise(c=>a.toBlob(c,b,e)):a.convertToBlob?a.convertToBlob({type:b,quality:e}):d.am(()=>d.yO(a,b,e))};d.yO=function(a,b,e){"number"!==typeof e&&(e=1);b=b||"image/png";e=d.ja(e,0,1);return d.R_(a.toDataURL(b,e))};d.R_=function(a){a=d.v6(a);return d.b_(a.data,a.yja)};d.v6=function(a){if("data:"!==a.substr(0,5))throw new URIError("expected data: uri");var b=a.indexOf(",");if(0>b)throw new URIError("expected comma in data: uri");var e=a.substring(b+1);b=a.substring(5,b).split(";");a=b[0]||"";let c=
b[2];e="base64"===b[1]||"base64"===c?atob(e):decodeURIComponent(e);return{yja:a,data:e}};d.b_=function(a,b){var e=a.length;let c=e>>2,f=new Uint8Array(e),k=new Uint32Array(f.buffer,0,c),g,l;for(l=g=0;g<c;++g)k[g]=a.charCodeAt(l++)|a.charCodeAt(l++)<<8|a.charCodeAt(l++)<<16|a.charCodeAt(l++)<<24;for(e&=3;e--;)f[l]=a.charCodeAt(l),++l;return b?new Blob([f],{type:b}):new Blob([f])};d.NO=function(a){const b=d.gh(a.width,a.height);b.getContext("2d").drawImage(a,0,0);return d.gv(b,void 0,void 0)};d.moa=
function(a,b,e){const c=d.gh(a.width,a.height);c.getContext("2d").putImageData(a,0,0);return d.yO(c,b,e)};d.C3=function(a){if(d.cc.ImageBitmapOptions)return createImageBitmap(a,{premultiplyAlpha:"none"}).then(b=>d.NO(b));if(d.cc.ImageBitmap)return createImageBitmap(a).then(b=>d.NO(b));{const b=d.gh(a.width,a.height);b.getContext("2d").putImageData(a,0,0);return d.gv(b,void 0,void 0)}};d.G_=function(a,b){a.clear();for(const e of b)a.add(e)};d.Vpa=function(a){const b=Object.create(null);for(const [e,
c]of a.entries())b[e]=c;return b};d.qqa=function(a,b){b.clear();for(const [e,c]of Object.entries(a))b.set(e,c)};d.cI=function e(b){if("object"===typeof b&&null!==b){if(b instanceof Set)return{_c3type_:"set",data:[...b].map(c=>e(c))};if(b instanceof Map)return{_c3type_:"map",data:[...b].map(c=>[c[0],e(c[1])])};{const c=Object.create(null);for(const [f,k]of Object.entries(b))c[f]=e(k);return c}}return b};d.MF=function c(e){if("object"===typeof e&null!==e){if("set"===e._c3type_)return new Set(e.data.map(f=>
c(f)));if("map"===e._c3type_)return new Map(e.data.map(f=>[f[0],c(f[1])]));{const f=Object.create(null);for(const [k,g]of Object.entries(e))f[k]=c(g);return f}}return e};d.f_=function(e){let c="",f=!1;for(const k of e)"-"===k?f=!0:f?(c+=k.toUpperCase(),f=!1):c+=k;return c};d.Zn=function(e){return"object"===typeof e&&"function"===typeof e.next};d.c5=function(e){const c=[];for(let f=0;f<e;++f)c.push(0);return c}}
{"use strict";const d=self.C,a=/([0-9.]+),([0-9.]+)%?,([0-9.]+)%?/i,b=/([0-9.]+),([0-9.]+)%?,([0-9.]+)%?,([0-9.])/i;function e(c,f,k){0>k&&(k+=1);1<k&&--k;return k<1/6?c+6*(f-c)*k:.5>k?f:k<2/3?c+(f-c)*(2/3-k)*6:c}d.jb=class{constructor(c,f,k,g){this.bb=this.fb=this.Ma=this.ib=0;c instanceof d.jb?this.set(c):this.Dp(c||0,f||0,k||0,g||0)}Tu(c,f,k){this.ib=+c;this.Ma=+f;this.fb=+k;this.ja()}Dp(c,f,k,g){this.ib=+c;this.Ma=+f;this.fb=+k;this.bb=+g;this.ja()}set(c){this.ib=c.ib;this.Ma=c.Ma;this.fb=c.fb;
this.bb=c.bb;return this}Aa(c){return this.set(c)}add(c){this.ib+=c.ib;this.Ma+=c.Ma;this.fb+=c.fb;this.bb+=c.bb;this.ja()}mY(c,f,k){this.ib+=+c;this.Ma+=+f;this.fb+=+k;this.bb+=0;this.ja()}Wl(c){this.ib=c.ib;this.Ma=c.Ma;this.fb=c.fb}bs(c){this.ib=d.ja(+c,0,1)}Su(c){this.Ma=d.ja(+c,0,1)}$r(c){this.fb=d.ja(+c,0,1)}bi(c){this.bb=d.ja(+c,0,1)}clone(){return d.F(d.jb,this.ib,this.Ma,this.fb,this.bb)}toArray(){return[this.ib,this.Ma,this.fb,this.bb]}ci(c,f){c[f++]=this.ib;c[f++]=this.Ma;c[f++]=this.fb;
c[f]=this.bb}hd(c){return this.ib===c.ib&&this.Ma===c.Ma&&this.fb===c.fb&&this.bb===c.bb}In(c){return this.ib===c.ib&&this.Ma===c.Ma&&this.fb===c.fb}az(c,f,k,g){return this.ib===c&&this.Ma===f&&this.fb===k&&this.bb===g}multiply(c){this.ib*=c.ib;this.Ma*=c.Ma;this.fb*=c.fb;this.bb*=c.bb}TE(){this.ib*=this.bb;this.Ma*=this.bb;this.fb*=this.bb}ja(){this.ib=d.ja(this.ib,0,1);this.Ma=d.ja(this.Ma,0,1);this.fb=d.ja(this.fb,0,1);this.bb=d.ja(this.bb,0,1);return this}Ru(c){this.ib=d.mG(c);this.Ma=d.aG(c);
this.fb=d.PF(c);this.bb=d.y1(c)}Via(){return`rgb(${100*(d.Xn(void 0)?NaN:this.ib)}%, ${100*(d.Xn(void 0)?NaN:this.Ma)}%, ${100*(d.Xn(void 0)?NaN:this.fb)}%)`}Ija(c){if("string"===typeof c){c=c.trim();"#"===c.charAt(0)&&(c=c.substr(1));if(3===c.length){var f=parseInt(c[0],16)/15;var k=parseInt(c[1],16)/15;c=parseInt(c[2],16)/15}else if(6===c.length)f=parseInt(c.substr(0,2),16)/255,k=parseInt(c.substr(2,2),16)/255,c=parseInt(c.substr(4,2),16)/255;else return;isFinite(f)&&this.bs(f);isFinite(k)&&this.Su(k);
isFinite(c)&&this.$r(c);this.bi(1)}}RE(c){if("string"===typeof c){c=c.replace(/^rgb\(|\)|%/,"");var f=c.split(",");if(!(3>f.length)){c=parseInt(f[0].trim(),10)/255;var k=parseInt(f[1].trim(),10)/255;f=parseInt(f[2].trim(),10)/255;isFinite(c)&&this.bs(c);isFinite(k)&&this.Su(k);isFinite(f)&&this.$r(f);this.bi(1)}}}SY(c){if("string"===typeof c){c=c.replace(/^rgb\(|\)|%/,"");var f=c.split(",");if(!(3>f.length)){c=parseInt(f[0].trim(),10)/100;var k=parseInt(f[1].trim(),10)/100;f=parseInt(f[2].trim(),
10)/100;isFinite(c)&&this.bs(c);isFinite(k)&&this.Su(k);isFinite(f)&&this.$r(f);this.bi(1)}}}UY(c){if("string"===typeof c){c=c.replace(/^rgba\(|\)|%/,"");var f=c.split(",");if(!(4>f.length)){c=parseInt(f[0].trim(),10)/255;var k=parseInt(f[1].trim(),10)/255,g=parseInt(f[2].trim(),10)/255;f=parseFloat(f[3].trim());isFinite(c)&&this.bs(c);isFinite(k)&&this.Su(k);isFinite(g)&&this.$r(g);isFinite(f)&&this.bi(f)}}}TY(c){if("string"===typeof c){c=c.replace(/^rgba\(|\)|%/,"");var f=c.split(",");if(!(4>f.length)){c=
parseInt(f[0].trim(),10)/100;var k=parseInt(f[1].trim(),10)/100,g=parseInt(f[2].trim(),10)/100;f=parseFloat(f[3].trim());isFinite(c)&&this.bs(c);isFinite(k)&&this.Su(k);isFinite(g)&&this.$r(g);isFinite(f)&&this.bi(f)}}}VY(c){if("string"===typeof c){c=c.replace(/\s+/,"");if(c.includes(",")){if(c.startsWith("rgb(")){c.includes("%")?this.SY(c):this.RE(c);return}if(c.startsWith("rgba(")){c.includes("%")?this.TY(c):this.UY(c);return}if(c.startsWith("hsl(")||c.startsWith("hsla(")){this.Hja(c);return}{const f=
c.split(",");if(c.includes("%")){if(3===f.length){this.SY(c);return}4===f.length&&this.TY(c)}else{if(3===f.length){this.RE(c);return}4===f.length&&this.UY(c)}return}}this.Ija(c)}}toJSON(){return[this.ib,this.Ma,this.fb,this.bb]}cZ(c,f,k,g){c%=360;f=d.ja(f,0,100);k=d.ja(k,0,100);g=d.ja(g,0,1);c/=360;f/=100;k/=100;if(0===f)k=f=c=k;else{const l=.5>k?k*(1+f):k+f-k*f,m=2*k-l;k=e(m,l,c+1/3);f=e(m,l,c);c=e(m,l,c-1/3)}this.bs(k);this.Su(f);this.$r(c);this.bi(g)}Hja(c){var f=c.replace(/ |hsl|hsla|\(|\)|;/gi,
"");c=a.exec(f);f=b.exec(f);c&&4===c.length?this.cZ(+c[1],+c[2],+c[3],1):f&&5===f.length&&this.cZ(+c[1],+c[2],+c[3],+c[4])}Mn(c){!Array.isArray(c)||3>c.length||(this.ib=c[0],this.Ma=c[1],this.fb=c[2],this.bb=4<=c.length?c[3]:1)}set r(c){this.bs(c)}get r(){return this.ib}set tia(c){this.$r(c)}get tia(){return this.fb}set up(c){this.bi(c)}get up(){return this.bb}static FF(c,f){return d.ja(Math.max(c,f)-Math.min(c,f),0,1)}};d.jb.rwa=Object.freeze(d.F(d.jb,1,1,1,1));d.jb.Fla=Object.freeze(d.F(d.jb,0,
0,0,1));d.jb.Mva=Object.freeze(d.F(d.jb,0,0,0,0))}
{"use strict";const d=self.C;d.pw=class{constructor(a,b){this.X=this.fa=0;a instanceof d.pw?this.Aa(a):this.set(a||0,b||0)}set(a,b){this.fa=+a;this.X=+b}Aa(a){this.fa=a.fa;this.X=a.X}hd(a){return this.fa===a.fa&&this.X===a.X}toArray(){return[this.fa,this.X]}ci(a,b){a[b++]=this.fa;a[b]=this.X}offset(a,b){this.fa+=+a;this.X+=+b}scale(a,b){this.fa*=a;this.X*=b}Xl(a,b){this.fa/=a;this.X/=b}round(){this.fa=Math.round(this.fa);this.X=Math.round(this.X)}floor(){this.fa=Math.floor(this.fa);this.X=Math.floor(this.X)}ceil(){this.fa=
Math.ceil(this.fa);this.X=Math.ceil(this.X)}angle(){return d.wg(0,0,this.fa,this.X)}rja(){return this.fa*this.fa+this.X*this.X}length(){return Math.sqrt(this.rja())}Qja(a,b){const e=this.fa*b-this.X*a;this.X=this.X*b+this.fa*a;this.fa=e}rotate(a){0!==a&&this.Qja(Math.sin(a),Math.cos(a))}move(a,b){0!==b&&(this.fa+=Math.cos(a)*b,this.X+=Math.sin(a)*b)}normalize(){const a=this.length();0!==a&&1!==a&&(this.fa/=a,this.X/=a)}ja(a,b){this.fa=d.ja(this.fa,a,b);this.X=d.ja(this.X,a,b)}}}
{"use strict";const d=self.C;d.Rect=class{constructor(a,b,e,c){this.aa=this.ba=this.S=this.U=0;a instanceof d.Rect?this.Aa(a):this.set(a||0,b||0,e||0,c||0)}set(a,b,e,c){this.U=+a;this.S=+b;this.ba=+e;this.aa=+c}jj(a,b,e,c){a=+a;b=+b;this.U=a;this.S=b;this.ba=a+ +e;this.aa=b+ +c}Aa(a){this.U=+a.U;this.S=+a.S;this.ba=+a.ba;this.aa=+a.aa}clone(){return new d.Rect(this.U,this.S,this.ba,this.aa)}hd(a){return this.U===a.U&&this.S===a.S&&this.ba===a.ba&&this.aa===a.aa}Wja(a){this.ba=+a}toArray(){return[this.U,
this.S,this.ba,this.aa]}cka(){new DOMRect(this.U,this.S,this.width(),this.height())}ci(a,b){a[b++]=this.U;a[b++]=this.S;a[b++]=this.ba;a[b]=this.aa}mka(a,b){a[b++]=this.U;a[b++]=this.S;a[b++]=this.ba;a[b++]=this.S;a[b++]=this.ba;a[b++]=this.aa;a[b++]=this.U;a[b]=this.aa}width(){return this.ba-this.U}height(){return this.aa-this.S}fj(){return(this.U+this.ba)/2}gj(){return(this.S+this.aa)/2}offset(a,b){a=+a;b=+b;this.U+=a;this.S+=b;this.ba+=a;this.aa+=b}offsetLeft(a){this.U+=+a}offsetTop(a){this.S+=
+a}Eja(a){this.ba+=+a}Dja(a){this.aa+=+a}LE(a,b){a=+a;b=+b;this.U-=a;this.S-=b;this.ba+=a;this.aa+=b}multiply(a,b){this.U*=a;this.S*=b;this.ba*=a;this.aa*=b}Xl(a,b){this.U/=a;this.S/=b;this.ba/=a;this.aa/=b}aka(){const a=this.U;this.U=this.ba;this.ba=a}ds(){const a=this.S;this.S=this.aa;this.aa=a}YN(a){const b=this.S;this.S=+a-this.aa;this.aa=+a-b}round(){this.U=Math.round(this.U);this.S=Math.round(this.S);this.ba=Math.round(this.ba);this.aa=Math.round(this.aa)}Rja(){this.U=Math.floor(this.U);this.S=
Math.floor(this.S);this.ba=Math.ceil(this.ba);this.aa=Math.ceil(this.aa)}floor(){this.U=Math.floor(this.U);this.S=Math.floor(this.S);this.ba=Math.floor(this.ba);this.aa=Math.floor(this.aa)}ceil(){this.U=Math.ceil(this.U);this.S=Math.ceil(this.S);this.ba=Math.ceil(this.ba);this.aa=Math.ceil(this.aa)}ja(a,b,e,c){this.U<a&&(this.U=+a);this.S<b&&(this.S=+b);this.ba>e&&(this.ba=+e);this.aa>c&&(this.aa=+c)}wY(){0>this.U&&(this.U=0);1<this.S&&(this.S=1);1<this.ba&&(this.ba=1);0>this.aa&&(this.aa=0)}normalize(){this.U>
this.ba&&this.aka();this.S>this.aa&&this.ds()}ME(a){return!(a.ba<this.U||a.aa<this.S||a.U>this.ba||a.S>this.aa)}fja(a,b,e){return!(a.ba+b<this.U||a.aa+e<this.S||a.U+b>this.ba||a.S+e>this.aa)}yg(a,b){return a>=this.U&&a<=this.ba&&b>=this.S&&b<=this.aa}sja(a){this.U=d.Gd(a.U,a.ba,this.U);this.S=d.Gd(a.S,a.aa,this.S);this.ba=d.Gd(a.U,a.ba,this.ba);this.aa=d.Gd(a.S,a.aa,this.aa)}}}
{"use strict";const d=self.C;d.Bd=class{constructor(a,b,e,c,f,k,g,l){this.vc=this.uc=this.xc=this.wc=this.Bc=this.Ac=this.Lb=this.Kb=0;a instanceof d.Bd?this.Aa(a):this.set(a||0,b||0,e||0,c||0,f||0,k||0,g||0,l||0)}set(a,b,e,c,f,k,g,l){this.Kb=+a;this.Lb=+b;this.Ac=+e;this.Bc=+c;this.wc=+f;this.xc=+k;this.uc=+g;this.vc=+l}dZ(a,b,e,c){this.set(a,b,e,b,e,c,a,c)}Aa(a){this.Kb=a.Kb;this.Lb=a.Lb;this.Ac=a.Ac;this.Bc=a.Bc;this.wc=a.wc;this.xc=a.xc;this.uc=a.uc;this.vc=a.vc}hd(a){return this.Kb===a.Kb&&this.Lb===
a.Lb&&this.Ac===a.Ac&&this.Bc===a.Bc&&this.wc===a.wc&&this.xc===a.xc&&this.uc===a.uc&&this.vc===a.vc}toArray(){return[this.Kb,this.Lb,this.Ac,this.Bc,this.wc,this.xc,this.uc,this.vc]}ci(a,b){a[b++]=this.Kb;a[b++]=this.Lb;a[b++]=this.Ac;a[b++]=this.Bc;a[b++]=this.wc;a[b++]=this.xc;a[b++]=this.uc;a[b]=this.vc}nka(a,b,e){a[b++]=this.Kb;a[b++]=this.Lb;a[b++]=e;a[b++]=this.Ac;a[b++]=this.Bc;a[b++]=e;a[b++]=this.wc;a[b++]=this.xc;a[b++]=e;a[b++]=this.uc;a[b++]=this.vc;a[b]=e}offset(a,b){a=+a;b=+b;this.Kb+=
a;this.Lb+=b;this.Ac+=a;this.Bc+=b;this.wc+=a;this.xc+=b;this.uc+=a;this.vc+=b}round(){this.Kb=Math.round(this.Kb);this.Lb=Math.round(this.Lb);this.Ac=Math.round(this.Ac);this.Bc=Math.round(this.Bc);this.wc=Math.round(this.wc);this.xc=Math.round(this.xc);this.uc=Math.round(this.uc);this.vc=Math.round(this.vc)}floor(){this.Kb=Math.floor(this.Kb);this.Lb=Math.floor(this.Lb);this.Ac=Math.floor(this.Ac);this.Bc=Math.floor(this.Bc);this.wc=Math.floor(this.wc);this.xc=Math.floor(this.xc);this.uc=Math.floor(this.uc);
this.vc=Math.floor(this.vc)}ceil(){this.Kb=Math.ceil(this.Kb);this.Lb=Math.ceil(this.Lb);this.Ac=Math.ceil(this.Ac);this.Bc=Math.ceil(this.Bc);this.wc=Math.ceil(this.wc);this.xc=Math.ceil(this.xc);this.uc=Math.ceil(this.uc);this.vc=Math.ceil(this.vc)}ij(a){this.Kb=a.U;this.Lb=a.S;this.Ac=a.ba;this.Bc=a.S;this.wc=a.ba;this.xc=a.aa;this.uc=a.U;this.vc=a.aa}Vja(a,b){0===b?this.ij(a):this.WE(a,Math.sin(b),Math.cos(b))}WE(a,b,e){const c=a.U*b,f=a.S*b,k=a.ba*b;b*=a.aa;const g=a.U*e,l=a.S*e,m=a.ba*e;a=a.aa*
e;this.Kb=g-f;this.Lb=l+c;this.Ac=m-f;this.Bc=l+k;this.wc=m-b;this.xc=a+k;this.uc=g-b;this.vc=a+c}rN(a){a.set(Math.min(this.Kb,this.Ac,this.wc,this.uc),Math.min(this.Lb,this.Bc,this.xc,this.vc),Math.max(this.Kb,this.Ac,this.wc,this.uc),Math.max(this.Lb,this.Bc,this.xc,this.vc))}yg(a,b){var e=this.Ac-this.Kb,c=this.Bc-this.Lb;const f=this.wc-this.Kb,k=this.xc-this.Lb;a-=this.Kb;b-=this.Lb;var g=e*e+c*c;let l=e*f+c*k;c=e*a+c*b;const m=f*f+k*k,q=f*a+k*b;let r=1/(g*m-l*l);e=(m*c-l*q)*r;g=(g*q-l*c)*r;
if(0<=e&&0<g&&1>e+g)return!0;e=this.uc-this.Kb;c=this.vc-this.Lb;g=e*e+c*c;l=e*f+c*k;c=e*a+c*b;r=1/(g*m-l*l);e=(m*c-l*q)*r;g=(g*q-l*c)*r;return 0<=e&&0<g&&1>e+g}fj(){return(this.Kb+this.Ac+this.wc+this.uc)/4}gj(){return(this.Lb+this.Bc+this.xc+this.vc)/4}uN(a){var b=a.fj(),e=a.gj();if(this.yg(b,e))return!0;b=this.fj();e=this.gj();if(a.yg(b,e))return!0;b=this.Kb;e=this.Lb;const c=this.Ac,f=this.Bc,k=this.wc,g=this.xc,l=this.uc,m=this.vc;return d.VE(b,e,c,f,a)||d.VE(c,f,k,g,a)||d.VE(k,g,l,m,a)||d.VE(l,
m,b,e,a)}Pja(){const a=this.Kb,b=this.Lb;this.Kb=this.Ac;this.Lb=this.Bc;this.Ac=this.wc;this.Bc=this.xc;this.wc=this.uc;this.xc=this.vc;this.uc=a;this.vc=b}}}
{"use strict";const d=self.C,a=[0,0,1,0,1,1,0,1],b=d.F(d.Bd);d.Hp=class extends d.oa{constructor(e,c=!0){super();e||(e=a);this.Pd=Float64Array.from(e);this.dC=new d.Rect;this.er=!0;this.Jh=c}A(){}KN(){return this.Pd.length/2}XE(e){this.Pd.length===e.length?this.Pd.set(e):this.Pd=Float64Array.from(e);this.er=!0}Uja(){this.XE(a)}Aa(e){this.XE(e.Pd)}WN(){this.er=!0}cia(){if(this.er){var e=this.Pd,c=e[0],f=e[1],k=c,g=f;for(let l=0,m=e.length;l<m;l+=2){const q=e[l],r=e[l+1];q<c&&(c=q);q>k&&(k=q);r<f&&
(f=r);r>g&&(g=r)}this.dC.set(c,f,k,g);this.er=!1}}ij(e){let c=this.Pd;8!==c.length&&(this.Pd=c=new Float64Array(8));c[0]=e.U-NaN;c[1]=e.S-NaN;c[2]=e.ba-NaN;c[3]=e.S-NaN;c[4]=e.ba-NaN;c[5]=e.aa-NaN;c[6]=e.U-NaN;c[7]=e.aa-NaN;this.dC.Aa(e);this.dC.offset(NaN,NaN);this.er=!1}XN(e,c,f){b.Aa(e);b.offset(c,f);this.XE(b.toArray());this.er=!0}transform(e,c,f){let k=0,g=1;0!==f&&(k=Math.sin(f),g=Math.cos(f));this.eO(e,c,k,g)}eO(e,c,f,k){const g=this.Pd;for(let l=0,m=g.length;l<m;l+=2){const q=l+1,r=g[l]*e,
p=g[q]*c;g[l]=r*k-p*f;g[q]=p*k+r*f}this.er=!0}offset(e,c){const f=this.Pd;for(let k=0,g=f.length;k<g;k+=2)f[k]+=e,f[k+1]+=c}yg(e,c){const f=this.Pd;if(e===f[0]&&c===f[1])return!0;this.cia();var k=this.dC;const g=k.U-110,l=k.S-101,m=k.ba+131;k=k.aa+120;let q,r,p,u,t,w,x,z;g<e?(q=g,p=e):(q=e,p=g);l<c?(r=l,u=c):(r=c,u=l);m<e?(t=m,x=e):(t=e,x=m);k<c?(w=k,z=c):(w=c,z=k);let D=0,G=0;for(let B=0,H=f.length;B<H;B+=2){var N=(B+2)%H;const I=f[B],K=f[B+1],Q=f[N];N=f[N+1];d.Ln(g,l,e,c,q,p,r,u,I,K,Q,N)&&++D;d.Ln(m,
k,e,c,t,x,w,z,I,K,Q,N)&&++G}return 1===D%2||1===G%2}ez(e,c,f){const k=e.Pd,g=this.Pd;if(this.yg(k[0]+c,k[1]+f)||e.yg(g[0]-c,g[1]-f))return!0;for(let m=0,q=g.length;m<q;m+=2){var l=(m+2)%q;e=g[m];const r=g[m+1],p=g[l];l=g[l+1];let u,t,w,x;e<p?(u=e,w=p):(u=p,w=e);r<l?(t=r,x=l):(t=l,x=r);for(let z=0,D=k.length;z<D;z+=2){const G=(z+2)%D;if(d.Ln(e,r,p,l,u,w,t,x,k[z]+c,k[z+1]+f,k[G]+c,k[G+1]+f))return!0}}return!1}ke(){return this.Jh}}}
{"use strict";const d=self.C;d.Vv=class extends d.oa{constructor(a){super();this.wl=new Map;if(a)for(const [b,e,c]of a)this.Set(b,e,c)}A(){this.Vc();this.wl=null}Vc(){const a=this.wl;for(const b of a.values())b.clear();a.clear()}Set(a,b,e){const c=this.wl;let f=c.get(a);f||(f=new Map,c.set(a,f));f.set(b,e)}na(a,b){return(a=this.wl.get(a))?a.get(b):a}yA(a){return(a=this.wl.get(a))?a.has(void 0):!1}Ip(a,b){const e=this.wl,c=e.get(a);c&&c.delete(b)&&0===c.size&&e.delete(a)}MO(a){const b=this.wl,e=b.get(a);
e&&(e.clear(),b.delete(a));for(const [c,f]of b.entries())f.delete(a)&&0===f.size&&b.delete(c)}Vn(){let a=0;for(const b of this.wl.values())a+=b.size;return a}*values(){for(const a of this.wl.values())yield*a.values()}*entries(){for(const [a,b]of this.wl.entries())for(const [e,c]of b.entries())yield[a,e,c]}}}
{"use strict";const d=self.C;d.oF=class extends d.oa{constructor(){super();this.ep=new Set;this.$B=[];this.fy=!1}A(){this.Vc()}Vc(){this.ep.clear();d.G(this.$B);this.fy=!1}Jc(a){this.ep.has(a)||(this.ep.add(a),this.fy||this.$B.push(a))}yA(a){return this.ep.has(a)}Ip(a){this.ep.delete(a)&&(this.fy=!0)}Vn(){return this.ep.size}Zp(){return 0===this.ep.size}OF(){this.fy&&(this.cea(),this.fy=!1);return this.$B}cea(){const a=this.$B;d.G(a);for(const b of this.ep)a.push(b)}}}
{"use strict";const d=new Map,a=new Map,b=new Map,e=new Map,c=new Map,f=new Map;f.set("linear","noease");f.set("default","noease");self.jv=class k{constructor(){}static w4(g){this.pI();return[...a.keys()].includes(g)}static zba(g){const l=f.get(g);if(l)return d.get(l);if(k.w4(g))return d.get(g);if(c.has(g))return c.get(g)}static Op(g){this.pI();const l=k.zba(g);return l?l:e.get(g)}static pI(){0===d.size&&(this.Ob("default",()=>{}),this.Ob("noease",this.l5),this.Ob("easeinsine",this.X0),this.Ob("easeoutsine",
this.f1),this.Ob("easeinoutsine",this.T0),this.Ob("easeinelastic",this.I0),this.Ob("easeoutelastic",this.a1),this.Ob("easeinoutelastic",this.O0),this.Ob("easeinback",this.F0),this.Ob("easeoutback",this.Y0),this.Ob("easeinoutback",this.K0),this.Ob("easeinbounce",this.OO),this.Ob("easeoutbounce",this.HF),this.Ob("easeinoutbounce",this.L0),this.Ob("easeincubic",this.H0),this.Ob("easeoutcubic",this.$0),this.Ob("easeinoutcubic",this.N0),this.Ob("easeinquad",this.U0),this.Ob("easeoutquad",this.c1),this.Ob("easeinoutquad",
this.Q0),this.Ob("easeinquart",this.V0),this.Ob("easeoutquart",this.d1),this.Ob("easeinoutquart",this.R0),this.Ob("easeinquint",this.W0),this.Ob("easeoutquint",this.e1),this.Ob("easeinoutquint",this.S0),this.Ob("easeincirc",this.G0),this.Ob("easeoutcirc",this.Z0),this.Ob("easeinoutcirc",this.M0),this.Ob("easeinexpo",this.J0),this.Ob("easeoutexpo",this.b1),this.Ob("easeinoutexpo",this.P0),this.AS("cubicbezier",this.E0),this.AS("spline",this.g1))}static Ob(g,l){k.hI(g,l,"predefined")}static AS(g,l){k.hI(g,
l,"private")}static yZ(g,l){this.pI();k.hI(g,l,"custom",void 0)}static hI(g,l,m,q){switch(m){case "predefined":d.set(g,l);a.set(g,l);break;case "custom":q?(b.has(q)||b.set(q,new Map),b.get(q).set(g,l)):e.set(g,l);break;case "private":d.set(g,l);c.set(g,l);break;default:throw Error("unexpected ease mode");}}static l5(g,l,m,q){return m*g/q+l}static U0(g,l,m,q){return m*(g/=q)*g+l}static c1(g,l,m,q){return-m*(g/=q)*(g-2)+l}static Q0(g,l,m,q){return 1>(g/=q/2)?m/2*g*g+l:-m/2*(--g*(g-2)-1)+l}static H0(g,
l,m,q){return m*(g/=q)*g*g+l}static $0(g,l,m,q){return m*((g=g/q-1)*g*g+1)+l}static N0(g,l,m,q){return 1>(g/=q/2)?m/2*g*g*g+l:m/2*((g-=2)*g*g+2)+l}static V0(g,l,m,q){return m*(g/=q)*g*g*g+l}static d1(g,l,m,q){return-m*((g=g/q-1)*g*g*g-1)+l}static R0(g,l,m,q){return 1>(g/=q/2)?m/2*g*g*g*g+l:-m/2*((g-=2)*g*g*g-2)+l}static W0(g,l,m,q){return m*(g/=q)*g*g*g*g+l}static e1(g,l,m,q){return m*((g=g/q-1)*g*g*g*g+1)+l}static S0(g,l,m,q){return 1>(g/=q/2)?m/2*g*g*g*g*g+l:m/2*((g-=2)*g*g*g*g+2)+l}static X0(g,
l,m,q){return-m*Math.cos(g/q*(Math.PI/2))+m+l}static f1(g,l,m,q){return m*Math.sin(g/q*(Math.PI/2))+l}static T0(g,l,m,q){return-m/2*(Math.cos(Math.PI*g/q)-1)+l}static J0(g,l,m,q){return 0===g?l:m*Math.pow(2,10*(g/q-1))+l}static b1(g,l,m,q){return g===q?l+m:m*(-Math.pow(2,-10*g/q)+1)+l}static P0(g,l,m,q){return 0===g?l:g===q?l+m:1>(g/=q/2)?m/2*Math.pow(2,10*(g-1))+l:m/2*(-Math.pow(2,-10*--g)+2)+l}static G0(g,l,m,q){return-m*(Math.sqrt(1-(g/=q)*g)-1)+l}static Z0(g,l,m,q){return m*Math.sqrt(1-(g=g/q-
1)*g)+l}static M0(g,l,m,q){return 1>(g/=q/2)?-m/2*(Math.sqrt(1-g*g)-1)+l:m/2*(Math.sqrt(1-(g-=2)*g)+1)+l}static I0(g,l,m,q){let r=0,p=m;if(0===g)return l;if(1===(g/=q))return l+m;r||(r=.3*q);p<Math.abs(m)?(p=m,m=r/4):m=r/(2*Math.PI)*Math.asin(m/p);return-(p*Math.pow(2,10*--g)*Math.sin(2*(g*q-m)*Math.PI/r))+l}static a1(g,l,m,q){let r,p=0,u=m;if(0===g)return l;if(1===(g/=q))return l+m;p||(p=.3*q);u<Math.abs(m)?(u=m,r=p/4):r=p/(2*Math.PI)*Math.asin(m/u);return u*Math.pow(2,-10*g)*Math.sin(2*(g*q-r)*
Math.PI/p)+m+l}static O0(g,l,m,q){let r,p=0,u=m;if(0===g)return l;if(2===(g/=q/2))return l+m;p||(p=.3*q*1.5);u<Math.abs(m)?(u=m,r=p/4):r=p/(2*Math.PI)*Math.asin(m/u);return 1>g?-.5*u*Math.pow(2,10*--g)*Math.sin(2*(g*q-r)*Math.PI/p)+l:u*Math.pow(2,-10*--g)*Math.sin(2*(g*q-r)*Math.PI/p)*.5+m+l}static F0(g,l,m,q,r){void 0===r&&(r=1.70158);return m*(g/=q)*g*((r+1)*g-r)+l}static Y0(g,l,m,q,r){void 0===r&&(r=1.70158);return m*((g=g/q-1)*g*((r+1)*g+r)+1)+l}static K0(g,l,m,q,r){void 0===r&&(r=1.70158);return 1>
(g/=q/2)?m/2*g*g*(((r*=1.525)+1)*g-r)+l:m/2*((g-=2)*g*(((r*=1.525)+1)*g+r)+2)+l}static OO(g,l,m,q){return m-k.HF(q-g,0,m,q)+l}static HF(g,l,m,q){return(g/=q)<1/2.75?7.5625*m*g*g+l:g<2/2.75?m*(7.5625*(g-=1.5/2.75)*g+.75)+l:g<2.5/2.75?m*(7.5625*(g-=2.25/2.75)*g+.9375)+l:m*(7.5625*(g-=2.625/2.75)*g+.984375)+l}static L0(g,l,m,q){return g<q/2?.5*k.OO(2*g,0,m,q)+l:.5*k.HF(2*g-q,0,m,q)+.5*m+l}static E0(g,l,m,q,r){return l+3*g*(m-l)+3*g**2*(l+q-2*m)+g**3*(r-l+3*m-3*q)}static g1(g,l,m,q,r,p,u,t,w,x){if(q===
r&&p===u)return g;if(1==g)g=1;else{for(var z=0,D=1,G=x[D];10!=D&&G<=g;)D++,G=x[D],z+=.1;D--;G=x[D];x=z+(g-G)/(x[D+1]-G)*.1;t=t-3*p+3*q-l;p=3*p-6*q+3*l;l=3*(q-l);q=3*t*x*x+2*p*x+l;if(0!==q)if(.02<=q)for(z=0;4>z;++z)x-=(((t*x+p)*x+l)*x-g)/(3*t*x*x+2*p*x+l);else{q=z;z+=.1;D=0;let N;do x=q+(z-q)/2,G=((t*x+p)*x+l)*x-g,0<G?z=x:q=x,G=1E-7<Math.abs(G),N=10>++D;while(G&&N)}g=x}return(((w-3*u+3*r-m)*g+(3*u-6*r+3*m))*g+3*(r-m))*g}static F1(g,l,m,q){const r=[];q=q-3*m+3*l-g;m=3*m-6*l+3*g;g=3*(l-g);for(let p=
0;11>p;++p)l=.1*p,r.push(((q*l+m)*l+g)*l);return r}}}{"use strict";const d=self.C;d.Fra=class{constructor(){this.GW=[]}A(){this.Vc();this.GW=null}Vc(){d.Aia(this.GW)}}}"use strict";
self.C.Event=class{constructor(d,a){this.type=d;this.cancelable=!!a;this.hja=this.ON=this.defaultPrevented=!1}preventDefault(){if(!this.cancelable)throw Error(`event '${this.type}' is not cancelable`);this.defaultPrevented=!0}stopPropagation(){if(!this.cancelable)throw Error(`event '${this.type}' cannot be stopped`);if(this.hja)throw Error(`cannot stop async event '${this.type}' propagation`);this.ON=!0}};
{"use strict";const d=self.C;d.Event.V2=class extends d.oa{constructor(a){super();this.Ga=a;this.jg=[];this.tt=new Set;this.pg=[];this.$t=new Set;this.qx=0;this.ou=[]}A(){0<this.qx||(d.G(this.jg),this.tt.clear(),d.G(this.pg),this.$t.clear(),d.G(this.ou),d.A(this))}yS(a,b){this.TT()?this.ou.push({HN:"add",ej:a,capture:b}):b?this.tt.has(a)||(this.jg.push(a),this.tt.add(a)):this.$t.has(a)||(this.pg.push(a),this.$t.add(a))}sea(a,b){this.TT()?this.ou.push({HN:"remove",ej:a,capture:b}):b?this.tt.has(a)&&
(this.tt.delete(a),d.Yr(this.jg,a)):this.$t.has(a)&&(this.$t.delete(a),d.Yr(this.pg,a))}nca(){return!this.jg.length&&!this.pg.length}TT(){return 0<this.qx}$da(){const a=new Set,b=new Set;for(const e of this.ou)if("add"===e.HN)this.yS(e.ej,e.capture),e.capture?b.delete(e.ej):a.delete(e.ej);else if("remove"===e.HN)e.capture?(this.tt.delete(e.ej),b.add(e.ej)):(this.$t.delete(e.ej),a.add(e.ej));else throw Error("invalid op");d.ai(this.pg,a);d.ai(this.jg,b);d.G(this.ou)}jba(a){this.it();let b=!1;for(let e=
0,c=this.jg.length;e<c;++e)if(this.jg[e](a),a.ON){b=!0;break}if(!b)for(let e=0,c=this.pg.length;e<c&&(this.pg[e](a),!a.ON);++e);this.gt();return!a.defaultPrevented}lba(a){this.it();for(let b=0,e=this.jg.length;b<e;++b)this.jg[b](a);for(let b=0,e=this.pg.length;b<e;++b)this.pg[b](a);this.gt();return!0}it(){this.qx++}gt(){this.qx--;0===this.qx&&0<this.ou.length&&this.$da()}Ps(a){a?this.it():this.gt()}fT(a){const b=[];this.it();for(let c=0,f=this.jg.length;c<f;++c){var e=this.jg[c](a);e instanceof Promise&&
b.push(e)}for(let c=0,f=this.pg.length;c<f;++c)e=this.pg[c](a),e instanceof Promise&&b.push(e);this.gt();return b.length?Promise.all(b).then(()=>!a.defaultPrevented):!a.defaultPrevented}async gba(a){return await this.fT(a)}async hba(a){this.it();for(let e=0,c=this.jg.length;e<c;++e){var b=this.jg[e](a);b instanceof Promise&&await b}for(let e=0,c=this.pg.length;e<c;++e)b=this.pg[e](a),b instanceof Promise&&await b;this.gt();return!a.defaultPrevented}*iba(a){this.it();for(let e=0,c=this.jg.length;e<
c;++e){var b=this.jg[e](a);d.Zn(b)&&(yield*b)}for(let e=0,c=this.pg.length;e<c;++e)b=this.pg[e](a),d.Zn(b)&&(yield*b);this.gt()}}}
{"use strict";const d=self.C;d.Event.Fb=class extends d.oa{constructor(){super();this.Tq=new Map;this.mK=!1}A(){if(this.mK)throw Error("already released");this.p_();this.mK=!0;d.A(this)}gB(){return this.mK}p_(){for(let a of this.Tq.values())a.A();this.Tq.clear()}yq(a,b){let e=this.Tq.get(a);return e?e:b?(e=d.F(d.Event.V2,a),this.Tq.set(a,e),e):null}xG(a){return this.Tq.has(a)}addEventListener(a,b,e){this.yq(a,!0).yS(b,!!e)}removeEventListener(a,b,e){let c=this.yq(a,!1);c&&(c.sea(b,!!e),c.nca()&&this.Tq.delete(a))}dispatchEvent(a){const b=
this.yq(a.type,!1);return b?a.cancelable?b.jba(a):b.lba(a):!0}async mN(a){const b=this.yq(a.type,!1);return b?await b.gba(a):!0}Lia(a){const b=this.yq(a.type,!1);return b?b.fT(a):!0}async Kia(a){const b=this.yq(a.type,!1);b&&await b.hba(a)}Mia(a){const b=this.yq(a.type,!1);if(!b)return null;if(a.cancelable)throw Error("not supported");return b.iba(a)}Ps(a){for(const b of this.Tq.values())b.Ps(a)}}}
{"use strict";const d=self.C,a="undefined"!==typeof requestIdleCallback;let b=[],e=-1,c=0;function f(m){e=a&&0===c?requestIdleCallback(k,{timeout:35}):setTimeout(k,0<c?1:m)}function k(m){e=-1;if(b.length){var q=performance.now(),r=0;do{g(b.shift());var p=performance.now();++r;var u=(p-q)/r*1.1}while(b.length&&(a&&0===c&&"undefined"!==typeof m?u<m.timeRemaining():12>p-q+u));-1===e&&b.length&&f(Math.max(16-(p-q),4))}}function g(m){let q;try{q=m.ej()}catch(r){m.reject(r);return}m.resolve(q)}let l=d.kH.yA("disable-asyncify");
l&&console.warn("[Asyncify] Asyncify has been disabled due to disable-asyncify in the query string. Some work will now be done synchronously.");d.am=function(m){let q=null;d.Lu&&(q=d.Xz());return new Promise((r,p)=>{b.push({ej:m,resolve:r,reject:p,stack:q});l?g(b.pop()):-1===e&&f(16)})};d.am.HR=function(m){if(m)++c;else if(--c,0>c)throw Error("already turned off high throughput mode");}}
{"use strict";const d=self.C;let a=-1;function b(){a=-1}d.Sz=function(){-1===a&&(a=Date.now(),self.setTimeout(b,16));return a};let e=-1,c=-1,f=new Set;function k(){c=e=-1;let g=Date.now();for(let l of f)if(l.F$(g)){let m=l.Pq;if(-1===c||m<c)c=m}else f.delete(l);-1!==c&&(e=self.setTimeout(k,Math.max(c-g+100,1E3)))}d.B3=class{constructor(g,l){this.qt=g;this.nE=1E3*l;this.Pq=0;this.Tb=!1}Wd(){let g=d.Sz();this.Pq=g+this.nE;this.Tb||(f.add(this),this.Tb=!0);-1===e?(c=this.Pq,e=self.setTimeout(k,this.nE+
100)):this.Pq<c&&c>g+1E3&&(self.clearTimeout(e),c=this.Pq,e=self.setTimeout(k,this.nE+100))}F$(g){return g>=this.Pq?this.qt()?(this.Pq=g+this.nE,!0):this.Tb=!1:!0}j_(){this.Tb&&(f.delete(this),this.Tb=!1,0===f.size&&-1!==e&&(self.clearTimeout(e),c=e=-1))}A(){this.j_();this.qt=null}}}
{"use strict";const d=self.C;d.pb=class a{constructor(b){this.It=!1;this.oK=b}Oz(){this.It||(this.It=!0,this.oK&&(this.oK(),this.oK=null))}A(){this.Oz()}static A(b){return new a(()=>b.A())}static Gb(b,e,c){if("undefined"===typeof f||null===f)var f=!1;else if("boolean"!==typeof f&&"object"!==typeof f)throw new TypeError("invalid event listener options");if(e.includes(" ")){e=e.split(" ");const k=new d.cm;for(let g of e)b.addEventListener(g,c,f),k.Jc(d.F(d.pb,()=>b.removeEventListener(g,c,f)));return k}b.addEventListener(e,
c,f);return d.F(d.pb,()=>b.removeEventListener(e,c,f))}};d.yva=class extends d.pb{};d.cm=class extends d.pb{constructor(...a){super();this.rd=new Set;for(let b of a)this.Jc(b)}Jc(...a){if(this.It)throw Error("already disposed");for(let b of a)this.rd.add(b)}pi(a){if(this.It)throw Error("already disposed");this.rd.delete(a)}Oz(){if(this.It)throw Error("already disposed");this.It=!0;for(let a of this.rd)a.Oz();this.rd.clear();this.rd=null}A(){this.Oz()}}}
{"use strict";const d=self.C;d.Rv=class extends d.oa{constructor(){super();this.vu=this.Gy=this.X=this.gC=0}Jc(a){this.X=+a-this.gC;this.Gy=this.vu+this.X;this.gC=this.Gy-this.vu-this.X;this.vu=this.Gy}na(){return this.vu}Wd(){this.vu=this.Gy=this.X=this.gC=0}Set(a){this.Gy=this.X=this.gC=0;this.vu=+a}A(){}}}
{"use strict";const d=self.C,a={mH:function(b){this.kZ=b;this.left=this.right=this.kZ.Cb;this.parent=null;this.color=!1;this.key=null},iq:function(b){this.size=0;this.Cb=new a.mH(this);this.Cb.color=!1;this.root=this.Cb;this.root.parent=this.Cb;this.compare=b||this.Gia}};ya=a.iq.prototype;ya.Gia=function(b,e){return b<e?-1:e<b?1:0};ya.clone=function(){var b=new a.iq(this.compare);b.cja(this);return b};ya.clear=function(){this.size=0;this.Cb=new a.mH(this);this.Cb.color=!1;this.root=this.Cb;this.root.parent=
this.Cb};ya.fz=function(b){var e=b.right;b.right=e.left;e.left!=this.Cb&&(e.left.parent=b);e.parent=b.parent;b.parent==this.Cb?this.root=e:b==b.parent.left?b.parent.left=e:b.parent.right=e;e.left=b;b.parent=e};ya.oz=function(b){var e=b.left;b.left=e.right;e.right!=this.Cb&&(e.right.parent=b);e.parent=b.parent;b.parent==this.Cb?this.root=e:b==b.parent.right?b.parent.right=e:b.parent.left=e;e.right=b;b.parent=e};ya.Iu=function(b){if(this.contains(b))this.bz(b).key=b;else{var e=new a.mH(this);e.key=
b;b=this.Cb;for(var c=this.root;c!=this.Cb;)b=c,c=0>this.compare(e.key,c.key)?c.left:c.right;e.parent=b;b==this.Cb?this.root=e:0>this.compare(e.key,b.key)?b.left=e:b.right=e;e.left=this.Cb;e.right=this.Cb;e.color=!0;this.dja(e);this.size++}};ya.dja=function(b){for(;b!=this.Cb&&b!=this.root&&1==b.parent.color;)if(b.parent==b.parent.parent.left){var e=b.parent.parent.right;1==e.color?(b.parent.color=!1,e.color=!1,b.parent.parent.color=!0,b=b.parent.parent):(b==b.parent.right&&(b=b.parent,this.fz(b)),
b.parent.color=!1,b.parent.parent.color=!0,b.parent.parent!=this.Cb&&this.oz(b.parent.parent))}else e=b.parent.parent.left,1==e.color?(b.parent.color=!1,e.color=!1,b.parent.parent.color=!0,b=b.parent.parent):(b==b.parent.left&&(b=b.parent,this.oz(b)),b.parent.color=!1,b.parent.parent.color=!0,b.parent.parent!=this.Cb&&this.fz(b.parent.parent));this.root.color=!1};ya.Iia=function(b){var e=b.left==this.Cb||b.right==this.Cb?b:this.Fp(b);var c=e.left!=this.Cb?e.left:e.right;c.parent=e.parent;e.parent==
this.Cb?this.root=c:e==e.parent.left?e.parent.left=c:e.parent.right=c;e!=b&&(b.key=e.key);0==e.color&&this.Hia(c);this.size--};ya.Hia=function(b){for(;b!=this.root&&0==b.color;)if(b==b.parent.left){var e=b.parent.right;1==e.color&&(e.color=!1,b.parent.color=!0,this.fz(b.parent),e=b.parent.right);0==e.left.color&&0==e.right.color?(e.color=!0,b=b.parent):(0==e.right.color&&(e.left.color=!1,e.color=!0,this.oz(e),e=b.parent.right),e.color=b.parent.color,b.parent.color=!1,e.right.color=!1,this.fz(b.parent),
b=this.root)}else e=b.parent.left,1==e.color&&(e.color=!1,b.parent.color=!0,this.oz(b.parent),e=b.parent.left),0==e.right.color&&0==e.left.color?(e.color=!0,b=b.parent):(0==e.left.color&&(e.right.color=!1,e.color=!0,this.fz(e),e=b.parent.left),e.color=b.parent.color,b.parent.color=!1,e.left.color=!1,this.oz(b.parent),b=this.root);b.color=!1};ya.remove=function(b){b=this.bz(b);if(b!=this.Cb){var e=b.key;this.Iia(b);return e}return null};ya.min=function(b){for(;b.left!=this.Cb;)b=b.left;return b};ya.max=
function(b){for(;b.right!=this.Cb;)b=b.right;return b};ya.Fp=function(b){if(b.right!=this.Cb)return this.min(b.right);for(var e=b.parent;e!=this.Cb&&b==e.right;)b=e,e=e.parent;return e};ya.bz=function(b){for(var e=this.root;e!=this.Cb&&0!=this.compare(e.key,b);)e=0>this.compare(b,e.key)?e.left:e.right;return e};ya.contains=function(b){return null!=this.bz(b).key};ya.sN=function(){var b=[];this.forEach(function(e){b.push(e)});return b};ya.cja=function(b){if("array"==a.fO(b))for(var e=0;e<b.length;e++)this.Iu(b[e]);
else if("function"==a.fO(b.forEach))b.forEach(this.Iu,this);else if("function"==a.fO(b.sN))for(b=b.sN(),e=0;e<b.length;e++)this.Iu(b[e]);else if("object"==a.fO(b))for(e in b)this.Iu(b[e])};ya.range=function(b,e){var c=[];this.gka(function(f){c.push(f)},b,e);return c};ya.gka=function(b,e,c){if(!this.Mu())for(e=this.bz(e),c=this.bz(c);e!=c&&!b.call(void 0,e.key,this);)e=this.Fp(e)};ya.forEach=function(b,e){if(!this.Mu())for(var c=this.min(this.root);c!=this.Cb;c=this.Fp(c))b.call(e,c.key,c.key,this)};
ya.some=function(b,e){if(this.Mu())return!1;for(var c=this.min(this.root);c!=this.Cb;c=this.Fp(c))if(b.call(e,c.key,c.key,this))return!0;return!1};ya.every=function(b,e){if(this.Mu())return!1;for(var c=this.min(this.root);c!=this.Cb;c=this.Fp(c))if(!b.call(e,c.key,c.key,this))return!1;return!0};ya.map=function(b,e){var c=[];if(this.Mu())return c;for(var f=this.min(this.root);f!=this.Cb;f=this.Fp(f))c.push(b.call(e,f.key,f.key,this));return c};ya.filter=function(b,e){var c=[];if(this.Mu())return c;
for(var f=this.min(this.root);f!=this.Cb;f=this.Fp(f))b.call(e,f.key,f.key,this)&&c.push(f.key);return c};ya.Mu=function(){return 0==this.size};d.iq=class extends d.oa{constructor(b){super();this.Si=new a.iq(b);this.Kt=!1;this.Er=new Set;this.Fr=new Set}Jc(b){this.Kt?this.Si.contains(b)?this.Fr.delete(b):this.Er.add(b):this.Si.Iu(b)}pi(b){this.Kt?this.Si.contains(b)?this.Fr.add(b):this.Er.delete(b):this.Si.remove(b)}yA(b){return this.Kt?this.Er.has(b)?!0:!this.Fr.has(b)&&this.Si.contains(b):this.Si.contains(b)}Vc(){this.Si.clear();
this.Er.clear();this.Fr.clear()}toArray(){if(this.Kt)throw Error("cannot be used in queueing mode");return this.Si.sN()}Vn(){return this.Si.size+this.Er.size-this.Fr.size}Zp(){return 0===this.Vn()}ti(b){b=!!b;if(this.Kt!==b&&(this.Kt=b,!b)){for(const e of this.Fr)this.Si.remove(e);this.Fr.clear();for(const e of this.Er)this.Si.Iu(e);this.Er.clear()}}*values(){if(!this.Zp()){var b=this.Si;for(let e=b.min(b.root);e!=b.Cb;e=b.Fp(e))yield e.key}}[Symbol.iterator](){return this.values()}}}
{"use strict";const d=self.C;d.UQ=class{constructor(a=d.hardwareConcurrency){this.Eha=a;this.kM=[];this.HJ=0}Jc(a){return new Promise((b,e)=>{this.kM.push({ej:a,resolve:b,reject:e});this.fU()})}async fU(){if(this.kM.length&&!(this.HJ>=this.Eha)){this.HJ++;var a=this.kM.shift();try{const b=await a.ej();a.resolve(b)}catch(b){a.reject(b)}this.HJ--;this.fU()}}}}
{"use strict";const d=self.C;d.Q6=class{constructor(a,b,e){this.qt=a;this.pha=b;this.qha=e||2*b;this.zu=-1;this.uD=-Infinity;this.aY=()=>this.Nda();this.Zga=this.PK=!1;this.gx=null}Eba(){return"undefined"!==typeof d.$Z&&d.$Z.apa()?this.qha:this.pha}uO(...a){if(-1===this.zu){this.gx=a;a=d.Sz();var b=a-this.uD,e=this.Eba();b>=e&&this.Zga?(this.uD=a,this.EU()):this.zu=self.setTimeout(this.aY,Math.max(e-b,4))}}EU(){this.PK=!0;const a=this.gx;this.gx=null;a?this.qt(...a):this.qt();this.PK=!1}Wd(){this.PK||
(this.FS(),this.gx=null,this.uD=d.Sz())}Nda(){this.zu=-1;this.uD=d.Sz();this.EU()}FS(){-1!==this.zu&&(self.clearTimeout(this.zu),this.zu=-1)}A(){this.FS();this.aY=this.gx=this.qt=null}}}"use strict";function gc(d,a){if(!d.cW)throw Error("no get base size callback set");return d.cW(a)}function hc(d){if(!d.yX)throw Error("no redraw callback set");d.yX()}self.C.gta=class{constructor(){this.mha=new Map;this.yX=this.BX=this.cW=null}};"use strict";
self.C.fta=class{constructor(d,a){this.eu=d;this.bha=a;this.fd=0;gc(this.eu,a).then(()=>{hc(this.eu)}).catch(b=>{console.error("[SVG] Error loading SVG: ",b);hc(this.eu)});this.lM=null}A(){if(0>=this.fd)throw Error("already released");this.fd--;0===this.fd&&this.Nw()}Nw(){if(this.lM){var d=this.eu;if(!d.BX)throw Error("no release result callback set");d.BX(this.lM);this.lM=null}this.eu.mha.delete(this.bha);this.eu=null}};
{"use strict";const d=self.C;d.Qva="\ufeff";const a=new Set([..."0123456789"]);d.x4=function(m){return a.has(m)};const b=new Set([..." \t\n\r\u00a0\u0085\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u200b\u2028\u2029\u202f\u205f\u3000"]);d.JA=function(m){return b.has(m)};d.Fna=function(m){return[...m].filter(q=>!d.JA(q)).join("")};d.IA=function(m){for(const q of m)if(!d.JA(q))return!1;return!0};d.J4=function(m){return 1===m.length&&32>m.charCodeAt(0)};d.t1=function(m){return[...m].filter(q=>
!d.J4(q)).join("")};const e=new Set([..."0123456789.+-e"]);d.npa=function(m){m=m.trim();if(!m.length)return!1;let q=m.charAt(0);if("-"!==q&&!a.has(q))return!1;for(let r of m)if(!e.has(r))return!1;return!0};d.a7=function(m){let q=m.length;for(;0<q&&d.x4(m.charAt(q-1));)--q;return m.substr(0,q)};d.toa=function(m){let q=d.a7(m);m=(m=m.substr(q.length))?(parseInt(m,10)+1).toString():"2";return q+m};const c=new Map([["&","&amp;"],["<","&lt;"],[">","&gt;"],['"',"&quot;"],["'","&#39;"]]);function f(m){return c.get(m)}
const k=/[&<>"']/g;d.j1=function(m){return m.replace(k,f)};d.sna=function(m){m=d.Bj(m,"\\","\\\\");m=d.Bj(m,'"','\\"');m=d.Bj(m,"\t","\\t");m=d.Bj(m,"\r","");return d.Bj(m,"\n","\\n")};d.tna=function(m){m=d.Bj(m,"&","&amp;");m=d.Bj(m,"<","&lt;");m=d.Bj(m,">","&gt;");return d.Bj(m,'"',"&quot;")};const g=/[-[\]{}()*+?.,\\^$|#\s]/g;d.kv=function(m){return m.replace(g,"\\$&")};d.Gna=function(m,q,r=!1){if(!q)return[];r||(m=m.toLowerCase(),q=q.toLowerCase());r=q.length;var p=0;let u=[];for(;-1<(p=m.indexOf(q,
p));)u.push(p),p+=r;return u};d.Bj=function(m,q,r){return m.replaceAll(q,()=>r)};d.Wra=function(m,q,r){return m.replace(new RegExp(d.kv(q),"gi"),()=>r)};d.Tta=function(m,q){"string"===typeof q?m.textContent=q:q.DW?m.textContent=q.toString():(m.innerHTML=q.bO(),q instanceof d.lj&&q.sia(m))};d.tva=function(m,q){return m instanceof d.CG||m instanceof d.lj?m.hd(q):q instanceof d.CG||q instanceof d.lj?q.hd(m):m===q};d.uva=function(m,...q){let r=m;for(let p=0,u=q.length;p<u;++p){const t=`{${p}}`;if(!m.includes(t))throw Error(`missing placeholder '${t}' in string substitution`);
r=r.replace(t,q[p].toString())}return r};d.vva=function(m,...q){let r=m,p=-1,u=-1;for(let t=0,w=q.length;t<w;++t){const x=`{${t}}`;m.includes(x)?(u=t,r=r.replace(x,q[t].toString())):-1===p&&(p=t)}if(0<=p&&0<=u&&p<u)throw Error(`missing placeholder '${p}' in string substitution`);return r};d.wva=function(m,q){for(let [r,p]of Object.entries(q))m=m.replaceAll(r,p.toString());return m};d.bva=function(m,q){m=m.toLowerCase();q=q.toLowerCase();return m>q?1:m<q?-1:0};d.Lna=function(m,q){q="common."+(q?"dataRates":
"dataSizes")+".";const r=self.Zxa;if(1024>m)return r(q+"bytes",m);if(1048576>m)return m/=1024,m=10>m?Math.round(10*m)/10:Math.round(m),r(q+"kilobytes",m);if(1073741824>m)return m/=1048576,m=10>m?Math.round(10*m)/10:Math.round(m),r(q+"megabytes",m);if(1099511627776>m)return m/=1073741824,m=10>m?Math.round(10*m)/10:Math.round(m),r(q+"gigabytes",m);m/=1099511627776;m=10>m?Math.round(10*m)/10:Math.round(m);return r(q+"terabytes",m)};const l={pia:!1,Dia:!0,bja:!0,zja:!0,bZ:!0};d.Mna=function(m,q){q=Object.assign({},
l,q);d.M4.Ira("common.time");const r=[],p=self.lang,u=self.Yxa;if(q.Dia){var t=Math.floor(m/86400);0<t&&(m-=86400*t,r.push(u(".days",null,t)))}q.bja&&(t=Math.floor(m/3600),0<t||r.length)&&(m-=3600*t,r.push(u(".hours",null,t)));q.zja&&(t=Math.floor(m/60),0<t||r.length||!q.bZ)&&(m-=60*t,r.push(u(".minutes",null,t)));q.bZ&&r.push(u(".seconds",null,Math.floor(m%60)));m=(q.pia?p(".approx-prefix"):"")+r.join(p(".separator"));d.M4.zra();return m};d.Gwa=function(m,q){let r=0>m?"-":"";m=Math.abs(m);m=m.toString();
q-=m.length;for(let p=0;p<q;++p)r+="0";return r+m};d.xva=function(m){return m.toLowerCase().replace(/\b\w/g,q=>q.toUpperCase())};d.Cma=function(m,q){m=m.split(".").map(r=>r.trim());q=q.split(".").map(r=>r.trim());d.aZ(m);d.aZ(q);m=m.map(r=>parseInt(r,10));q=q.map(r=>parseInt(r,10));for(let r=0;4>r;++r){const p=m[r]-q[r];if(0!==p)return 0>p?-1:1}return 0};d.Vma=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,m=>{const q=Math.floor(16*Math.random());return("x"===m?q:q&3|8).toString(16)})};
d.rva=function(m,q){if(m.length!==q.length)throw Error("strings must be same length");let r=0;for(let p=0,u=m.length;p<u;++p)m.charAt(p)!==q.charAt(p)&&++r;return r};d.sva=function(m,q){if(0===m.length)return q.length;if(0===q.length)return m.length;let r,p,u,t;if(m.length>q.length){var w=m;m=q;q=w}t=Array(m.length+1);for(w=0;w<=m.length;w++)t[w]=w;for(w=1;w<=q.length;w++){p=w;for(r=1;r<=m.length;r++)u=q[w-1]===m[r-1]?t[r-1]:Math.min(t[r-1]+1,Math.min(p+1,t[r]+1)),t[r-1]=p,p=u;t[m.length]=p}return t[m.length]}}
{"use strict";const d=self.C,a=new Map([["b","strong"],["i","em"],["s","s"],["u","u"],["sub","sub"],["sup","sup"],["small","small"],["mark","mark"],["a1","a"],["a2","a"],["a3","a"],["a4","a"],["a5","a"],["a6","a"],["a7","a"],["a8","a"],["a9","a"],["bad",["span","bbCodeBad"]],["good",["span","bbCodeGood"]],["info",["span","bbCodeInfo"]],["h1",["span","bbCodeH1"]],["h2",["span","bbCodeH2"]],["h3",["span","bbCodeH3"]],["h4",["span","bbCodeH4"]],["item",["span","bbCodeItem"]]]),b=/\[(\/?)([a-zA-Z0-9]+)\]/g,
e=/\[(\/?)([^\[]*?)\]/g;let c=null,f=0;function k(l,m,q){var r=a.get(q);if(r){if("string"===typeof r){if("a"!==r||m)return"<"+m+r+">";m=parseInt(q.substring(1),10)-1;if(0>m||m>=c.length)throw Error("invalid bbcode link substitution");r=c[m];if("string"===typeof r)return`<a href="${c[m]}">`;if("function"===typeof r)return`<a class="bblink${m}">`;throw new TypeError("invalid bbcode link action");}if(Array.isArray(r))return l=r[0],r=r[1],m?"</"+l+">":`<${l} class="${r}">`}else return"class"===q?m?"</span>":
`<span class="bbclass${f++}">`:l}const g=/\n/g;d.lj=class{constructor(l,m){this.Bi=m&&m.QY?l:d.j1(l);this.OK="";this.HV=!1;this.Xx=[];if(m&&(this.HV=!!m.Ywa,m.links)){if(9<m.links.length)throw Error("too many links");this.Xx=m.links}this.hW=this.Bi.includes("[");this.hX=this.HV&&this.Bi.includes("\n");this.DW=!this.hW&&!this.hX&&!this.Bi.includes("&");this.lW=!1;this.rx=[]}toString(){return this.Bi}valueOf(){return this.Bi}bO(){if(this.DW)return this.Bi;if(!this.OK&&this.Bi){let l=this.Bi;this.hW&&
(f=0,c=this.Xx,l=l.replace(b,k),c=null);this.hX&&(l=l.replace(g,"<br>"));this.OK=l}return this.OK}sia(l){if(this.Xx.length)for(let m=0,q=this.Xx.length;m<q;++m){const r=this.Xx[m];if("function"!==typeof r)continue;const p=l.querySelector(".bblink"+m);if(!p)throw Error("unable to attach BBString link handler");p.onclick=r}}hd(l){return l instanceof d.CG?this.bO()===l.bO():l instanceof d.lj?this.Bi===l.Bi:this.Bi===l}hZ(){if(this.lW)return this.rx;const l=this.Bi,m=[];let q=e.lastIndex=0;for(var r;null!==
(r=e.exec(l));){var p=r.index;if(0<p&&"\\"===l.charAt(p-1))continue;var u=r[1],t=r[2];const w=l.substring(q,p);q=p+r[0].length;w&&this.rx.push({text:w,xd:m.slice(0)});if(t)if(u)for(t=t.toLowerCase(),r=m.length-1;0<=r;--r){if(m[r].tag===t){m.splice(r,1);break}}else r=t,p=null,u=t.indexOf("="),-1!==u?(r=t.substring(0,u).toLowerCase(),p=t.substring(u+1)):r=r.toLowerCase(),m.push({tag:r,wd:p})}q<l.length&&this.rx.push({text:l.substring(q),xd:m.slice(0)});for(const w of this.rx)w.text=this.Zda(w.text);
this.lW=!0;return this.rx}Zda(l){l=d.Bj(l,"\\[","[");return d.Bj(l,"\\\\","\\")}static bB(l){return l.replace(e,"")}}}
{"use strict";const d=self.C;d.rw=class{constructor(){this.Hl=[]}hU(a,b){let e=0,c=0,f=0,k=0,g=0;for(const l of a)-1===l.width&&(a=b(l.text,l.xd),l.width=a.width,l.height=a.height,l.eh=a.eh||0,l.zg=a.zg||0,l.Bg=a.Bg||0),e+=l.width,c=Math.max(c,l.height),f=Math.max(f,l.eh),k=Math.max(k,l.zg),g=Math.max(g,l.Bg);return{width:e,height:c,eh:f,zg:k,Bg:g}}iB(a,b,e,c,f,k){this.Hl.push({nN:a,width:b,height:e,eh:c,zg:f,Bg:k})}rw(a,b,e,c,f){"string"===typeof a&&(a=[{text:a,xd:[]}]);d.G(this.Hl);if(!(!a.length||
1===a.length&&!a[0].text.length||2>e)){if(1===a.length){var k=a[0];const g=k.text;k=k.xd;if(100>=g.length&&!g.includes("\n")){let {width:l,height:m,eh:q,zg:r,Bg:p}=b(g,k);l+=f;q=q||0;r=r||0;p=p||0;if(l<=e){this.iB([{text:g,xd:k,width:l,height:m,eh:q,zg:r,Bg:p}],l,m,q,r,p);return}}}if("word"===c)c=this.lga(a);else{c=[];for(const g of a)d.Gn(c,[...g.text].map(l=>[{text:l,xd:g.xd}]))}this.Gga(c,b,e,f)}}lga(a){const b=[];let e=[],c=!1;for(const k of a){var f=k.text;a=k.xd;for(const g of f)"\n"===g?(0<
e.length&&b.push(e),b.push([{text:"\n",xd:a}]),e=[]):0===e.length?(e.push({text:g,xd:a}),c=d.JA(g)):(f=d.JA(g),f===c?(f=e.Pe(-1),f.xd===a?f.text+=g:e.push({text:g,xd:a})):(b.push(e),e=[],e.push({text:g,xd:a}),c=f))}0<e.length&&b.push(e);return b}I$(a){return a.map(b=>({text:b.text,xd:b.xd,width:b.width,height:b.height,eh:b.eh,zg:b.zg,Bg:b.Bg}))}DS(a,b){var e=a.length?a.Pe(-1):null;let c=0;e&&b[0].xd===e.xd&&(e.text+=b[0].text,e.width=-1,e.height=-1,e.eh=-1,e.zg=-1,e.Bg=-1,c=1);for(e=b.length;c<e;++c){const f=
b[c];a.push({text:f.text,xd:f.xd,width:-1,height:-1,eh:-1,zg:-1,Bg:-1})}}Gga(a,b,e,c){let f=[],k=0,g=0,l=0,m=0;var q=0;for(const r of a){if(1===r.length&&"\n"===r[0].text){0===g&&(q=b(" ",r[0].xd),g=q.height,l=q.eh||0,m=q.zg||0,q=q.Bg||0);this.iB(f,k,g,l,m,q);f=[];q=m=l=g=k=0;continue}a=this.I$(f);this.DS(a,r);const p=this.hU(a,b),u=p.width;u>=e?(0<f.length&&this.iB(f,k,g,l,m,q),f=[],d.IA(r[0].text)?q=m=l=g=k=0:(this.DS(f,r),q=this.hU(f,b),k=q.width,g=q.height,l=q.eh,m=q.zg,q=q.Bg)):(f=a,k=u,g=p.height,
l=p.eh,m=p.zg,q=p.Bg)}0<f.length&&this.iB(f,k,g,l,m,q);this.oga(b,c)}oga(a,b){for(const c of this.Hl){const f=c.nN;if(!f.length)continue;let k=f.Pe(-1);var e=k.text;const g=e.trimEnd();if(!g)c.width-=k.width,f.pop();else if(g.length<e.length){e=a(g,k.xd).width;const l=k.width-e;k.width=e;k.text=g;c.width-=l}0!==b&&0<f.length&&(k=f.Pe(-1),k.width+=b,c.width+=b)}}Vc(){d.G(this.Hl)}uP(){return this.Hl.reduce((a,b)=>Math.max(a,b.width),0)}N2(){return this.Hl.reduce((a,b)=>a+b.height,0)}}}
{"use strict";const d=self.C,a=self.Zl,b=a.cF,e=a.sz,c=a.zp,f=b.create(),k=b.create(),g=b.create(),l=e.create(),m=c.create(),q=b.create(),r=b.create(),p=b.create(),u=b.create(),t=b.create(),w=b.create(),x=b.create(),z=b.create(),D=e.Ag(0,0,1,1);d.ka={F6(H,I,K,Q,R,U,Z){const ca=Q[0]*H+Q[4]*I+Q[8]*K+Q[12],Y=Q[1]*H+Q[5]*I+Q[9]*K+Q[13],ha=Q[2]*H+Q[6]*I+Q[10]*K+Q[14];Q=Q[3]*H+Q[7]*I+Q[11]*K+Q[15];H=R[0]*ca+R[4]*Y+R[8]*ha+R[12]*Q;I=R[1]*ca+R[5]*Y+R[9]*ha+R[13]*Q;K=R[2]*ca+R[6]*Y+R[10]*ha+R[14]*Q;R=R[3]*
ca+R[7]*Y+R[11]*ha+R[15]*Q;if(0===R)return!1;R=1/R;Z[0]=(H*R*.5+.5)*U[2]+U[0];Z[1]=(I*R*.5+.5)*U[3]+U[1];Z[2]=.5*(1+K*R);return!0},el(H,I,K,Q,R,U,Z){c.multiply(m,R,Q);if(null===c.Ku(m,m))return!1;l[0]=(H-U[0])/U[2]*2-1;l[1]=(I-U[1])/U[3]*2-1;l[2]=2*K-1;l[3]=1;e.dO(l,l,m);if(0===l[3])return!1;l[3]=1/l[3];Z[0]=l[0]*l[3];Z[1]=l[1]*l[3];Z[2]=l[2]*l[3];return!0},u9(H,I,K,Q,R,U,Z){if(!d.ka.el(H,I,0,Q,R,U,f)||!d.ka.el(H,I,1,Q,R,U,k))return!1;b.On(k,k,f);b.set(g,0,0,1);H=-K;I=b.xp(g,k);K=0;if(0===I){if(0!==
b.xp(g,f)+H)return!1}else if(K=-(b.xp(f,g)+H)/I,0>K)return!1;b.VN(Z,f,k,K);return!0}};function G(H,I,K,Q){b.On(f,K,I);b.On(k,H,I);b.kN(g,f,k);b.normalize(g,g);Q.set(g[0],g[1],g[2],b.xp(H,g))}function N(H,I,K,Q,R,U,Z){const ca=Z.x,Y=Z.y,ha=Z.z,ka=Z.w,za=Z.pZ,Oa=Z.qZ;Z=Z.rZ;const ab=1-za,Ua=1-Oa,bb=1-Z;return ca*H*za+ca*Q*ab+Y*I*Oa+Y*R*Ua+ha*K*Z+ha*U*bb>=ka?!0:ca*Q*za+ca*H*ab+Y*R*Oa+Y*I*Ua+ha*U*Z+ha*K*bb>ka}class B{constructor(){this.rZ=this.qZ=this.pZ=this.w=this.z=this.y=this.x=NaN}set(H,I,K,Q){this.x=
H;this.y=I;this.z=K;this.w=Q;this.pZ=0<H?1:0;this.qZ=0<I?1:0;this.rZ=0<K?1:0}}d.ka.D9=class{constructor(){this.UW=new B;this.bY=new B;this.EX=new B;this.BV=new B;this.gX=new B;this.XV=new B}h_(H,I){d.ka.el(0,1,0,H,I,D,q);d.ka.el(1,1,0,H,I,D,r);d.ka.el(0,0,0,H,I,D,p);d.ka.el(1,0,0,H,I,D,u);d.ka.el(0,1,1,H,I,D,t);d.ka.el(1,1,1,H,I,D,w);d.ka.el(0,0,1,H,I,D,x);d.ka.el(1,0,1,H,I,D,z);G(p,q,t,this.UW);G(q,r,w,this.bY);G(r,u,z,this.EX);G(u,p,x,this.BV);G(x,t,w,this.XV);G(u,r,q,this.gX)}E_(H,I,K,Q,R,U){return N(H,
I,K,Q,R,U,this.UW)&&N(H,I,K,Q,R,U,this.bY)&&N(H,I,K,Q,R,U,this.EX)&&N(H,I,K,Q,R,U,this.BV)&&N(H,I,K,Q,R,U,this.gX)&&N(H,I,K,Q,R,U,this.XV)}}}
{"use strict";const d=self.C,a=self.Zl,b=a.cF,e=a.sz,c=a.zp,f=c.create(),k=b.Ag(0,0,0),g=b.Ag(0,0,0),l=b.Ag(0,0,0),m=b.Ag(0,1,0);e.Ag(0,0,0,0);new d.Bd;new d.Rect;const q=new d.Bd(0,0,1,0,1,1,0,1);d.ka.d7=class{constructor(){this.W=this.$=0;this.jha=d.Ea(45);this.GM=Math.tan(this.jha/2);this.FD=c.create();this.GL=c.create();this.Gq=[];this.$D=new Map;this.vM=this.dE=this.eE=null;this.Ey=new Map;this.$j=null;this.ZJ=[];this.fX=new Map;this.nx=this.ax=0;this.Aha=this.Bha=1;this.AL=.5;this.Ji=0;this.Jt=
!0;this.MK=!1}s1(r){let p=0,u=r.length,t=0;for(;p<u;)r[p++]=t,r[p++]=t+1,r[p++]=t+2,r[p++]=t,r[p++]=t+2,r[p++]=t+3,t+=4}HS(){this.nx=this.ax=0;this.vM=this.dE=this.eE=null;this.G$()}CA(){this.HS();this.$j=null}D5(){for(const r of this.Gq)r.A();this.HS()}O(){return this.$}P(){return this.W}dv(r,p,u=.5,t=.5){u=1-u;const w=1*this.GM;p*=w;c.Uia(r,(2*u-2)*p,2*u*p,(2*t-2)*w,2*t*w,1,1E4)}g_(r,p,u){const t=self.devicePixelRatio,w=200*t*this.GM/u;p=p*w/(2*t);u=u*w/(2*t);c.Gja(r,-p,p,-u,u,1,1E4)}sO(r,p,u,t,
w=this.oG()){w=200*self.devicePixelRatio*this.GM/w;b.set(l,w,-w,1);b.multiply(k,p,l);b.multiply(g,u,l);c.wja(r,k,g,t||m);c.scale(r,r,l)}cv(r,p,u,t,w,x){b.set(k,r,p,u);b.set(g,t,w,0);this.sO(f,k,g,m,x);return f}e$(r){this.Gq.push(r);this.$D.set(r.Ha(),r)}uea(r){const p=this.Gq.indexOf(r);-1!==p&&this.Gq.splice(p,1);this.$D.delete(r.Ha())}G$(){d.G(this.Gq);this.$D.clear()}JP(r){return this.$D.get(r)||null}vi(){this.po(this.eE)}DH(){this.po(this.vM)}rfa(r){this.$j=r}vZ(r,p,u,t){const w=d.ka.aI.uQ(r,
p,u,t);let x=this.Ey.get(w);x||(x=d.F(d.ka.aI,this,r,p,u,t),this.Ey.set(w,x));x.KZ();return x}cR(r){r.Z_();0===r.fd&&(this.$j===r&&(this.$j=null),this.Ey.delete(r.p2()),r.A())}Xba(r){d.G(this.ZJ);this.fX.clear();for(const p of r){r=p[0];const u=p[1],t=p[2];this.ZJ.push([u,t]);this.fX.set(r,{zza:u,fxa:t})}}vba(r){return this.ZJ[r]}Zv(r){this.ax=r}lo(r){this.nx=r;this.$j=null}MA(r,p,u,t,w,x){var z=this.AL;r=r+z-x;p=p+z-w;u=u+z+x;t=t+z+w;z=2*x;const D=2*w;this.SA(r+w,p-x,0,u+w,t-x,0,u-w-z,t+x-D,0,r-
w+z,p+x+D,0,q)}LA(r,p,u,t,w,x){const z=this.AL;r=r+z-x;p=p+z-w;u=u+z+x;t=t+z+w;this.SA(r+w,p-x,0,u+w,t-x,0,u-w,t+x,0,r-w,p+x,0,q)}KA(r,p,u,t,w,x){const z=this.AL;r+=z;p+=z;u+=z;t+=z;this.SA(r+w,p-x,0,u+w,t-x,0,u-w,t+x,0,r-w,p+x,0,q)}P4(r,p,u,t){const w=.5*this.Bha,x=this.Aha;2===x?this.uca(r,p,u,t,w):1===x?this.tca(r,p,u,t,w):this.sca(r,p,u,t,w)}uca(r,p,u,t,w){this.MA(r,p,u,p,0,w);this.MA(u,p,u,t,w,0);this.MA(u,t,r,t,0,-w);this.MA(r,t,r,p,-w,0)}tca(r,p,u,t,w){this.LA(r,p,u,p,0,w);this.LA(u,p,u,t,
w,0);this.LA(u,t,r,t,0,-w);this.LA(r,t,r,p,-w,0)}sca(r,p,u,t,w){this.KA(r,p,u,p,0,w);this.KA(u,p,u,t,w,0);this.KA(u,t,r,t,0,-w);this.KA(r,t,r,p,-w,0)}oQ(r){this.P4(r.U,r.S,r.ba,r.aa)}pv(){this.qj();this.Ji++}F3(){this.Ji++}KH(r){this.Jt=!!r}Y7(r){this.MK=!!r}Qv(){return!1}}}
{"use strict";const d=self.C;d.ka.aI=class{constructor(a,b,e,c,f){this.Da=a;this.fd=0;this.sb=null;this.wy="";this.Ao=e;this.Ua=d.F(d.jb);this.Ua.set(c);this.ud=f;"string"===typeof b?this.wy=b:(this.sb=b,this.wy=this.sb.Ha())}A(){if(0<this.fd)throw Error("releasing state group still in use");this.sb=this.Da=null;this.wy=""}RZ(){const a=this.Da;a.po(this.sb);a.fg(this.Ao);a.ri(this.Ua);a.lo(this.ud);a.rfa(this)}p2(){return d.ka.aI.uQ(this.wy,this.Ao,this.Ua,this.ud)}KZ(){++this.fd}Z_(){--this.fd}zm(){this.sb=
null}fH(a){this.sb=a.JP(this.wy);if(!this.sb)throw Error("failed to restore shader program");}static uQ(a,b,e,c){return("string"===typeof a?a:a.Ha())+","+b+","+e.ib+","+e.Ma+","+e.fb+","+e.bb+","+c}}}
{"use strict";const d=self.C,a=d.F(d.Bd);function b(e,c,f){const k=f.Kb,g=f.Lb;return[k+(f.Ac-k)*e+(f.uc-k)*c,g+(f.Bc-g)*e+(f.vc-g)*c]}d.ka.h5=class{constructor(e){this.KL=e;this.$h=this.Yh=this.ud=this.X=this.fa=0}Mj(e,c,f,k){this.fa=e;this.X=c;this.Yh=f;this.$h=k}K(){return this.fa}ye(e){this.fa!==e&&(this.fa=e,this.KL.mJ())}L(){return this.X}Ae(e){this.X!==e&&(this.X=e,this.KL.mJ())}Va(){return this.ud}We(e){this.ud!==e&&(this.ud=Math.max(e,0),this.KL.mJ())}RH(e){this.Yh=e}SH(e){this.$h=e}jca(e,
c,f){[this.fa,this.X]=b(e.fa,e.X,c);this.ud=e.ud;this.Yh=d.Gd(f.U,f.ba,e.Yh);this.$h=d.Gd(f.S,f.aa,e.$h)}ica(e,c,f){[this.fa,this.X]=b(e.fa,e.X,c);this.ud=e.ud;[this.Yh,this.$h]=b(e.Yh,e.$h,f)}mc(){return{x:this.K(),y:this.L(),z:this.Va(),u:this.Yh,v:this.$h}}ac(e){this.ye(e.x);this.Ae(e.y);e.hasOwnProperty("z")&&this.We(e.z);this.RH(e.u);this.SH(e.v)}};d.ka.xQ=class{constructor(e,c,f){if(2>e||2>c)throw Error("invalid mesh size");this.xl=e;this.Ql=c;this.qc=f||null;this.cp=[];this.cX=this.bX=0;this.ZW=
this.YW=1;this.$W=0;this.dM=!1;f=e-1;const k=c-1;for(let g=0;g<c;++g){const l=[];for(let m=0;m<e;++m){const q=d.F(d.ka.h5,this,m,g),r=m/f,p=g/k;q.Mj(r,p,r,p);l.push(q)}this.cp.push(l)}}A(){d.G(this.cp)}mJ(){this.dM=!0}Fw(){if(this.dM){var e=Infinity,c=Infinity,f=-Infinity,k=-Infinity,g=0;for(const l of this.cp)for(const m of l){const q=m.K(),r=m.L();e=Math.min(e,q);c=Math.min(c,r);f=Math.max(f,q);k=Math.max(k,r);g=Math.max(g,m.Va())}this.bX=e;this.cX=c;this.YW=f;this.ZW=k;this.$W=g;this.dM=!1}}z2(){this.Fw();
return this.bX}A2(){this.Fw();return this.cX}w2(){this.Fw();return this.YW}x2(){this.Fw();return this.ZW}y2(){this.Fw();return this.$W}us(e,c){e=Math.floor(e);c=Math.floor(c);return 0>e||e>=this.xl||0>c||c>=this.Ql?null:this.cp[c][e]}tO(e,c,f){const k=f instanceof d.Rect;if(e.xl!==this.xl||e.Ql!==this.Ql)throw Error("source mesh wrong size");e=e.cp;const g=this.cp;for(let l=0,m=g.length;l<m;++l){const q=e[l],r=g[l];for(let p=0,u=r.length;p<u;++p){const t=q[p],w=r[p];k?w.jca(t,c,f):w.ica(t,c,f)}}}Se(e){const c=
this.cp;let f=c[0];for(let k=1,g=c.length;k<g;++k){const l=c[k];let m=f[0],q=l[0];for(let r=1,p=l.length;r<p;++r){const u=f[r],t=l[r];a.set(m.Yh,m.$h,u.Yh,u.$h,t.Yh,t.$h,q.Yh,q.$h);e.SA(m.K(),m.L(),m.Va(),u.K(),u.L(),u.Va(),t.K(),t.L(),t.Va(),q.K(),q.L(),q.Va(),a);m=u;q=t}f=l}}i4(e){e=e.Pd;const c=[],f=this.xl-1,k=this.Ql-1,g=1/f,l=1/k,m=f-1,q=k-1;let r=e[0],p=e[1],u=d.ja(Math.floor(r*f),0,m),t=d.ja(Math.floor(p*k),0,q),w=0,x=0,z=0;var D=-1;const G=()=>{r=d.ja(d.Gd(r,w,z),0,1);p=d.ja(d.Gd(p,x,z),
0,1);c.push(r,p)};for(let N=0,B=e.length;N<B;N+=2)for(r=e[N],p=e[N+1],c.push(r,p),u=d.ja(Math.floor(r*f),0,m),t=d.ja(Math.floor(p*k),0,q),D=(N+2)%B,w=e[D],x=e[D+1],D=-1;;){if(1E6<c.length)throw Error("Too many mesh poly points");const H=u*g,I=t*l,K=(u+1)*g,Q=(t+1)*l;if(0!==D&&(z=d.mz(r,p,w,x,H,I,K,Q,-.001),0<=z&&.99999999>=z)){G();D=0;continue}if(0<t&&2!==D&&(z=d.mz(r,p,w,x,H,I,K,I,.001),0<=z&&.99999999>=z)){G();t--;D=4;continue}if(u<m&&3!==D&&(z=d.mz(r,p,w,x,K,I,K,Q,.001),0<=z&&.99999999>=z)){G();
u++;D=1;continue}if(0<u&&1!==D&&(z=d.mz(r,p,w,x,H,I,H,Q,.001),0<=z&&.99999999>=z)){G();u--;D=3;continue}if(t<q&&4!==D&&(z=d.mz(r,p,w,x,H,Q,K,Q,.001),0<=z&&.99999999>=z)){G();t++;D=2;continue}break}return d.F(d.Hp,c)}o9(e,c){e=this.mga(e);this.fga(e);c.XE(e)}mga(e){const c=[];e=e.Pd;for(let f=0,k=e.length;f<k;f+=2){const [g,l]=this.jS(e[f],e[f+1]);c.push(g,l)}return c}jS(e,c){var f=this.xl-1,k=this.Ql-1;const g=1/f,l=1/k;f=d.ja(Math.floor(e*f),0,f-1);const m=d.ja(Math.floor(c*k),0,k-1);k=f*g;const q=
m*l,r=(f+1)*g,p=(m+1)*l,u=this.us(f,m),t=this.us(f+1,m+1),w=d.lja(e,c,k,q,r,q,r,p);f=this.us(f+(w?1:0),m+(w?0:1));const [x,z,D]=d.ika(e,c,k,q,w?k+g:k,w?q:q+l,r,p);return d.hka(x,z,D,u.K(),u.L(),f.K(),f.L(),t.K(),t.L())}fga(e){const c=[];let f=e[0],k=e[1],g=f-e.Pe(-2),l=k-e.Pe(-1);for(let q=0,r=e.length;q<r;q+=2){var m=(q+2)%r;const p=e[m];m=e[m+1];const u=p-f,t=m-k,w=1E-7>Math.abs(t)&&1E-7>Math.abs(l)&&Math.sign(u)===Math.sign(g);(!(1E-7>Math.abs(u)&&1E-7>Math.abs(g)&&Math.sign(t)===Math.sign(l)||
w)&&1E-7<Math.abs(u/g-t/l)||0==u&&0===t)&&c.push(f,k);f=p;k=m;g=u;l=t}6<=c.length&&c.length<e.length&&d.jd(e,c)}mc(){return{cols:this.xl,rows:this.Ql,points:this.cp.map(e=>e.map(c=>c.mc()))}}ac(e){const c=this.xl,f=this.Ql;if(e.cols!==c||e.rows!==f)throw Error("mesh data wrong size");e=e.points;for(let k=0;k<f;++k){const g=e[k];for(let l=0;l<c;++l)this.us(l,k).ac(g[l])}}}}
{"use strict";const d=self.C,a=new Set(["rgba8","rgb8","rgba4","rgb5_a1","rgb565"]),b=new Set(["nearest","bilinear","trilinear"]),e=new Set(["default","low","high"]),c=new Set(["clamp-to-edge","repeat","mirror-repeat"]);function f(m,q){let r,p;switch(m){case "rgba8":m=q.RGBA8;p=r=q.RGBA;q=q.UNSIGNED_BYTE;break;case "rgb8":m=q.RGB8;p=r=q.RGB;q=q.UNSIGNED_BYTE;break;case "rgba4":m=q.RGBA4;p=r=q.RGBA;q=q.UNSIGNED_SHORT_4_4_4_4;break;case "rgb5_a1":m=q.RGB5_A1;p=r=q.RGBA;q=q.UNSIGNED_SHORT_5_5_5_1;break;
case "rgb565":m=q.RGB565;p=r=q.RGB;q=q.UNSIGNED_SHORT_5_6_5;break;default:throw Error("invalid pixel format");}return{ZN:m,Ju:r,format:p,type:q}}const k={eF:"clamp-to-edge",fF:"clamp-to-edge",hj:"trilinear",qY:0,JN:"rgba8",OE:!0,jz:"default",premultiplyAlpha:!0,LY:!1,width:-1,height:-1},g={premultiplyAlpha:!0,flipY:!1},l=new Set;d.ka.hB=class{constructor(m){this.Da=m;this.Eb=null;this.W=this.$=0;this.Li=!0;this.Fu=this.Eu="clamp-to-edge";this.Dd="trilinear";this.OJ=0;this.Yo="rgba8";this.$m=!1;this.ur=
"default";this.fd=0}caa(m,q){if(!("undefined"!==typeof HTMLImageElement&&m instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&m instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&m instanceof ImageBitmap||"undefined"!==typeof OffscreenCanvas&&m instanceof OffscreenCanvas||m instanceof ImageData||m instanceof ArrayBuffer)&&null!==m)throw Error("invalid texture source");q=Object.assign({},k,q);if(this.Eb)throw Error("already created texture");this.Eu=q.eF;this.Fu=q.fF;
this.Dd=q.hj;this.OJ=q.qY;this.Yo=q.JN;this.$m=!!q.OE&&this.Da.Jt;this.ur=q.jz;if(!c.has(this.Eu)||!c.has(this.Fu))throw Error("invalid wrap mode");if(!b.has(this.Dd))throw Error("invalid sampling");if(!a.has(this.Yo))throw Error("invalid pixel format");if(!e.has(this.ur))throw Error("invalid mipmap quality");this.Li=!0;if(m instanceof ArrayBuffer||null===m||q.LY){if(this.$=q.width,this.W=q.height,m instanceof ArrayBuffer&&m.byteLength!==this.$*this.W*4)throw Error("ArrayBuffer wrong size");}else this.$=
m.width,this.W=m.height;if(0>=this.$||0>=this.W)throw Error("invalid texture data size");if(q.LY){var r=d.gh(this.$,this.W);r.getContext("2d").drawImage(m,0,0,this.$,this.W);m=r}var p=d.$l(this.$)&&d.$l(this.W);r=this.Da.GD;if(this.$>r||this.W>r)throw Error("texture data exceeds maximum texture size");r=this.Da.ga;var u=this.Da.fe;this.Eb=r.createTexture();r.bindTexture(r.TEXTURE_2D,this.Eb);r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,q.premultiplyAlpha);r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,!1);
q=f(this.Yo,r);if(this.Da.uq()||p||!this.QI())2<=u?(r.texStorage2D(r.TEXTURE_2D,this.$m?Math.floor(Math.log2(Math.max(this.$,this.W))+1):1,q.ZN,this.$,this.W),m instanceof ArrayBuffer?r.texSubImage2D(r.TEXTURE_2D,0,0,0,this.$,this.W,q.format,q.type,new Uint8Array(m)):null!==m&&r.texSubImage2D(r.TEXTURE_2D,0,0,0,q.format,q.type,m)):m instanceof ArrayBuffer?r.texImage2D(r.TEXTURE_2D,0,q.Ju,this.$,this.W,0,q.format,q.type,new Uint8Array(m)):null===m?r.texImage2D(r.TEXTURE_2D,0,q.Ju,this.$,this.W,0,q.format,
q.type,null):r.texImage2D(r.TEXTURE_2D,0,q.Ju,q.format,q.type,m);else{if(null===m)throw Error("cannot pass null data when creating a NPOT tiled texture without NPOT support");m instanceof ArrayBuffer&&(m=new ImageData(new Uint8ClampedArray(m),this.$,this.W));m instanceof ImageData&&(p=d.gh(this.$,this.W),p.getContext("2d").putImageData(m,0,0),m=p);p=d.gh(d.EN(this.$),d.EN(this.W));u=p.getContext("2d");u.imageSmoothingEnabled="nearest"!==this.Dd;u.drawImage(m,0,0,this.$,this.W,0,0,p.width,p.height);
r.texImage2D(r.TEXTURE_2D,0,q.Ju,q.format,q.type,p)}null!==m&&this.$U(r);r.bindTexture(r.TEXTURE_2D,null);this.Da.dJ();this.fd=1;l.add(this)}M$(m,q,r){r=Object.assign({},k,r);if(this.Eb)throw Error("already created texture");this.Eu=r.eF;this.Fu=r.fF;this.Dd=r.hj;this.Yo=r.JN;this.$m=!!r.OE&&this.Da.Jt;this.ur=r.jz;if(!c.has(this.Eu)||!c.has(this.Fu))throw Error("invalid wrap mode");if(!b.has(this.Dd))throw Error("invalid sampling");if(!a.has(this.Yo))throw Error("invalid pixel format");if(!e.has(this.ur))throw Error("invalid mipmap quality");
this.Li=!1;this.$=Math.floor(m);this.W=Math.floor(q);m=d.$l(this.$)&&d.$l(this.W);q=this.Da.GD;if(0>=this.$||0>=this.W)throw Error("invalid texture size");if(this.$>q||this.W>q)throw Error("texture exceeds maximum texture size");if(!this.Da.uq()&&this.QI()&&!m)throw Error("non-power-of-two tiled textures not supported");m=this.Da.ga;q=this.Da.fe;this.Eb=m.createTexture();m.bindTexture(m.TEXTURE_2D,this.Eb);m.pixelStorei(m.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.premultiplyAlpha);m.pixelStorei(m.UNPACK_FLIP_Y_WEBGL,
!1);r=f(this.Yo,m);m.texImage2D(m.TEXTURE_2D,0,2<=q?r.ZN:r.Ju,this.$,this.W,0,r.format,r.type,null);this.$U(m);m.bindTexture(m.TEXTURE_2D,null);this.Da.dJ();this.fd=1;l.add(this)}MI(m){if("default"===this.ur)return this.Li?m.NICEST:m.FASTEST;if("low"===this.ur)return m.FASTEST;if("high"===this.ur)return m.NICEST;throw Error("invalid mipmap quality");}QI(){return"clamp-to-edge"!==this.Eu||"clamp-to-edge"!==this.Fu}FT(m,q){if("clamp-to-edge"===q)return m.CLAMP_TO_EDGE;if("repeat"===q)return m.REPEAT;
if("mirror-repeat"===q)return m.MIRRORED_REPEAT;throw Error("invalid wrap mode");}$U(m){var q=d.$l(this.$)&&d.$l(this.W);m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_S,this.FT(m,this.Eu));m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_T,this.FT(m,this.Fu));"nearest"===this.Dd?(m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MAG_FILTER,m.NEAREST),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MIN_FILTER,m.NEAREST),this.$m=!1):(m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MAG_FILTER,m.LINEAR),(q||this.Da.uq())&&this.$m?(m.hint(m.GENERATE_MIPMAP_HINT,
this.MI(m)),m.generateMipmap(m.TEXTURE_2D),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MIN_FILTER,"trilinear"!==this.Dd||this.Da.MK?m.LINEAR_MIPMAP_NEAREST:m.LINEAR_MIPMAP_LINEAR)):(m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MIN_FILTER,m.LINEAR),this.$m=!1));(q=this.Da.Xw)&&0<this.OJ&&"nearest"!==this.Dd&&m.texParameterf(m.TEXTURE_2D,q.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(this.OJ,this.Da.IL))}jV(m,q){if(!("undefined"!==typeof HTMLImageElement&&m instanceof HTMLImageElement||"undefined"!==typeof HTMLVideoElement&&
m instanceof HTMLVideoElement||"undefined"!==typeof HTMLCanvasElement&&m instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&m instanceof ImageBitmap||"undefined"!==typeof OffscreenCanvas&&m instanceof OffscreenCanvas||m instanceof ImageData))throw Error("invalid texture source");if(!this.Eb||0>=this.fd)throw Error("texture not created");if(this.Li)throw Error("cannot update static texture");q=Object.assign({},g,q);const r=m.width||m.videoWidth,p=m.height||m.videoHeight;var u=this.Da.fe;
const t=this.Da.ga;t.bindTexture(t.TEXTURE_2D,this.Eb);t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,q.premultiplyAlpha);t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!!q.flipY);q=f(this.Yo,t);u=2<=u?q.ZN:q.Ju;try{if(this.$===r&&this.W===p){const w=d.$l(this.$)&&d.$l(this.W);t.texSubImage2D(t.TEXTURE_2D,0,0,0,q.format,q.type,m);(w||this.Da.uq())&&this.$m&&(t.hint(t.GENERATE_MIPMAP_HINT,this.MI(t)),t.generateMipmap(t.TEXTURE_2D))}else{this.$=r;this.W=p;const w=d.$l(this.$)&&d.$l(this.W);if(!this.Da.uq()&&this.QI()&&
!w)throw Error("non-power-of-two tiled textures not supported");t.texImage2D(t.TEXTURE_2D,0,u,q.format,q.type,m);(w||this.Da.uq())&&this.$m&&(t.hint(t.GENERATE_MIPMAP_HINT,this.MI(t)),t.generateMipmap(t.TEXTURE_2D))}}catch(w){console.error("Error updating WebGL texture: ",w)}t.bindTexture(t.TEXTURE_2D,null);this.Da.dJ()}wI(){if(0<this.fd)throw Error("texture still has references");if(!this.Eb)throw Error("already deleted texture");l.delete(this);this.Da.ga.deleteTexture(this.Eb);this.Eb=null}Hb(){return this.Da}g9(){if(0>=
this.fd)throw Error("no more references");this.fd--}O(){return this.$}P(){return this.W}WF(){let m=this.$*this.W;switch(this.Yo){case "rgba8":m*=4;break;case "rgb8":m*=3;break;case "rgba4":case "rgb5_a1":case "rgb565":m*=2}this.$m&&(m+=Math.floor(m/3));return m}static zm(){l.clear()}static kia(){return l.values()}}}
{"use strict";const d=self.C,a=self.Zl.zp,b=new Set(["nearest","bilinear","trilinear"]),e={hj:"trilinear",alpha:!0,depth:!1,xN:!0,JY:!0,Aja:0},c=new Set;d.ka.fI=class{constructor(f){this.Da=f;this.sn=this.Eb=this.hk=null;this.W=this.$=0;this.Ix=!0;this.Dd="trilinear";this.pt=!0;this.Hf=!1;this.Mx=!0;this.kn=0;this.zr=a.create()}J$(f,k,g){g=Object.assign({},e,g);const l=this.Da.fe;if(this.Eb||this.sn)throw Error("already created render target");this.Dd=g.hj;this.pt=!!g.alpha;this.Hf=!!g.depth;this.Mx=
!!g.xN;this.Ix=!!g.JY;this.kn=g.Aja;if(!b.has(this.Dd))throw Error("invalid sampling");if(0<this.kn&&(2>l||this.Mx))throw Error("invalid use of multisampling");2>l&&(this.Mx=!0);this.$=f;this.W=k;if(0>=this.$||0>=this.W)throw Error("invalid render target size");this.ES();f=this.Da.ga;this.hk=f.createFramebuffer();f.bindFramebuffer(f.FRAMEBUFFER,this.hk);this.Mx?(this.Eb=this.Da.IO(this.$,this.W,{hj:this.Dd,JN:this.pt?"rgba8":"rgb8",OE:!1}),f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,
f.TEXTURE_2D,this.Eb.Eb,0)):(this.sn=f.createRenderbuffer(),f.bindRenderbuffer(f.RENDERBUFFER,this.sn),k=this.pt?f.RGBA8:f.RGB8,0<this.kn&&((g=f.getInternalformatParameter(f.RENDERBUFFER,k,f.SAMPLES))&&g[0]?(g=g[0],this.kn>g&&(this.kn=g)):this.kn=0),0===this.kn?f.renderbufferStorage(f.RENDERBUFFER,k,this.$,this.W):f.renderbufferStorageMultisample(f.RENDERBUFFER,this.kn,k,this.$,this.W),f.framebufferRenderbuffer(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.RENDERBUFFER,this.sn),f.bindRenderbuffer(f.RENDERBUFFER,
null));k=this.Da.Rq;this.Hf&&k&&f.framebufferRenderbuffer(f.FRAMEBUFFER,f.DEPTH_STENCIL_ATTACHMENT,f.RENDERBUFFER,k);f.bindFramebuffer(f.FRAMEBUFFER,null);c.add(this)}AU(f,k){if(this.$!==f||this.W!==k)this.$=f,this.W=k,this.ES(),f=this.Da.ga,f.bindFramebuffer(f.FRAMEBUFFER,this.hk),this.Eb?this.Eb.jV(new ImageData(this.$,this.W)):(f.bindRenderbuffer(f.RENDERBUFFER,this.sn),f.renderbufferStorage(f.RENDERBUFFER,this.pt?f.RGBA8:f.RGB8,this.$,this.W),f.bindRenderbuffer(f.RENDERBUFFER,null)),k=this.Da.Rq,
this.Hf&&k&&f.framebufferRenderbuffer(f.FRAMEBUFFER,f.DEPTH_STENCIL_ATTACHMENT,f.RENDERBUFFER,k),f.bindFramebuffer(f.FRAMEBUFFER,null)}wI(){if(!this.Eb&&!this.sn)throw Error("already deleted render target");c.delete(this);const f=this.Da.ga;f.bindFramebuffer(f.FRAMEBUFFER,this.hk);this.Eb?(f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.TEXTURE_2D,null,0),this.Da.Fk(this.Eb),this.Eb=null):this.sn&&(f.framebufferRenderbuffer(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.RENDERBUFFER,null),f.deleteRenderbuffer(this.sn),
this.sn=null);f.bindFramebuffer(f.FRAMEBUFFER,null);2<=this.Da.fe&&(f.bindFramebuffer(f.READ_FRAMEBUFFER,null),f.bindFramebuffer(f.DRAW_FRAMEBUFFER,null));f.deleteFramebuffer(this.hk);this.hk=this.Da.Nc.vp=null}ES(){this.Da.dv(this.zr,this.$/this.W)}Hb(){return this.Da}ue(){return this.Eb}SG(){return"nearest"!==this.Dd}O(){return this.$}P(){return this.W}q4(f){f=Object.assign({},e,f);return"nearest"!==f.hj!==this.SG()||!!f.alpha!==this.pt||!!f.depth!==this.Hf||2<=this.Da.fe&&!!f.xN!==this.Mx?!1:"number"===
typeof f.width||"number"===typeof f.height?!this.Ix&&this.O()===f.width&&this.P()===f.height:this.Ix}WF(){return this.Eb?this.Eb.WF():this.$*this.W*(this.pt?4:3)}static async S_(f,k){f=await f.R6(k);return await d.C3(f)}static zm(){c.clear()}}}
{"use strict";const d=self.C;d.ka.qw=class{static async B_(a,b,e,c){const f=a.ga,k=f.createShader(f.FRAGMENT_SHADER);f.shaderSource(k,b);f.compileShader(k);b=f.createShader(f.VERTEX_SHADER);f.shaderSource(b,e);f.compileShader(b);const g=f.createProgram();f.attachShader(g,k);f.attachShader(g,b);f.bindAttribLocation(g,0,"aPos");f.bindAttribLocation(g,1,"aTex");f.bindAttribLocation(g,2,"aPoints");f.linkProgram(g);const l=a.ZL;l?await a.Cga(()=>f.getProgramParameter(g,l.COMPLETION_STATUS_KHR)):await d.eI(5);
if(!f.getShaderParameter(k,f.COMPILE_STATUS))throw c=f.getShaderInfoLog(k),f.deleteShader(k),f.deleteShader(b),f.deleteProgram(g),Error("Error compiling fragment shader: "+c);if(!f.getShaderParameter(b,f.COMPILE_STATUS))throw c=f.getShaderInfoLog(b),f.deleteShader(k),f.deleteShader(b),f.deleteProgram(g),Error("Error compiling vertex shader: "+c);if(!f.getProgramParameter(g,f.LINK_STATUS))throw c=f.getProgramInfoLog(g),f.deleteShader(k),f.deleteShader(b),f.deleteProgram(g),Error("Error linking shader program: "+
c);(a=d.t1(f.getProgramInfoLog(g)||"").trim())&&!d.IA(a)&&console.info(`[WebGL] Shader program '${c}' compilation log: `,a);f.deleteShader(k);f.deleteShader(b);return g}static async $a(a,b,e,c){e=await d.ka.qw.B_(a,b.src,e,c);return new d.ka.qw(a,e,b,c)}constructor(a,b,e,c){const f=a.ga;var k=a.Nc;a.qj();f.useProgram(b);this.ga=f;this.Da=a;this.Pa=c;this.sb=b;this.aD="<default-device-transform>"===c;c=f.getAttribLocation(b,"aPos");const g=f.getAttribLocation(b,"aTex");this.DL=f.getAttribLocation(b,
"aPoints");-1!==c&&(f.bindBuffer(f.ARRAY_BUFFER,a.zE),f.vertexAttribPointer(c,3,f.FLOAT,!1,0,0),f.enableVertexAttribArray(c));-1!==g&&(f.bindBuffer(f.ARRAY_BUFFER,a.lE),f.vertexAttribPointer(g,2,f.FLOAT,!1,0,0),f.enableVertexAttribArray(g));-1!==this.DL&&(f.bindBuffer(f.ARRAY_BUFFER,a.PD),f.vertexAttribPointer(this.DL,4,f.FLOAT,!1,0,0),f.enableVertexAttribArray(this.DL));f.bindBuffer(f.ARRAY_BUFFER,null);this.OM=new d.ka.Mc(this,"matP","mat4");this.NM=new d.ka.Mc(this,"matMV","mat4");this.Ur=new d.ka.Mc(this,
"color","vec4");this.bia=new d.ka.Mc(this,"samplerFront","sampler");this.RM=new d.ka.Mc(this,"pointTexStart","vec2");this.QM=new d.ka.Mc(this,"pointTexEnd","vec2");this.UM=new d.ka.Mc(this,"zElevation","float");this.SM=new d.ka.Mc(this,"tileSize","vec2");this.TM=new d.ka.Mc(this,"tileSpacing","vec2");this.MM=new d.ka.Mc(this,"color2_","vec4");this.PM=new d.ka.Mc(this,"outlineThickness","float");this.Cu=new d.ka.Mc(this,"samplerBack","sampler");this.Bn=new d.ka.Mc(this,"destStart","vec2");this.An=
new d.ka.Mc(this,"destEnd","vec2");this.Ak=new d.ka.Mc(this,"srcStart","vec2");this.Cn=new d.ka.Mc(this,"srcEnd","vec2");this.En=new d.ka.Mc(this,"srcOriginStart","vec2");this.Dn=new d.ka.Mc(this,"srcOriginEnd","vec2");this.Zh=new d.ka.Mc(this,"pixelSize","vec2");this.qp=new d.ka.Mc(this,"seconds","float");this.np=new d.ka.Mc(this,"layerScale","float");this.mp=new d.ka.Mc(this,"layerAngle","float");this.pp=new d.ka.Mc(this,"layoutStart","vec2");this.op=new d.ka.Mc(this,"layoutEnd","vec2");this.iW=
!!(this.Zh.ma||this.qp.ma||this.Cu.ma||this.Bn.ma||this.An.ma||this.Ak.ma||this.Cn.ma||this.En.ma||this.Dn.ma||this.np.ma||this.mp.ma||this.pp.ma||this.op.ma);this.UV=e.kxa||0;this.VV=e.lxa||0;this.iK=!!e.$wa;this.Gha=!!e.zya;this.nu=!!e.Nya;this.WB=!!e.Nwa;a=e.parameters||[];this.Vr=[];this.Ry=this.Bn.ma||this.An.ma;this.eia=this.Zh.ma||this.Ak.ma||this.Cn.ma||this.En.ma||this.Dn.ma;this.Iha=this.iK||this.Ry||0!==this.UV||0!==this.VV;this.JK=this.KK=!1;this.Ur.YP();this.MM.YP();this.bia.XP(0);this.Cu.XP(1);
this.RM.qh(0,0);this.QM.qh(1,1);this.UM.As(0);this.SM.qh(0,0);this.TM.qh(0,0);this.Bn.qh(0,0);this.An.qh(1,1);this.Ak.qh(0,0);this.Cn.qh(0,0);this.En.qh(0,0);this.Dn.qh(0,0);this.Zh.qh(0,0);this.np.As(1);this.mp.As(0);this.qp.As(0);this.pp.qh(0,0);this.op.qh(0,0);this.PM.As(1);for(const l of a)a=l[2],b=new d.ka.Mc(this,l[0],a),"color"===a?b.G3():b.As(0),this.Vr.push(b);this.aD?this.oV(k.Yy):(this.eB(k.Yy,!0),this.dB(k.GE,!0));k=k.cj;f.useProgram(k?k.sb:null)}A(){this.ga.deleteProgram(this.sb);this.sb=
null;this.Da.uea(this);this.Da=this.ga=null}Ha(){return this.Pa}bo(){return this.Gha}mA(a){return this.Vr[a].Sk()}TZ(a){for(let b=0,e=a.length;b<e;++b)if(!this.Vr[b].E4(a[b]))return!1;return!0}J7(a){for(let b=0,e=a.length;b<e;++b)this.Vr[b].C7(a[b])}UZ(a,b,e,c,f,k,g,l,m){return this.Cu.ma||this.Zh.ma&&!this.Zh.vm(f,k)||this.Bn.ma&&!this.Bn.vm(a.U,a.S)||this.An.ma&&!this.An.vm(a.ba,a.aa)||this.np.ma&&!this.np.WG(g)||this.mp.ma&&!this.mp.WG(l)||this.Ak.ma&&!this.Ak.vm(b.U,b.S)||this.Cn.ma&&!this.Cn.vm(b.ba,
b.aa)||this.En.ma&&!this.En.vm(e.U,e.S)||this.Dn.ma&&!this.Dn.vm(e.ba,e.aa)||this.pp.ma&&!this.pp.vm(c.U,c.S)||this.op.ma&&!this.op.vm(c.S,c.aa)||this.qp.ma&&!this.qp.WG(m)?!1:!0}i8(a,b,e,c,f,k,g,l,m){this.Cu.ma||(this.Zh.ma&&this.Zh.Dm(f,k),this.Bn.ma&&this.Bn.Dm(a.U,a.S),this.An.ma&&this.An.Dm(a.ba,a.aa),this.np.ma&&this.np.AH(g),this.mp.ma&&this.mp.AH(l),this.Ak.ma&&this.Ak.Dm(b.U,b.S),this.Cn.ma&&this.Cn.Dm(b.ba,b.aa),this.En.ma&&this.En.Dm(e.U,e.S),this.Dn.ma&&this.Dn.Dm(e.ba,e.aa),this.pp.ma&&
this.pp.Dm(c.U,c.S),this.op.ma&&this.op.Dm(c.S,c.aa),this.qp.ma&&this.qp.AH(m))}eB(a,b){this.KK&&!b||this.aD||(this.OM.ma&&this.OM.fB(a),this.KK=!0)}g8(){this.KK=!1}dB(a,b){this.JK&&!b||this.aD||(this.NM.ma&&this.NM.fB(a),this.JK=!0)}f8(){this.JK=!1}oV(a){if(!this.aD)throw Error("not device transform shader");this.OM.fB(a);a=this.Da;const b=a.O()/2,e=a.P()/2;a=a.cv(b,e,100*self.devicePixelRatio,b,e);this.NM.fB(a)}x9(a){this.Ur.ma&&this.Ur.cB(a[0],a[1],a[2],a[3])}static dA(a){a=a?"highmedp":"mediump";
return["#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nattribute highp vec3 aPos;",`attribute ${a} vec2 aTex;`,`varying ${a} vec2 vTex;`,"uniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos, 1.0);\n\tvTex = aTex;\n}"].join("\n")}}}
{"use strict";const d=self.C,a=self.Zl.zp,b=new Map([["float",1],["percent",1],["sampler",1],["vec2",2],["vec3",3],["color",3],["vec4",4],["mat4",16]]);d.ka.Mc=class{constructor(e,c,f){if(!b.has(f))throw Error("invalid uniform type");this.qc=e;this.ga=this.qc.ga;this.Pa=c;this.Ga=f;this.$K="color"===this.Ga;this.Oi=this.ga.getUniformLocation(this.qc.sb,c);this.ma=!!this.Oi;e=b.get(f);this.hc=new Float32Array(e);this.qk=new Float32Array(e)}A(){this.Oi=this.ga=this.qc=null}Sk(){return this.Ga}As(e){this.ma&&
(this.hc[0]=e,this.qk.set(this.hc),this.ga.uniform1f(this.Oi,e))}XP(e){this.ma&&(this.hc[0]=e,this.qk.set(this.hc),this.ga.uniform1i(this.Oi,e))}qh(e,c){this.ma&&(this.hc[0]=e,this.hc[1]=c,this.qk.set(this.hc),this.ga.uniform2f(this.Oi,e,c))}G3(){this.ma&&(this.hc[0]=0,this.hc[1]=0,this.hc[2]=0,this.qk.set(this.hc),this.ga.uniform3f(this.Oi,0,0,0))}YP(){this.ma&&(this.hc[0]=1,this.hc[1]=1,this.hc[2]=1,this.hc[3]=1,this.qk.set(this.hc),this.ga.uniform4f(this.Oi,1,1,1,1))}dt(e){e=Math.fround(e);const c=
this.hc;c[0]!==e&&(c[0]=e,this.ga.uniform1f(this.Oi,e))}Bf(e,c){e=Math.fround(e);c=Math.fround(c);const f=this.hc;if(f[0]!==e||f[1]!==c)f[0]=e,f[1]=c,this.ga.uniform2f(this.Oi,e,c)}v9(e,c,f){e=Math.fround(e);c=Math.fround(c);f=Math.fround(f);const k=this.hc;if(k[0]!==e||k[1]!==c||k[2]!==f)k[0]=e,k[1]=c,k[2]=f,this.ga.uniform3f(this.Oi,e,c,f)}cB(e,c,f,k){e=Math.fround(e);c=Math.fround(c);f=Math.fround(f);k=Math.fround(k);const g=this.hc;if(g[0]!==e||g[1]!==c||g[2]!==f||g[3]!==k)g[0]=e,g[1]=c,g[2]=
f,g[3]=k,this.ga.uniform4f(this.Oi,e,c,f,k)}fB(e){const c=this.hc;a.Dk(c,e)||(d.jka(c,e),this.ga.uniformMatrix4fv(this.Oi,!1,e))}E4(e){const c=this.qk;return this.$K?c[0]===Math.fround(e.ib)&&c[1]===Math.fround(e.Ma)&&c[2]===Math.fround(e.fb):c[0]===Math.fround(e)}C7(e){const c=this.qk;this.$K?(c[0]=e.ib,c[1]=e.Ma,c[2]=e.fb):c[0]=e}WG(e){return this.qk[0]===Math.fround(e)}vm(e,c){const f=this.qk;return f[0]===Math.fround(e)&&f[1]===Math.fround(c)}AH(e){this.qk[0]=e}Dm(e,c){const f=this.qk;f[0]=e;
f[1]=c}}}
{"use strict";const d=self.C,a=self.Zl,b=a.sz,e=a.zp;d.ka.ZZ=class{constructor(c){this.Uf=c;this.GE=e.create();this.Yy=e.create();this.vp=null;this.FE=b.Ag(1,1,1,1);this.cj=null;this.LN=new d.Rect;this.clearColor=d.F(d.jb,0,0,0,0)}};d.ka.J9=class{constructor(c){const f=new ArrayBuffer(96);this.Ga=0;this.Nc=c;this.ga=c.Uf.ga;this.$q=this.Uh=0;this.Nf=null;this.gf=new Float32Array(f,0,16);this.Nq=new Float32Array(f,64,4);this.SX=new Float32Array(f,80,4);this.ZD=[]}V3(c){this.Ga=1;this.Uh=c;this.$q=
6}o0(){const c=this.ga;c.drawElements(c.TRIANGLES,this.$q,c.UNSIGNED_SHORT,this.Uh)}d4(c){this.Ga=2;this.Nf=c}A0(){const c=this.ga,f=this.Nf;c.bindTexture(c.TEXTURE_2D,f?f.Eb:null)}EG(c){this.Ga=3;c.ci(this.Nq,0)}q0(){const c=this.Nq,f=this.Nc;b.Aa(f.FE,c);f.cj.x9(c)}t0(){const c=this.Nq,f=this.Nc.cj;f.MM.ma&&f.MM.cB(c[0],c[1],c[2],c[3])}W3(c,f){this.Ga=4;this.Uh=c;this.$q=f}p0(){this.ga.blendFunc(this.Uh,this.$q)}e4(c,f){this.Ga=5;const k=this.Nq;k[0]=0;k[1]=0;k[2]=c;k[3]=f}C0(){const c=this.Nq;
this.ga.viewport(c[0],c[1],c[2],c[3])}b4(c){this.Ga=6;e.Aa(this.gf,c)}y0(){const c=this.Nc,f=c.Uf.Gq,k=c.cj,g=this.gf;for(let l=0,m=f.length;l<m;++l){const q=f[l];q===k?q.eB(g,!0):q.g8()}e.Aa(c.Yy,g)}Y3(c){this.Ga=7;e.Aa(this.gf,c)}u0(){const c=this.Nc,f=c.Uf.Gq,k=c.cj,g=this.gf;for(let l=0,m=f.length;l<m;++l){const q=f[l];q===k?q.dB(g,!0):q.f8()}e.Aa(c.GE,g)}c4(c){this.Ga=8;this.Nf=c}z0(){const c=this.ga;var f=this.Nf;const k=this.Nc;f?(f=f.hk,k.vp=f,c.bindFramebuffer(c.FRAMEBUFFER,f)):(k.vp=null,
c.bindFramebuffer(c.FRAMEBUFFER,null))}L3(c){this.Ga=9;c.ci(this.gf,0)}M3(){this.Ga=9;const c=this.gf;c[0]=0;c[1]=0;c[2]=0;c[3]=0}h0(){const c=this.ga;var f=this.gf,k=this.Nc;const g=k.clearColor;(k=k.Uf.jr&&d.Lu)&&c.disable(c.SCISSOR_TEST);const l=f[0],m=f[1],q=f[2];f=f[3];g.az(l,m,q,f)||(c.clearColor(l,m,q,f),g.Dp(l,m,q,f));c.clear(c.COLOR_BUFFER_BIT);k&&c.enable(c.SCISSOR_TEST)}K3(c,f,k,g){this.Ga=10;const l=this.gf;l[0]=c;l[1]=f;l[2]=k;l[3]=g;l[4]=0;l[5]=0;l[6]=0;l[7]=0}g0(){const c=this.ga;var f=
this.gf,k=this.Nc;const g=k.Uf;k=k.clearColor;g.jr||c.enable(c.SCISSOR_TEST);c.scissor(f[0],f[1],f[2],f[3]);const l=f[4],m=f[5],q=f[6];f=f[7];k.az(l,m,q,f)||(c.clearColor(l,m,q,f),k.Dp(l,m,q,f));c.clear(c.COLOR_BUFFER_BIT);g.jr?c.scissor(0,0,g.Vy,g.Uy):c.disable(c.SCISSOR_TEST)}v0(){const c=this.gf;this.Nc.LN.set(c[0],c[1],c[2],c[3])}n0(){const c=this.ga,f=this.Nc,k=f.Uf.dE;c.useProgram(k.sb);k.eB(f.Yy,!1);k.dB(f.GE,!1);var g=f.LN;k.RM.ma&&k.RM.Bf(g.U,g.S);k.QM.ma&&k.QM.Bf(g.ba,g.aa);g=this.gf[0];
k.UM.ma&&k.UM.dt(g);k.Ur.ma&&(g=f.FE,k.Ur.cB(g[0],g[1],g[2],g[3]));c.drawArrays(c.POINTS,this.Uh/4,this.$q);c.useProgram(f.cj.sb)}Z3(c){this.Ga=12;this.Nf=c}w0(){var c=this.ga;const f=this.Nc,k=this.Nf;f.cj=k;c.useProgram(k.sb);k.eB(f.Yy,!1);k.dB(f.GE,!1);k.Ur.ma&&(c=f.FE,k.Ur.cB(c[0],c[1],c[2],c[3]))}a4(){this.Ga=13}x0(){const c=this.Nc.cj;c.iW&&this.Jaa(c);c.Vr.length&&this.Kaa(c)}Jaa(c){const f=this.ga,k=this.gf,g=this.Nq,l=this.SX;if(c.Cu.ma){const m=this.Nc.Uf,q=this.Nf;m.Po!==q&&(f.activeTexture(f.TEXTURE1),
f.bindTexture(f.TEXTURE_2D,q?q.Eb:null),m.Po=q,f.activeTexture(f.TEXTURE0))}c.Zh.ma&&c.Zh.Bf(k[0],k[1]);c.Bn.ma&&c.Bn.Bf(k[2],k[3]);c.An.ma&&c.An.Bf(k[4],k[5]);c.np.ma&&c.np.dt(k[6]);c.mp.ma&&c.mp.dt(k[7]);c.Ak.ma&&c.Ak.Bf(k[12],k[13]);c.Cn.ma&&c.Cn.Bf(k[14],k[15]);c.En.ma&&c.En.Bf(l[0],l[1]);c.Dn.ma&&c.Dn.Bf(l[2],l[3]);c.pp.ma&&c.pp.Bf(g[0],g[1]);c.op.ma&&c.op.Bf(g[2],g[3]);c.qp.ma&&c.qp.dt(this.Uh)}Kaa(c){c=c.Vr;const f=this.ZD;for(let k=0,g=c.length;k<g;++k){const l=c[k],m=f[k];l.$K?l.v9(m.ib,
m.Ma,m.fb):l.dt(m)}}R3(c){this.Ga=14;this.Nf=c}m0(){const c=this.ga,f=this.Nf,k=this.Nc.vp;f!==k&&c.bindFramebuffer(c.FRAMEBUFFER,f);c.invalidateFramebuffer(c.FRAMEBUFFER,[c.COLOR_ATTACHMENT0]);f!==k&&c.bindFramebuffer(c.FRAMEBUFFER,k)}H3(c,f){this.Ga=17;var k=this.gf;const g=this.Nc.Uf;k[0]=c.O();k[1]=c.P();k[2]=f?f.O():g.O();k[3]=f?f.P():g.P();k[4]=c.SG()?1:0;k[5]=!0;k=this.ZD;d.G(k);k.push(c.hk);k.push(f?f.hk:null)}e0(){var c=this.gf,f=this.ZD;const k=this.ga;var g=c[0],l=c[1],m=c[2];const q=c[3],
r=0!==c[4];c=0!==c[5];const p=f[1];k.bindFramebuffer(k.READ_FRAMEBUFFER,f[0]);k.bindFramebuffer(k.DRAW_FRAMEBUFFER,p);c?k.blitFramebuffer(0,0,g,l,0,0,m,q,k.COLOR_BUFFER_BIT,r?k.LINEAR:k.NEAREST):(f=Math.min(g,m),g=Math.min(l,q),m=Math.max(l-q,0),l=Math.max(q-l,0),k.blitFramebuffer(0,m,f,g+m,0,l,f,g+l,k.COLOR_BUFFER_BIT,k.NEAREST))}g4(c){this.Ga=18;this.Nf=c}D0(){this.Nf.pF();this.Nf=null}Q3(c){this.Ga=19;this.Nf=c}l0(){this.Nf.JF();this.Nf=null}s0(){const c=this.Nc.cj,f=this.gf;c.Zh.ma&&c.Zh.Bf(f[0],
f[1]);c.PM.ma&&c.PM.dt(f[2])}B0(){const c=this.Nc.cj,f=this.gf;c.Ak.ma&&c.Ak.Bf(f[0],f[1]);c.Zh.ma&&c.Zh.Bf(f[4],f[5]);c.SM.ma&&c.SM.Bf(f[6],f[7]);c.TM.ma&&c.TM.Bf(f[8],f[9])}J3(){this.Ga=22}f0(){const c=this.ga;c.clear(c.DEPTH_BUFFER_BIT)}X3(c){this.Ga=23;this.Uh=c?1:0}r0(){const c=this.ga;0===this.Uh?(c.disable(c.DEPTH_TEST),c.depthMask(!1)):(c.enable(c.DEPTH_TEST),c.depthMask(!0))}P3(){this.Ga=24}k0(){const c=this.ga;c.clear(c.STENCIL_BUFFER_BIT);c.enable(c.STENCIL_TEST);c.stencilFunc(c.ALWAYS,
1,1);c.stencilOp(c.KEEP,c.KEEP,c.REPLACE);c.colorMask(!1,!1,!1,!1)}O3(){this.Ga=25}j0(){const c=this.ga;c.colorMask(!0,!0,!0,!0);c.stencilFunc(c.EQUAL,1,1);c.stencilOp(c.KEEP,c.KEEP,c.KEEP)}N3(){this.Ga=26}i0(){const c=this.ga;c.disable(c.STENCIL_TEST)}za(){switch(this.Ga){case 1:this.o0();break;case 2:this.A0();break;case 3:this.q0();break;case 4:this.p0();break;case 5:this.C0();break;case 6:this.y0();break;case 7:this.u0();break;case 8:this.z0();break;case 9:this.h0();break;case 10:this.g0();break;
case 11:this.n0();break;case 12:this.w0();break;case 13:this.x0();break;case 14:this.m0();break;case 15:this.v0();break;case 16:this.B0();break;case 17:this.e0();break;case 18:this.D0();break;case 19:this.l0();break;case 20:this.s0();break;case 21:this.t0();break;case 22:this.f0();break;case 23:this.r0();break;case 24:this.k0();break;case 25:this.j0();break;case 26:this.i0()}}}}
{"use strict";const d=self.C,a={timeout:60},b=new d.jb(0,0,0,1),e=new Set(["left","center","right"]),c=new Set(["top","center","bottom"]),f=new Set(["word","character"]),k=new Set;d.w1&&d.w1.addEventListener("fontload",q=>{q=q.font.Ha();for(const r of k)(r.ef||d.bh(r.GC,q))&&r.kl()});function g(q,r,p,u,t,w){r?"Gecko"===d.md.zz?q.strokeText(p,u,t,w):q.strokeText(p,u,t):"Gecko"===d.md.zz?q.fillText(p,u,t,w):q.fillText(p,u,t)}let l=!1,m=!1;d.ka.pH=class{constructor(q,r){r=Object.assign({},a,r);this.Da=
q;this.GC="Arial";this.HC=16;this.IC=1;this.Ic=0;this.lg=this.kg=!1;this.mC="black";this.ef=!1;this.GN=null;this.NJ=new Set;this.fc="left";this.Vb="top";this.eb="";this.Rj=null;this.Sf=d.F(d.rw);this.Wr="word";this.mL=this.mE=!1;this.Gx=!0;this.Sg=-1;this.W=this.$=this.Vm=this.Ff=this.Ih=0;this.bj=1;this.fK=!1;this.by=this.jn=this.Me=this.Nr=null;this.KW=this.LW=-1;this.wD=this.NW=this.sL="";this.tL=this.uL=1;this.cy=(p,u)=>this.Iw(p,u);this.Eb=null;this.Hy=this.Jy=0;this.Zg=new d.Rect;this.ty=1;
this.QL=!1;this.HM=new d.B3(()=>{this.oi();this.ZU(8,8)},r.timeout);this.PE=null;this.Wy=!1;k.add(this)}A(){this.GN=null;this.NJ.clear();this.cy=this.by=this.jn=this.Me=this.Nr=this.Rj=null;this.HM.A();this.PE=null;this.oi();this.Sf.Vc();this.Da=this.Sf=null;this.Wy=!0;k.delete(this)}Dq(){this.fK=!0}kl(){this.Dq();this.Sf.Vc();this.mE=!0}LR(){this.Gx=!1}rh(){return this.Gx}zH(q){q=!!q;this.ef!==q&&(q=(this.ef=q)?"alphabetic":"top",this.Me&&(this.Me.textBaseline=q),this.jn&&(this.jn.textBaseline=q),
this.kl())}FH(q){q||(q="serif");this.GC!==q&&(this.GC=q,this.kl())}GH(q){.1>q&&(q=.1);this.HC!==q&&(this.HC=q,this.kl())}T7(q){this.IC!==q&&(this.IC=q,this.kl())}Rs(q){this.Ic!==q&&(this.Ic=q,this.Dq())}wR(q){q=!!q;this.kg!==q&&(this.kg=q,this.kl())}NR(q){q=!!q;this.lg!==q&&(this.lg=q,this.kl())}qq(q){q=Math.floor(q);this.Sg!==q&&(this.Sg=q,this.Dq())}Zc(q,r){for(let p=q.length-1;0<=p;--p){const u=q[p];if(u.tag===r)return u}return null}so(q,r){return!!this.Zc(q,r)}uT(q,r){let p=[];(this.kg||this.so(r,
"b"))&&p.push("bold");(this.lg||this.so(r,"i"))&&p.push("italic");var u=this.Zc(r,"size");u=(u?parseFloat(u.wd):this.HC)*this.IC;q?p.push(u+"pt"):p.push(u*this.ty*this.bj*self.devicePixelRatio+"pt");q=this.GC;(r=this.Zc(r,"font"))&&r.wd&&(q=r.wd,this.GN&&!this.NJ.has(q)&&(this.GN(q),this.NJ.add(q)));q&&p.push('"'+q+'"');return p.join(" ")}ri(q){q instanceof d.jb&&(q=q.Via());this.mC!==q&&(this.mC=q,this.Dq())}xR(q,r,p){b.Tu(q,r,p);this.ri(b)}IR(q){if(!e.has(q))throw Error("invalid horizontal alignment");
this.fc!==q&&(this.fc=q,this.Dq())}bS(q){if(!c.has(q))throw Error("invalid vertical alignment");this.Vb!==q&&(this.Vb=q,this.Dq())}UH(q){if(!f.has(q))throw Error("invalid word wrap mode");this.Wr!==q&&(this.Wr=q,this.kl())}bl(q){this.eb!==q&&(this.eb=q,this.kl())}Gc(q,r,p){"undefined"===typeof p&&(p=1);if(!(0>=q||0>=q||this.Ff===q&&this.Vm===r&&this.bj===p)){1===this.bj!==(1===p)&&(this.QL=!0);var u=this.Ff,t=this.bj;this.Ff=q;this.Vm=r;this.bj=p;q=self.devicePixelRatio;this.$=this.Ff*this.bj*q;this.W=
this.Vm*this.bj*q;q=Math.max(this.$,this.W);r=Math.min(this.Da.GD,2048);p=1;q>r&&(p=r/q,this.$=Math.min(this.$*p,r),this.W=Math.min(this.W*p,r));this.ty=p;0<this.Jy&&0<this.Hy&&this.bj===t&&this.Zg.set(0,0,this.$/this.Jy,this.W/this.Hy);this.Ff!==u?this.kl():this.Dq()}}O(){return this.$}P(){return this.W}uG(){this.zq();return this.Sf.uP()}tG(){this.zq();return this.Sf.N2()+this.Sf.Hl.length*(this.Ic+4)-this.Ic}ue(){this.HM.Wd();this.Zca();return this.Eb}Zca(){this.Eb&&!this.fK&&!this.mE||this.mL||
0>=this.$||0>=this.W||(this.fK=!1,this.mL=!0,this.Gx?d.am(()=>this.$S()):this.$S())}$S(){this.Wy||(this.ZU(Math.ceil(this.$),Math.ceil(this.W)),this.zq(),this.bba(),this.xga(),this.HM.Wd(),this.mL=!1)}ZU(q,r){this.Nr||(this.Nr=d.gh(16,16));let p=!1;if(this.LW!==q||this.KW!==r)this.LW=q,this.KW=r,this.Nr.width=q,this.Nr.height=r,p=!0;this.Me||(this.Me=this.Nr.getContext("2d"),p=!0);p?(this.Me.textBaseline=this.ef?"alphabetic":"top",this.Me.font=this.sL,this.Me.fillStyle=this.wD,this.Me.strokeStyle=
this.wD,this.Me.globalAlpha=this.uL,this.Me.lineWidth=this.tL):this.Me.clearRect(0,0,q,r)}bU(){this.jn||(this.jn=d.gh(16,16).getContext("2d"),this.by=d.gh(16,16).getContext("2d"),this.jn.textBaseline=this.ef?"alphabetic":"top",this.by.textBaseline="top")}Nfa(q){this.NW!==q&&(this.NW=q,this.jn.font=q,this.by.font=q)}gV(){if(!l){l=!0;this.bU();const q=this.jn.measureText("test");m="number"===typeof q.fontBoundingBoxAscent&&"number"===typeof q.fontBoundingBoxDescent}return m}zq(){this.mE&&(this.bU(),
!this.ef||this.Rj&&this.Rj.toString()===this.eb||(this.Rj=new d.lj(this.eb,{QY:!0})),this.Sf.rw(this.ef?this.Rj.hZ():this.eb,this.cy,this.Ff,this.Wr,0),this.mE=!1)}Iw(q,r){this.Nfa(this.uT(!0,r));r=this.Zc(r,"size");r=(r?parseFloat(r.wd):this.HC)*this.IC;const p=this.jn.measureText(q);let u=0;this.ef&&this.gV()&&(u=p.fontBoundingBoxAscent-this.by.measureText(q).fontBoundingBoxAscent);return{width:p.width,height:4/3*r,eh:p.fontBoundingBoxAscent||0,zg:p.fontBoundingBoxDescent||0,Bg:u}}vfa(q){this.sL!==
q&&(this.sL=q,this.Me.font=q)}KB(q){this.wD!==q&&(this.wD=q,this.Me.fillStyle=q,this.Me.strokeStyle=q)}ufa(q){this.uL!==q&&(this.uL=q,this.Me.globalAlpha=q)}RU(q){this.tL!==q&&(this.tL=q,this.Me.lineWidth=q)}bba(){this.Ih=0;const q=this.ty*this.bj*self.devicePixelRatio,r=(4+this.Ic)*q;var p=0;const u=this.Sf.Hl;if(0!==u.length){var t=this.ef&&this.gV(),w=u[0].height*q;"center"===this.Vb?(p=u.reduce((x,z)=>x+z.height*q+r,0)-r,p=Math.max(this.W/2-p/2,0),t&&(w=u[0].Bg*q)):"bottom"===this.Vb&&(p=u.reduce((x,
z)=>x+z.height*q+r,0)-this.Ic*q,p=this.W-p-(t?u.Pe(-1).zg*q:0)-2);for(let x=0,z=u.length;x<z;++x){t=u[x];const D=t.height*q,G=p;if(this.ef){if(p+=0===x?w:D,0<x&&p>this.W-4*q)break}else if(0<x&&p>=this.W-D)break;0<=G&&this.aba(t,p,q);this.ef||(p+=D);p+=r}}}aba(q,r,p){let u=0;"center"===this.fc?u=(this.$-q.width*p)/2:"right"===this.fc&&(u=this.$-q.width*p);for(const t of q.nN)this.$aa(t,u,r,p,q.height),u+=t.width*p}$aa(q,r,p,u,t){const w=this.Me;var x=t/16;t=q.width*u;const z=q.height*u,D=q.height/
16;var G=(4+this.Ic)*u,N=q.xd,B=q.text;if(-1!==this.Sg){if(this.Ih>=this.Sg)return;this.Ih+B.length>this.Sg&&(B=B.substr(0,this.Sg-this.Ih),t=this.Iw(B,N).width*u);this.Ih+=B.length}var H=this.Zc(N,"background"),I=this.so(N,"u");q=this.so(N,"s");if((!d.IA(B)||H||I||q)&&!this.so(N,"hide")){var K=this.Zc(N,"offsetx");r+=K?parseFloat(K.wd)*u:0;K=this.Zc(N,"offsety");p+=K?parseFloat(K.wd)*u:0;H&&(this.KB(H.wd),w.fillRect(r,p-z,t,z+G));K=this.Zc(N,"color");this.KB(K?K.wd:this.mC);G=this.Zc(N,"opacity");
this.ufa(G?parseFloat(G.wd)/100:1);G=(G=this.Zc(N,"linethickness"))?parseFloat(G.wd):1;(H=this.so(N,"stroke"))&&this.RU(.5*D*G*this.ty*this.bj*self.devicePixelRatio);this.vfa(this.uT(!1,N));g(w,H,B,r,p,t);!H&&(this.RU(.5*D*G*this.ty*this.bj*self.devicePixelRatio),N=this.Zc(N,"outline"))&&(this.KB(N.wd),g(w,!0,B,r,p,t));this.KB(K?K.wd:this.mC);I&&(N=r,B=p+u*x,I=t,x=u*x*G,H?w.strokeRect(N,B,I,x):w.fillRect(N,B,I,x));q&&(u*=D,w.fillRect(r,p-z/4+u/2-u*G/2,t,u*G))}}xga(){this.Da.Xp()||(this.Jy=Math.ceil(this.$),
this.Hy=Math.ceil(this.W),this.Zg.set(0,0,this.$/this.Jy,this.W/this.Hy),this.QL&&(this.oi(),this.QL=!1),this.Eb||(this.Eb=this.Da.IO(this.Jy,this.Hy,{OE:1===this.bj,jz:"high"})),this.Da.B9(this.Nr,this.Eb),this.PE&&this.PE())}bg(){return this.Zg}oi(){this.Eb&&(this.Da.Xp()||this.Da.Fk(this.Eb),this.Eb=null)}static zm(){for(const q of k)q.oi()}}}
{"use strict";const d=self.C;class a{constructor(b){this.ga=b.ga;this.fe=b.fe;this.ee=b.ee;this.Ri=null;this.xx=this.Tb=!1;this.WD=0;this.Ri=1===this.fe?this.ee.createQueryEXT():this.ga.createQuery()}A(){this.RS();this.ee=this.ga=null;this.xx=!1}RS(){this.Ri&&(1===this.fe?this.ee.deleteQueryEXT(this.Ri):this.ga.deleteQuery(this.Ri),this.Ri=null)}pF(){if(this.Tb)throw Error("query already active");1===this.fe?this.ee.beginQueryEXT(this.ee.TIME_ELAPSED_EXT,this.Ri):this.ga.beginQuery(this.ee.TIME_ELAPSED_EXT,
this.Ri);this.Tb=!0}JF(){if(!this.Tb)throw Error("query not active");1===this.fe?this.ee.endQueryEXT(this.ee.TIME_ELAPSED_EXT):this.ga.endQuery(this.ee.TIME_ELAPSED_EXT);this.Tb=!1}uF(){if(this.Ri&&!this.xx&&!this.Tb){var b=1===this.fe?this.ee.getQueryObjectEXT(this.Ri,this.ee.QUERY_RESULT_AVAILABLE_EXT):this.ga.getQueryParameter(this.Ri,this.ga.QUERY_RESULT_AVAILABLE);var e=this.ga.getParameter(this.ee.GPU_DISJOINT_EXT);b&&!e&&(this.WD=1===this.fe?this.ee.getQueryObjectEXT(this.Ri,this.ee.QUERY_RESULT_EXT):
this.ga.getQueryParameter(this.Ri,this.ga.QUERY_RESULT),this.WD/=1E9,this.xx=!0);(b||e)&&this.RS()}}zA(){return this.xx}pA(){if(!this.xx)throw Error("no result available");return this.WD}}d.ka.L9=class{constructor(b){this.Da=b;this.Ji=b.Ji;this.Tb=!1;this.Xo=null;this.ir=!1;this.pu=null;this.Dr=[]}A(){for(const b of this.Dr)b instanceof a&&b.A();d.G(this.Dr);this.Da=this.pu=this.Xo=null}pF(){if(this.Tb)throw Error("query already active");const b=this.Da.ZX;0<b.length?(this.ir=!0,this.Xo=b.Pe(-1),
this.Xo.cT(),this.Xo.Dr.push(this)):(this.ir=!1,this.Xo=null);this.Tb=!0;b.push(this);this.eV()}JF(){if(!this.Tb)throw Error("query not active");if(this.Da.ZX.pop()!==this)throw Error("can only end most nested query");this.Tb=!1;this.cT();this.Xo&&(this.Xo.eV(),this.Xo=null)}eV(){this.pu=d.F(a,this.Da);this.Dr.push(this.pu);this.pu.pF()}cT(){this.pu.JF();this.pu=null}uF(){for(const b of this.Dr)b.uF()}zA(){return this.Dr.every(b=>b.zA())}pA(){return this.Dr.reduce((b,e)=>b+e.pA(),0)}}}
{"use strict";const d=self.C;d.ka.tS=class{constructor(a,b=1E3){this.Da=a;this.Fha=b;this.pl=[];this.Da.d$(this)}A(){this.Vc();this.Da.tea(this);this.Da=null}Vc(){for(const a of this.pl)a.A();d.G(this.pl)}nF(){const a=new d.ka.L9(this.Da);this.pl.push(a);this.pl.length>this.Fha&&this.pl.shift().A();return a}n_(a){for(const b of this.pl){if(b.Ji>=a)break;if(b.ir)break;b.uF()}}oP(a,b){if(b<=a)return NaN;let e=0;for(const c of this.pl){if(c.Ji>=b)break;if(!(c.Ji<a))if(c.zA())e+=c.pA();else return NaN}return e}LO(a){for(let b=
0,e=this.pl.length;b<e;++b){const c=this.pl[b];if(c.Ji<a)c.A();else{0<b&&this.pl.splice(0,b);break}}}}}
{"use strict";const d=self.C,a=self.Zl,b=a.sz,e=a.zp,c={powerPreference:"default",EY:!0,alpha:!1,yN:!1,depth:!1,OY:2,failIfMajorPerformanceCaveat:!1},f=new Set(["default","low-power","high-performance"]),k=new d.Bd(0,0,1,0,1,1,0,1),g=e.create(),l=e.create(),m=new d.Bd,q=new d.Rect;let r=null;d.Lu&&(self.cxa=function(){r?r.loseContext():console.warn("WEBGL_lose_context not supported")},self.dxa=function(){r?r.restoreContext():console.warn("WEBGL_lose_context not supported")});const p=new Set;let u=
-1;function t(){u=-1;for(const w of p)w.via()&&(w.resolve(),p.delete(w));0<p.size&&(u=self.requestAnimationFrame(t))}d.ka.K9=class extends d.ka.d7{constructor(w,x){super();x=Object.assign({},c,x);if(!f.has(x.powerPreference))throw Error("invalid power preference");const z={alpha:!!x.alpha,depth:!1,antialias:!1,powerPreference:x.powerPreference,failIfMajorPerformanceCaveat:!!x.failIfMajorPerformanceCaveat};x.yN&&(z.desynchronized=!0,z.preserveDrawingBuffer=!0);let D=null,G=0;2<=x.OY&&(D=w.getContext("webgl2",
z),G=2);D||(D=w.getContext("webgl",z),G=1);if(!D)throw Error("failed to initialise WebGL context");this.ga=D;this.yV=D.getContextAttributes();x.yN&&!this.yV.desynchronized&&console.info("[WebGLRenderer] Low-latency mode specified but is not supported here");D.getParameter(D.VERSION);this.fe=G;this.tg=b.create();this.UJ=e.create();this.aL=this.rp=!!x.depth;this.Rq=null;this.ZK=!0;this.IV=this.JV=0;this.PD=this.tW=this.lE=this.zE=null;this.Ty=new Float32Array(24E3);this.uW=new Uint16Array(12E3);this.Mr=
new Float32Array(16E3);this.qX=new Float32Array(32E3);this.PW=this.QD=this.mf=this.aj=0;this.gp=this.nr=null;this.bx=[];this.zc=this.wo=0;this.Xd=null;this.Nc=d.F(d.ka.ZZ,this);this.Vx=d.F(d.jb,1,1,1,1);this.Po=this.gn=null;this.oL=this.rL=0;this.jr=!1;this.Uy=this.Vy=-1;this.yha=new d.Rect;this.GD=-1;this.JL=0;this.Py="(unavailable)";this.dL=!1;this.Xw=this.ZL=null;this.IL=0;this.vha=!!x.EY;this.ee=null;this.VB=new Set;this.ZX=[];this.s1(this.uW)}Qv(){return!0}async CA(){super.CA();var w=this.ga;
this.Vx.Dp(1,1,1,1);this.Po=this.gn=null;this.QD=this.aj=0;this.PW=23988;d.G(this.bx);this.zc=this.wo=0;this.Xd=this.nr=null;this.yha.set(0,0,1,1);var x=this.Nc;x.cj=null;x.vp=null;b.set(x.FE,1,1,1,1);x.clearColor.Dp(0,0,0,0);x.LN.set(0,0,1,1);w.clearColor(0,0,0,0);w.clear(w.COLOR_BUFFER_BIT);w.enable(w.BLEND);w.blendFunc(w.ONE,w.ONE_MINUS_SRC_ALPHA);this.rL=w.ONE;this.oL=w.ONE_MINUS_SRC_ALPHA;this.Yba(w);w.disable(w.CULL_FACE);w.disable(w.STENCIL_TEST);w.disable(w.DITHER);this.rp?(w.enable(w.DEPTH_TEST),
w.depthMask(!0),w.depthFunc(w.LEQUAL)):(w.disable(w.DEPTH_TEST),w.depthMask(!1));this.aL=this.rp;this.PD=w.createBuffer();w.bindBuffer(w.ARRAY_BUFFER,this.PD);w.bufferData(w.ARRAY_BUFFER,this.qX.byteLength,w.DYNAMIC_DRAW);this.zE=w.createBuffer();w.bindBuffer(w.ARRAY_BUFFER,this.zE);w.bufferData(w.ARRAY_BUFFER,this.Ty.byteLength,w.DYNAMIC_DRAW);this.lE=w.createBuffer();w.bindBuffer(w.ARRAY_BUFFER,this.lE);w.bufferData(w.ARRAY_BUFFER,this.Mr.byteLength,w.DYNAMIC_DRAW);this.tW=w.createBuffer();w.bindBuffer(w.ELEMENT_ARRAY_BUFFER,
this.tW);w.bufferData(w.ELEMENT_ARRAY_BUFFER,this.uW,w.STATIC_DRAW);w.activeTexture(w.TEXTURE0);w.bindTexture(w.TEXTURE_2D,null);this.GD=w.getParameter(w.MAX_TEXTURE_SIZE);this.JL=w.getParameter(w.ALIASED_POINT_SIZE_RANGE)[1];2048<this.JL&&(this.JL=2048);if(x=w.getExtension("WEBGL_debug_renderer_info"))w.getParameter(x.UNMASKED_VENDOR_WEBGL),this.Py=w.getParameter(x.UNMASKED_RENDERER_WEBGL);this.ZL=w.getExtension("KHR_parallel_shader_compile");d.Lu&&(r=w.getExtension("WEBGL_lose_context"));if(this.vha)if(1===
this.fe){if("Chromium"!==d.md.zz||81<=d.md.rF||"undefined"!==typeof document)this.ee=w.getExtension("EXT_disjoint_timer_query")}else this.ee=w.getExtension("EXT_disjoint_timer_query_webgl2")||w.getExtension("EXT_disjoint_timer_query");this.IL=(this.Xw=w.getExtension("EXT_texture_filter_anisotropic"))?w.getParameter(this.Xw.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0;w=d.ka.qw;x=w.dA(!1);w=await Promise.all([["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex) * color;\n}",
x,"<default>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex) * color;\n}",x,"<default-device-transform>"],["uniform lowp sampler2D samplerFront;\nvarying lowp float pointOpacity;\nuniform mediump vec2 pointTexStart;\nuniform mediump vec2 pointTexEnd;\nuniform lowp vec4 color;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, mix(pointTexStart, pointTexEnd, gl_PointCoord)) * color * pointOpacity;\n}",
"attribute vec4 aPoints;\nvarying float pointOpacity;\nuniform float zElevation;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPoints.xy, zElevation, 1.0);\n\tgl_PointSize = aPoints.z;\n\tpointOpacity = aPoints.w;\n}","<point>"],["uniform lowp vec4 color;\nvoid main(void) {\n\tgl_FragColor = color;\n}",x,"<fill>"],["precision lowp float;\nvarying mediump vec2 vTex;\nuniform vec4 color;\nuniform vec4 color2_;\nvec3 fromLinear(vec3 linearRGB)\n{\n\tbvec3 cutoff = lessThan(linearRGB, vec3(0.0031308));\n\tvec3 higher = vec3(1.055) * pow(abs(linearRGB), vec3(1.0/2.4)) - vec3(0.055);\n\tvec3 lower = linearRGB * vec3(12.92);\n\treturn mix(higher, lower, vec3(cutoff));\n}\nvec3 toLinear(vec3 sRGB)\n{\n\tbvec3 cutoff = lessThan(sRGB, vec3(0.04045));\n\tvec3 higher = pow(abs((sRGB + vec3(0.055))/vec3(1.055)), vec3(2.4));\n\tvec3 lower = sRGB/vec3(12.92);\n\treturn mix(higher, lower, vec3(cutoff));\n}\nvoid main(void) {\n\tvec3 linearGrad = mix(toLinear(color.rgb), toLinear(color2_.rgb), vTex.x);\n\tfloat a = mix(color.a, color2_.a, vTex.x);\n\tgl_FragColor = vec4(fromLinear(linearGrad) * a, a);\n}",
x,"<lineargradient>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float f = step(diffSq.x + diffSq.y, 0.25);\n\tgl_FragColor = color * f;\n}",x,"<hardellipse>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nuniform mediump float outlineThickness;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float distSq = diffSq.x + diffSq.y;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump float innerF = step(distSq, 0.25);\n\tmediump vec2 innerEdge = halfNorm - pixelSize * norm * outlineThickness;\n\tmediump vec2 innerEdgeSq = innerEdge * innerEdge;\n\tmediump float outerF = step(innerEdgeSq.x + innerEdgeSq.y, distSq);\n\tgl_FragColor = color * innerF * outerF;\n}",
x,"<hardellipseoutline>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump vec2 halfNormSq = halfNorm * halfNorm;\n\tmediump vec2 innerEdge = halfNorm - pixelSize * norm;\n\tmediump vec2 innerEdgeSq = innerEdge * innerEdge;\n\tmediump float f = smoothstep(halfNormSq.x + halfNormSq.y, innerEdgeSq.x + innerEdgeSq.y, diffSq.x + diffSq.y);\n\tgl_FragColor = color * f;\n}",
x,"<smoothellipse>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nuniform mediump float outlineThickness;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float distSq = diffSq.x + diffSq.y;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump vec2 halfNormSq = halfNorm * halfNorm;\n\tmediump vec2 pxNorm = pixelSize * norm;\n\tmediump vec2 innerEdge1 = halfNorm - pxNorm;\n\tmediump vec2 innerEdge1Sq = innerEdge1 * innerEdge1;\n\tmediump float innerF = smoothstep(halfNormSq.x + halfNormSq.y, innerEdge1Sq.x + innerEdge1Sq.y, distSq);\n\tmediump vec2 innerEdge2 = halfNorm - pxNorm * outlineThickness;\n\tmediump vec2 innerEdge2Sq = innerEdge2 * innerEdge2;\n\tmediump vec2 innerEdge3 = halfNorm - pxNorm * (outlineThickness + 1.0);\n\tmediump vec2 innerEdge3Sq = innerEdge3 * innerEdge3;\n\tmediump float outerF = smoothstep(innerEdge3Sq.x + innerEdge3Sq.y, innerEdge2Sq.x + innerEdge2Sq.y, distSq);\n\tgl_FragColor = color * innerF * outerF;\n}",
x,"<smoothellipseoutline>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nvoid main(void) {\n\tlowp float f = 1.0 - abs(vTex.y - 0.5) * 2.0;\n\tgl_FragColor = color * f;\n}",x,"<smoothline>"],["#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nvarying highmedp vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nuniform highmedp vec2 srcStart;\nuniform highmedp vec2 pixelSize;\nuniform highmedp vec2 tileSize;\nuniform highmedp vec2 tileSpacing;\nvoid main(void) {\n\thighmedp vec2 tile = floor(vTex);\n\thighmedp vec2 tex = fract(vTex);\n\thighmedp vec2 tileOrigin = srcStart + tile * (tileSize + tileSpacing);\n\thighmedp vec2 lowerBound = tileOrigin + pixelSize / 2.0;\n\thighmedp vec2 upperBound = tileOrigin + tileSize - pixelSize / 2.0;\n\tgl_FragColor = texture2D(samplerFront, clamp(tex, lowerBound, upperBound), -16.0) * color;\n}",
w.dA(!0),"<tilemap>"]].map(z=>this.CF({src:z[0]},z[1],z[2])));this.eE=w[0];this.gp=w[1];this.dE=w[2];this.vM=w[3];this.vi()}async CF(w,x,z){w=await d.ka.qw.$a(this,w,x,z);this.e$(w);return w}i7(){this.nr=null}Gc(w,x,z){if(this.$!==w||this.W!==x||z){this.qj();z=this.ga;var D=this.Nc;this.$=w;this.W=x;w=this.EP();x=this.oG();this.bV(w,x);this.dv(this.UJ,w/x);this.Ws(this.UJ);this.gp&&(z.useProgram(this.gp.sb),this.gp.oV(this.FD),this.nr=this.gp,this.Nc.cj=this.gp);z.bindTexture(z.TEXTURE_2D,null);z.activeTexture(z.TEXTURE1);
z.bindTexture(z.TEXTURE_2D,null);z.activeTexture(z.TEXTURE0);this.Po=this.gn=null;this.rp&&this.ZK&&this.kJ(this.$,this.W);this.Xd&&this.Xd.AU(this.$,this.W);z.bindFramebuffer(z.FRAMEBUFFER,null);this.Xd=null;D.vp=null}}kJ(w,x){const z=this.ga;if(this.Rq){if(this.JV===w&&this.IV===x)return;z.deleteRenderbuffer(this.Rq)}this.Rq=z.createRenderbuffer();z.bindRenderbuffer(z.RENDERBUFFER,this.Rq);z.renderbufferStorage(z.RENDERBUFFER,2<=this.fe?z.DEPTH24_STENCIL8:z.DEPTH_STENCIL,w,x);z.bindRenderbuffer(z.RENDERBUFFER,
null);this.JV=w;this.IV=x}S7(w,x){this.rp&&(this.ZK=!1,this.kJ(w,x))}B7(){this.rp&&(this.ZK=!0,this.kJ(this.$,this.W))}EP(){return this.jr?this.Vy:this.O()}oG(){return this.jr?this.Uy:this.P()}bV(w,x){const z=this.tg;if(0!==z[0]||0!==z[1]||z[2]!==w||z[3]!==x)this.Wc().e4(w,x),b.set(z,0,0,w,x),this.zc=0}Ws(w){e.Dk(this.FD,w)||(this.Wc().b4(w),e.Aa(this.FD,w),this.zc=0)}BR(){let w,x;var z=this.Xd;null===z||z.Ix&&this.jr?(w=this.UJ,x=this.EP(),z=this.oG()):(w=z.zr,x=z.O(),z=z.P());this.Ws(w);this.bV(x,
z)}Ss(w){e.Dk(this.GL,w)||(this.Wc().Y3(w),e.Aa(this.GL,w),this.zc=0)}Wc(){const w=this.bx;this.wo===w.length&&w.push(new d.ka.J9(this.Nc));return w[this.wo++]}qj(){0===this.wo||this.Xp()||(this.Hga(),this.eba(),this.zc=this.QD=this.mf=this.aj=this.wo=0)}Hga(){const w=this.ga;0<this.QD&&(w.bindBuffer(w.ARRAY_BUFFER,this.PD),w.bufferSubData(w.ARRAY_BUFFER,0,this.qX.subarray(0,this.QD)));0<this.aj&&(w.bindBuffer(w.ARRAY_BUFFER,this.zE),w.bufferSubData(w.ARRAY_BUFFER,0,this.Ty.subarray(0,this.aj)),w.bindBuffer(w.ARRAY_BUFFER,
this.lE),w.bufferSubData(w.ARRAY_BUFFER,0,this.Mr.subarray(0,this.mf)))}eba(){const w=this.bx;for(let x=0,z=this.wo;x<z;++x)w[x].za()}vf(){return this.Vx.bb}gg(w,x,z,D){const G=this.Vx;G.az(w,x,z,D)||(G.Dp(w,x,z,D),this.Wc().EG(G),this.zc=0,this.$j=null)}Dj(w){const x=this.Vx;x.bb!==w&&(x.bi(w),this.Wc().EG(x),this.zc=0,this.$j=null)}ri(w){const x=this.Vx;x.hd(w)||(x.set(w),this.Wc().EG(x),this.zc=0,this.$j=null)}Ms(){this.gg(1,1,1,1)}hg(w){w!==this.gn&&(this.Wc().d4(w),this.gn=w,this.zc=0)}dJ(){this.gn=
null}fg(w){w=this.vba(w);this.jJ(w[0],w[1])}jJ(w,x){if(w!==this.rL||x!==this.oL)this.Wc().W3(w,x),this.rL=w,this.oL=x,this.zc=0,this.$j=null}yH(){this.jJ(this.ga.ONE,this.ga.ONE_MINUS_SRC_ALPHA)}zR(){this.jJ(this.ga.ONE,this.ga.ZERO)}Rect(w){this.aR(w.U,w.S,w.ba,w.aa)}aR(w,x,z,D){this.M6(w,x,z,x,z,D,w,D)}zw(){let w=this.aj;w>=this.PW&&(this.qj(),w=0);1===this.zc?this.bx[this.wo-1].$q+=6:(this.Wc().V3(w),this.zc=1)}AJ(w){w.nka(this.Ty,this.aj,this.ax+this.nx);this.aj+=12}Bd(w){this.zw();this.AJ(w);
k.ci(this.Mr,this.mf);this.mf+=8}M6(w,x,z,D,G,N,B,H){this.zw();const I=this.Ty;let K=this.aj;const Q=this.ax+this.nx;I[K++]=w;I[K++]=x;I[K++]=Q;I[K++]=z;I[K++]=D;I[K++]=Q;I[K++]=G;I[K++]=N;I[K++]=Q;I[K++]=B;I[K++]=H;I[K++]=Q;this.aj=K;k.ci(this.Mr,this.mf);this.mf+=8}eo(w,x){this.zw();this.AJ(w);x.mka(this.Mr,this.mf);this.mf+=8}N6(w,x){this.zw();this.AJ(w);x.ci(this.Mr,this.mf);this.mf+=8}SA(w,x,z,D,G,N,B,H,I,K,Q,R,U){this.zw();const Z=this.Ty;let ca=this.aj;const Y=this.ax+this.nx;Z[ca++]=w;Z[ca++]=
x;Z[ca++]=Y+z;Z[ca++]=D;Z[ca++]=G;Z[ca++]=Y+N;Z[ca++]=B;Z[ca++]=H;Z[ca++]=Y+I;Z[ca++]=K;Z[ca++]=Q;Z[ca++]=Y+R;this.aj=ca;U.ci(this.Mr,this.mf);this.mf+=8}x1(w,x){e.Aa(g,this.FD);e.Aa(l,this.GL);this.BR();if(this.jr){w=this.cv(0,0,100*self.devicePixelRatio,0,0);this.Ss(w);w=this.Vy/2;var z=this.Uy/2;q.set(-w,z,-w+this.Vy,z-this.Uy);m.ij(q);q.set(0,0,this.Vy/this.$,this.Uy/this.W);this.eo(m,q)}else{const [N,B]=this.DP(this.Xd);z=this.cv(0,0,100*self.devicePixelRatio,0,0,B);this.Ss(z);if("crop"===w&&
this.Xd&&x){w=this.$/2;z=this.W/2;const H=x.O();x=x.P();var D=this.Xd.O(),G=this.Xd.P();D=Math.min(D,H);const I=Math.min(G,x),K=Math.max(x-G,0);G=Math.max(G-x,0);q.set(-w,z-G,-w+D,z-I-G);m.ij(q);q.set(0,K,D,I+K);q.Xl(H,x);this.eo(m,q)}else w=N/2,z=B/2,this.aR(-w,z,w,-z)}this.Ws(g);this.Ss(l)}po(w){this.nr!==w&&(this.Wc().Z3(w),this.nr=w,this.zc=0,this.$j=null)}L7(){this.po(this.gp)}Vs(w,x,z,D,G,N,B,H,I,K,Q){const R=this.nr;var U=R.iW;const Z=!!Q.length;if(U&&!R.UZ(x,z,D,G,N,B,H,I,K)||Z&&!R.TZ(Q)){var ca=
this.Wc();ca.a4();U&&(R.i8(x,z,D,G,N,B,H,I,K),U=ca.gf,U[0]=N,U[1]=B,x.ci(U,2),U[6]=H,U[7]=I,z.ci(U,12),x=ca.Nq,G.ci(x,0),G=x[1],x[1]=x[3],x[3]=G,D.ci(ca.SX,0),ca.Uh=K,ca.Nf=R.Cu.ma?w?w.ue():null:null);Z&&(R.J7(Q),d.jd(ca.ZD,Q));this.zc=0}}Ez(){this.Wc().M3();this.zc=0}Vc(w){this.Wc().L3(w);this.zc=0}vF(w){this.s_(w.U,w.S,w.width(),w.height())}s_(w,x,z,D){0>z||0>D||(this.Wc().K3(w,x,z,D),this.zc=0)}ow(){}pv(){super.pv();this.ga.flush()}o_(){this.rp&&this.Xd&&this.Xd.Hf&&(this.Wc().J3(),this.zc=0)}mo(w){w=
!!w;this.aL!==w&&this.rp&&(this.aL=w,this.Wc().X3(w),this.zc=0)}m_(){for(const w of this.VB)w.n_(this.Ji)}Xp(){return!this.ga||this.ga.isContextLost()||this.dL}zm(){super.D5();d.ka.hB.zm();d.ka.fI.zm();d.ka.pH.zm();for(const w of this.VB)w.Vc();this.Xw=this.ZL=this.ee=null;this.IL=0;this.Py="(unavailable)";this.Rq=this.gp=this.nr=null;for(const w of this.Ey.values())w.zm()}async fH(){this.dL=!0;await this.CA();this.dL=!1;for(const w of this.Ey.values())w.fH(this);this.Gc(this.$,this.W,!0)}Hz(w,x){if(this.Xp())throw Error("context lost");
this.qj();const z=d.F(d.ka.hB,this);z.caa(w,x);return z}Iz(w,x){if(this.Xp())return Promise.reject("context lost");x=Object.assign({},x);const z=x.eF&&"clamp-to-edge"!==x.eF||x.fF&&"clamp-to-edge"!==x.fF;if(!d.cc.ImageBitmapOptions||!this.uq()&&z)return d.cc.ImageBitmap?createImageBitmap(w).then(D=>d.am(()=>this.Hz(D,x))):w instanceof Blob?d.mO(w,!0).then(D=>this.Iz(D,x)):"undefined"!==typeof HTMLImageElement&&w instanceof HTMLImageElement&&"function"===typeof w.decode?w.decode().then(()=>d.am(()=>
this.Hz(w,x))):d.am(()=>this.Hz(w,x));x.premultiplyAlpha=!1;return createImageBitmap(w,{premultiplyAlpha:"premultiply"}).then(D=>d.am(()=>this.Hz(D,x)))}IO(w,x,z){this.qj();const D=d.F(d.ka.hB,this);D.M$(w,x,z);return D}B9(w,x){this.qj();x.jV(w,void 0)}Fk(w){w&&(w.g9(),0<w.fd||(this.qj(),w===this.gn&&(this.ga.bindTexture(this.ga.TEXTURE_2D,null),this.gn=null),w===this.Po&&(this.ga.activeTexture(this.ga.TEXTURE1),this.ga.bindTexture(this.ga.TEXTURE_2D,null),this.ga.activeTexture(this.ga.TEXTURE0),
this.Po=null),w.wI()))}P_(w){let x=this.$,z=this.W,D=!0;w&&("number"===typeof w.width&&(x=w.width,D=!1),"number"===typeof w.height&&(z=w.height,D=!1));if(0>=x||0>=z)throw Error("invalid size");this.qj();const G=d.F(d.ka.fI,this);G.J$(x,z,Object.assign({JY:D},w));this.Xd=null;this.Nc.vp=null;return G}Af(w){w!==this.Xd&&(w&&w.Ix&&w.AU(this.$,this.W),this.Wc().c4(w),this.Xd=w,this.zc=0,this.BR())}Dv(){return this.Xd}DP(w){return w?[w.O(),w.P()]:[this.$,this.W]}xF(w){2>this.fe||this.Xd&&0<this.Xd.kn?
(this.zR(),this.Ms(),this.hv(w,"stretch")):(this.Wc().H3(w,this.Xd),this.zc=0)}hv(w,x="stretch"){w=w.ue();if(!w)throw Error("not a texture-backed render target");this.hg(w);this.x1(x,w)}Vp(w){2>this.fe||(this.Wc().R3(w.hk),this.zc=0)}c0(w){this.Af(null);this.qj();const x=w.ue();x===this.gn&&(this.ga.bindTexture(this.ga.TEXTURE_2D,null),this.gn=null);x===this.Po&&(this.ga.activeTexture(this.ga.TEXTURE1),this.ga.bindTexture(this.ga.TEXTURE_2D,null),this.ga.activeTexture(this.ga.TEXTURE0),this.Po=null);
w.wI()}async R6(w){this.qj();const x=this.Xd;if(w){var z=w.O();var D=w.P();w=w.hk}else z=this.O(),D=this.P(),w=null;const G=this.ga;G.bindFramebuffer(G.FRAMEBUFFER,w);w=new ImageData(z,D);G.readPixels(0,0,z,D,G.RGBA,G.UNSIGNED_BYTE,new Uint8Array(w.data.buffer));(()=>{G.bindFramebuffer(G.FRAMEBUFFER,null);this.Xd=null;this.Nc.vp=null;this.Af(x)})();return w}FO(){this.mo(!0);this.Wc().P3();this.zc=0}EO(){this.mo(!1);this.Wc().O3();this.zc=0}DO(){this.mo(!0);this.Wc().N3();this.zc=0}$H(w){this.cl()&&
(this.Wc().g4(w),this.zc=0)}IF(w){this.cl()&&(this.Wc().Q3(w),this.zc=0)}Cga(w){const x=new Promise(z=>p.add({resolve:z,via:w}));-1===u&&(u=self.requestAnimationFrame(t));return x}t4(){return!!this.yV.desynchronized}P1(){let w=0;for(const x of d.ka.hB.kia())w+=x.WF();return w}uq(){return 2<=this.fe}cl(){return!!this.ee}d$(w){this.VB.add(w)}tea(w){this.VB.delete(w)}Yba(w){this.Xba([["normal",w.ONE,w.ONE_MINUS_SRC_ALPHA],["additive",w.ONE,w.ONE],["xor",w.ONE,w.ONE_MINUS_SRC_ALPHA],["copy",w.ONE,w.ZERO],
["destination-over",w.ONE_MINUS_DST_ALPHA,w.ONE],["source-in",w.DST_ALPHA,w.ZERO],["destination-in",w.ZERO,w.SRC_ALPHA],["source-out",w.ONE_MINUS_DST_ALPHA,w.ZERO],["destination-out",w.ZERO,w.ONE_MINUS_SRC_ALPHA],["source-atop",w.DST_ALPHA,w.ONE_MINUS_SRC_ALPHA],["destination-atop",w.ONE_MINUS_DST_ALPHA,w.SRC_ALPHA]])}}}
{"use strict";let d=null;const a=new Set;let b=!1;self.u3=class{constructor(e){d=e;Object.defineProperties(this,{Yia:{value:{},writable:!1},storage:{value:new self.y3(d),writable:!1},Wxa:{value:d.ff,writable:!1}});d.Ne.addEventListener("keydown",c=>{a.has(c.key)?c.stopPropagation():a.add(c.key)});d.Ne.addEventListener("keyup",c=>a.delete(c.key));d.Fb().addEventListener("window-blur",()=>a.clear());d.ff&&(self.alert=c=>{b||(b=!0,console.warn("[Construct 3] alert() was called from a Web Worker, because the project 'Use worker' setting is enabled. This method is not normally available in a Web Worker. Construct has implemented the alert for you, but note that other features may be missing in worker mode. You may wish to disable 'Use worker', or use a more convenient function like console.log(). For more information please refer to the scripting section of the manual."));
return this.alert(c)})}aca(e){Object.defineProperties(this.Yia,e)}addEventListener(e,c){d.Ne.addEventListener(e,c)}removeEventListener(e,c){d.Ne.removeEventListener(e,c)}get CY(){return d.Gk()}get Cxa(){return d.mh()}random(){return d.Bm()}get fh(){return d.Nb().Ax}get keyboard(){const e=d.xt.keyboard;if(!e)throw Error("runtime.keyboard used but Keyboard object missing - add it to your project first");return e}get BN(){const e=d.xt.BN;if(!e)throw Error("runtime.mouse used but Mouse object missing - add it to your project first");
return e}get cO(){const e=d.xt.cO;if(!e)throw Error("runtime.touch used but Touch object missing - add it to your project first");return e}alert(e){return d.gq("runtime","alert",{message:e+(d.ff?" [via Web Worker]":"")})}}}"use strict";self.l3=class{constructor(){}};{"use strict";const d=self.Eg;self.y3=class{constructor(a){this.Fy=a.Jba()}getItem(a){d.le(a);return this.Fy.getItem(a)}setItem(a,b){d.le(a);return this.Fy.setItem(a,b)}removeItem(a){d.le(a);return this.Fy.removeItem(a)}clear(){return this.Fy.clear()}keys(){return this.Fy.keys()}}}
{"use strict";const d=self.Eg,a=new WeakMap;self.Nv=class{constructor(b){a.set(this,b);Object.defineProperties(this,{name:{value:b.Ha(),writable:!1}});b.N().$T(this,b)}addEventListener(b,e){d.le(b);d.Zk(e);a.get(this).Ne.addEventListener(b,e)}removeEventListener(b,e){d.le(b);d.Zk(e);a.get(this).Ne.removeEventListener(b,e)}*IY(){for(const b of a.get(this).qa())yield b.ji()}jN(b){d.Lg(void 0);d.Lg(void 0);if("number"!==typeof b&&"string"!==typeof b)throw new TypeError("invalid layer parameter");var e=
a.get(this),c=e.N();b=c.Nb().ca(b);if(!b)throw Error("invalid layer");e=c.zF(e,b,void 0,void 0,void 0);c=c.ta();c.qf(!0);e.QB();c.qf(!1);return e.ji()}}}
{"use strict";const d=self.Eg,a=new WeakMap;self.q3=class{constructor(b){a.set(this,b);const e=[],c=b.Ya,f=c.ih().length;for(let k=0;k<f;++k)e.push(new self.DG(c,k));Object.defineProperties(this,{name:{value:b.Ha(),writable:!1},index:{value:b.Ka(),writable:!1},DY:{value:e,writable:!1}})}addEventListener(b,e){d.le(b);d.Zk(e);a.get(this).Ne.addEventListener(b,e)}removeEventListener(b,e){d.le(b);d.Zk(e);a.get(this).Ne.removeEventListener(b,e)}get width(){return a.get(this).O()}set width(b){a.get(this).xe(b)}get height(){return a.get(this).P()}set height(b){a.get(this).Ve(b)}set scale(b){d.Kg(b);
a.get(this).sq(b)}get scale(){return a.get(this).ic}set angle(b){d.Kg(b);a.get(this).tc(b)}get angle(){return a.get(this).Y()}set scrollX(b){d.Lg(b);a.get(this).Ej(b)}get scrollX(){return a.get(this).Gg()}set scrollY(b){d.Lg(b);a.get(this).Fj(b)}get scrollY(){return a.get(this).Hg()}scrollTo(b,e){d.Lg(b);d.Lg(e);const c=a.get(this);c.Ej(b);c.Fj(e)}set YY(b){d.le(b);const e=a.get(this);if("perspective"===b)e.VR();else if("orthographic"===b)e.SR();else throw Error("invalid projection");}get YY(){return a.get(this).mg?
"orthographic":"perspective"}}}
{"use strict";const d=self.C,a=self.Eg,b=new WeakMap;[...(new Map([["normal",0],["additive",1],["copy",3],["destination-over",4],["source-in",5],["destination-in",6],["source-out",7],["destination-out",8],["source-atop",9],["destination-atop",10]])).entries()].map(c=>[c[1],c[0]]);const e=d.F(d.jb);self.p3=class{constructor(c){b.set(this,c);const f=[],k=c.Ya,g=k.ih().length;for(let l=0;l<g;++l)f.push(new self.DG(k,l));Object.defineProperties(this,{name:{value:c.Ha(),writable:!1},index:{value:c.Ka(),
writable:!1},fh:{value:c.sc().Ax,writable:!1},DY:{value:f,writable:!1}})}get isVisible(){return b.get(this).kd()}set isVisible(c){b.get(this).Ng(c)}get opacity(){return b.get(this).vf()}set opacity(c){c=d.ja(+c,0,1);isNaN(c)||b.get(this).Dj(c)}set scale(c){a.Kg(c);b.get(this).TR(c)}get scale(){return b.get(this).ic}set angle(c){a.Kg(c);b.get(this).tc(c)}get angle(){return b.get(this).bf}set vz(c){a.Kg(c);b.get(this).We(c)}get vz(){return b.get(this).Va()}set backgroundColor(c){a.sH(c);if(3>c.length)throw Error("expected 3 elements");
e.Tu(c[0],c[1],c[2]);c=b.get(this);const f=c.Rm;f.In(e)||(f.Wl(e),c.N().Z())}get backgroundColor(){const c=b.get(this).Rm;return[c.ib,c.Ma,c.fb]}set scrollX(c){a.Lg(c);const f=b.get(this);f.ew(!0);f.Ej(c)}get scrollX(){return b.get(this).Gg()}set scrollY(c){a.Lg(c);const f=b.get(this);f.ew(!0);f.Fj(c)}get scrollY(){return b.get(this).Hg()}scrollTo(c,f){a.Lg(c);a.Lg(f);const k=b.get(this);k.ew(!0);k.Ej(c);k.Fj(f)}}}
{"use strict";const d=self.C,a=self.Eg,b=new WeakMap,e=new WeakMap;function c(k){let g=e.get(k);if(g)return g;g=d.F(d.Event.Fb);e.set(k,g);return g}let f=null;self.zs=class{constructor(){b.set(this,f);const k={Uc:{value:f.N().lk,writable:!1},FN:{value:f.M().Bx,writable:!1},uid:{value:f.ub,writable:!1}};f.Bba(k);f.uba(k);Object.defineProperties(this,k);f.N().$T(this,f)}static Mj(k){f=k}static Jm(){return f}Nw(){const k=e.get(this);k&&(k.A(),e.delete(this));b.delete(this)}addEventListener(k,g,l){a.le(k);
a.Zk(g);c(this).addEventListener(k,g,l)}removeEventListener(k,g,l){a.le(k);a.Zk(g);c(this).removeEventListener(k,g,l)}dispatchEvent(k){c(this).dispatchEvent(k)}}}
{"use strict";const d=self.C,a=self.Eg,b=self.zs,e=new WeakMap;[...(new Map([["normal",0],["additive",1],["copy",3],["destination-over",4],["source-in",5],["destination-in",6],["source-out",7],["destination-out",8],["source-atop",9],["destination-atop",10]])).entries()].map(c=>[c[1],c[0]]);d.F(d.jb);self.Ov=class c extends b{constructor(){super();var f=b.Jm();e.set(this,f);const k=[];var g=f.B();if(f=g.df){g=g.M().Ya.ih().length;for(let l=0;l<g;++l)k.push(new self.DG(f,l))}Object.defineProperties(this,
{DY:{value:k,writable:!1}})}get fh(){return e.get(this).B().sc().Ax}get se(){return e.get(this).B().ca().lha}get x(){return e.get(this).B().K()}set x(f){f=+f;const k=e.get(this).B();isNaN(f)||k.K()===f||(k.ye(f),k.ua())}get y(){return e.get(this).B().L()}set y(f){f=+f;const k=e.get(this).B();isNaN(f)||k.L()===f||(k.Ae(f),k.ua())}get vz(){return e.get(this).B().Va()}set vz(f){f=+f;const k=e.get(this),g=k.B();isNaN(f)||g.Va()===f||(g.We(f),k.N().Z())}get width(){return e.get(this).B().O()}set width(f){f=
+f;const k=e.get(this).B();isNaN(f)||k.O()===f||(k.xe(f),k.ua())}get height(){return e.get(this).B().P()}set height(f){f=+f;const k=e.get(this).B();isNaN(f)||k.P()===f||(k.Ve(f),k.ua())}get angle(){return e.get(this).B().Y()}set angle(f){f=d.Tc(+f);const k=e.get(this).B();isNaN(f)||k.Y()===f||(k.tc(f),k.ua())}rN(){e.get(this).B().Kc().cka()}get isVisible(){return e.get(this).B().kd()}set isVisible(f){f=!!f;const k=e.get(this),g=k.B();g.kd()!==f&&(g.Ng(f),k.N().Z())}get opacity(){return e.get(this).B().vf()}set opacity(f){f=
d.ja(+f,0,1);const k=e.get(this),g=k.B();isNaN(f)||g.vf()===f||(g.Dj(f),k.N().Z())}get zIndex(){return e.get(this).B().li()}yg(f,k){a.Lg(f);a.Lg(k);return e.get(this).B().ms(+f,+k)}getParent(){const f=e.get(this).Ja();return f?f.ji():null}*kz(){for(const f of e.get(this).kz())yield f.ji()}*children(){for(const f of e.get(this).children())yield f.ji()}*Vl(){for(const f of e.get(this).Vl())yield f.ji()}removeChild(f){a.tH(f,c);const k=e.get(this);f=e.get(f);k.Yk(f)}}}
{"use strict";const d=new WeakMap;self.koa=class extends self.Ov{constructor(){super();d.set(this,self.zs.Jm())}focus(){d.get(this).ra.XO()}blur(){d.get(this).ra.oO()}}}
{"use strict";const d=self.C,a=self.Eg,b=new WeakMap,e=new WeakMap;function c(k){let g=e.get(k);if(g)return g;g=d.F(d.Event.Fb);e.set(k,g);return g}let f=null;self.AA=class{constructor(){b.set(this,f);const k={Uc:{value:f.N().lk,writable:!1},behavior:{value:f.rf().g2(),writable:!1}};Object.defineProperties(this,k)}static Mj(k){f=k}static Jm(){return f}get instance(){return b.get(this).I.ji()}Nw(){const k=e.get(this);k&&(k.A(),e.delete(this));b.delete(this)}addEventListener(k,g,l){a.le(k);a.Zk(g);
c(this).addEventListener(k,g,l)}removeEventListener(k,g,l){a.le(k);a.Zk(g);c(this).removeEventListener(k,g,l)}dispatchEvent(k){c(this).dispatchEvent(k)}}}{"use strict";const d=new WeakMap;self.VP=class{constructor(a){d.set(this,a);Object.defineProperties(this,{Uc:{value:a.N().lk,writable:!1}})}}}
{"use strict";const d=self.C,a=self.Eg,b=new WeakMap;self.DG=class{constructor(e,c){b.set(this,e);Object.defineProperties(this,{index:{value:c,writable:!1}})}get name(){return b.get(this).ih()[this.index].Ha()}getParameter(e){a.Kg(e);e=Math.floor(+e);const c=b.get(this).kh(this.index);if(0>e||e>=c.length)throw new RangeError("invalid effect parameter index");e=c[e];return e instanceof d.jb?[e.ib,e.Ma,e.fb]:e}}}
{"use strict";const d=self.C,a=new Set(["local","remote"]),b=new Map([["mp4","video/mp4"],["webm","video/webm"],["m4a","audio/mp4"],["mp3","audio/mpeg"],["js","application/javascript"],["wasm","application/wasm"],["svg","image/svg+xml"],["html","text/html"]]);d.YZ=class extends d.oa{constructor(e,c){super();var f=c.exportType;this.j=e;this.CD=new Map;this.du=new Map;this.Dha=new Map;this.$C="cordova"===f;this.nL=!!c.isiOSCordova;this.Jx=!!c.isFileProtocol;this.Zha=c.supportedAudioFormats||{};this.TJ=
new Map;this.tX=!1;this.oW=this.YV=this.aX="";this.pC="html5"===f||"scirra-arcade"===f||"instant-games"===f?"remote":"local";this.JJ=[];this.SJ=new Map;this.ZM=[];this.AD=[];this.jW=!1;this.vD=this.RJ=this.Ny=0;this.LK=!1;this.Cha=d.F(d.Q6,()=>this.gT(),50);this.jM=new d.UQ(Math.max(d.hardwareConcurrency,8));if(e=c.previewImageBlobs){(f=c.previewProjectFileBlobs)&&Object.assign(e,f);(f=c.projectData)&&(e["data.json"]=f);for(const [k,g]of Object.entries(e))this.CD.set(k.toLowerCase(),g)}if(c=c.previewProjectFileSWUrls)for(const [k,
g]of Object.entries(c))this.Dha.set(k,g);new self.l3(this)}A(){this.CD.clear();for(const e of this.du.values())e.startsWith("blob:")&&URL.revokeObjectURL(e);this.du.clear();for(const e of this.JJ)e.A();d.G(this.JJ);this.SJ.clear();d.G(this.AD);this.j=null}N(){return this.j}Ofa(e){this.aX=e}zfa(e){this.YV=e}Efa(e){this.oW=e}zB(e){return this.CD.has(e.toLowerCase())}wB(e){return this.CD.get(e.toLowerCase())||null}fG(e){if(!this.zB(e))return e;e=e.toLowerCase();var c=this.du.get(e);c||(c=this.wB(e),
c=URL.createObjectURL(c),this.du.set(e,c));return c}fm(e,c){c=c||this.pC;const f=this.wB(e);if(f)return Promise.resolve(f);if(d.VG(e)){const k=e.toLowerCase();return this.$C&&this.Jx?this.HO(k):"local"===c?this.jM.Jc(()=>d.fm(k)):d.fm(k)}return d.fm(e)}nv(e){const c=this.wB(e);if(c)return d.c_(c);if(d.VG(e)){const f=e.toLowerCase();return this.$C&&this.Jx?this.GO(f):"local"===this.pC?this.jM.Jc(()=>d.nv(f)):d.nv(f)}return d.nv(e)}ov(e){const c=this.wB(e);if(c)return d.nO(c);if(d.VG(e)){const f=e.toLowerCase();
return this.$C&&this.Jx?this.I_(f):"local"===this.pC?this.jM.Jc(()=>d.ov(f)):d.ov(f)}return d.ov(e)}async VO(e){e=await this.ov(e);return JSON.parse(e)}nI(e,c){return this.j.gq("runtime","cordova-fetch-local-file",{filename:e,as:c})}I_(e){return this.nI(e,"text")}async HO(e){const c=await this.nI(e,"buffer");e?(e=e.split("."),e=2>e.length?"":b.get(e.Pe(-1).toLowerCase())||""):e="";return new Blob([c],{type:e})}async H_(e){e=e.toLowerCase();var c=this.du.get(e);if(c)return c;c=await this.HO(e);c=URL.createObjectURL(c);
this.du.set(e,c);return c}GO(e){return this.nI(e,"buffer")}vP(e){return this.zB(e)?this.fG(e):this.aX+e.toLowerCase()}nA(e,c=""){if(d.HG(e)){if(c)throw Error("cannot specify subfolder with remote URL");return Promise.resolve(e)}return this.zB(e)?Promise.resolve(this.fG(e)):this.$C&&this.Jx?this.H_(c+e):Promise.resolve(c+e.toLowerCase())}NA(e){if(e.hz&&!a.has(e.hz))throw Error("invalid load policy");let c=this.SJ.get(e.url);if(c)return c;c=d.F(d.WP,this,{url:e.url,size:e.size||0,hz:e.hz||this.pC});
this.JJ.push(c);this.SJ.set(c.Pl,c);this.jW||(this.Ny+=c.Vn(),this.AD.push(c.qQ().then(()=>this.zS(c.Vn()))));return c}async rS(){try{await Promise.all(this.AD),this.vD=1}catch(e){console.error("Error loading: ",e),this.LK=!0,this.gT()}}a8(){this.jW=!0}zS(e){this.RJ+=e;this.Cha.uO()}gT(){const e=d.F(d.Event,"loadingprogress");this.vD=d.ja(this.RJ/this.Ny,0,1);e.progress=this.vD;this.j.Fb().dispatchEvent(e)}aga(e){d.jd(this.ZM,e);this.ZM.length&&this.AD.push(this.Rca())}Rca(){if("undefined"===typeof FontFace)return Promise.resolve();
const e=[];for(const [c,f,k]of this.ZM)this.Ny+=k,e.push(this.Qca(c,f).then(()=>this.zS(k)));return Promise.all(e)}async Qca(e,c){try{const f=await this.nA(c,this.YV),k=new FontFace(e,`url('${f}')`);this.j.ff?self.fonts.add(k):document.fonts.add(k);await k.load()}catch(f){console.warn(`[C3 runtime] Failed to load web font '${e}': `,f)}}ZP(e){return!!this.Zha[e]}kfa(e,c){this.tX=!!c;for(const [f,k,g]of e)this.TJ.set(f,{fileName:f,Qia:k.map(l=>({type:l[0],mxa:l[1],FY:f+l[1],fileSize:l[2]})),jja:g})}AP(e){e=
this.TJ.get(e.toLowerCase());if(!e)return null;let c=null;for(const f of e.Qia)if(c||"audio/webm; codecs=opus"!==f.type||(c=f),this.ZP(f.type))return f;return c}nh(e){return(e=this.AP(e))?{url:this.vP(e.FY),type:e.type}:null}C1(){if(this.tX){const e=[];for(const c of this.TJ.values()){if(c.jja)continue;const f=this.AP(c.fileName);f&&e.push({Fja:c.fileName,url:this.vP(f.FY),type:f.type,fileSize:f.fileSize})}return e}return[]}async tQ(e){e=await this.nA(e);return await this.j.gq("runtime","add-stylesheet",
{url:e})}}}
{"use strict";const d=self.C;d.XZ=class extends d.oa{constructor(a,b){super();this.zb=a;this.j=a.N();this.Pl=b.url;this.su=b.size;this.BL=b.hz;this.cx=null;this.gL=!1;this.So=null}A(){this.cx=this.j=this.zb=this.So=null}Vn(){return this.su}qQ(){return"local"===this.BL||this.cx?(this.gL=!0,Promise.resolve()):this.So?this.So:this.So=this.zb.fm(this.Pl,this.BL).then(a=>{this.gL=!0;this.So=null;return this.cx=a}).catch(a=>console.error("Error loading resource: ",a))}TG(){return this.gL}cP(){return this.cx?Promise.resolve(this.cx):
this.So?this.So:this.zb.fm(this.Pl,this.BL)}}}
{"use strict";const d=self.C,a=new d.UQ,b=new Set;d.WP=class extends d.XZ{constructor(e,c){super(e,c);this.Rl=this.Or=null;this.fd=0;this.qW=this.sW=-1;b.add(this)}A(){this.oi();if(0!==this.fd)throw Error("released image asset which still has texture references");this.Or=null;b.delete(this);super.A()}static Is(){for(const e of b)e.Or=null,e.Rl=null,e.fd=0}Fs(e,c){c=c||{};this.fd++;if(this.Rl)return Promise.resolve(this.Rl);if(this.Or)return this.Or;c.qY=this.j.ea.YX;return this.Or=this.cP().then(f=>
a.Jc(()=>e.Iz(f,c).then(k=>{this.Or=null;if(0===this.fd)return e.Fk(k),null;this.Rl=k;this.sW=k.O();this.qW=k.P();return this.Rl}))).catch(f=>{console.error("Failed to load texture: ",f);throw f;})}oi(){if(0>=this.fd)throw Error("texture released too many times");this.fd--;0===this.fd&&this.Rl&&(this.Rl.Hb().Fk(this.Rl),this.Rl=null)}ue(){return this.Rl}O(){return this.sW}P(){return this.qW}async Y4(){const e=await this.cP();return d.cc.ImageBitmapOptions?await createImageBitmap(e,{premultiplyAlpha:"none"}):
d.cc.ImageBitmap?await createImageBitmap(e):await d.mO(e)}}}
{"use strict";const d=self.C;function a(b,e){return b.B().Ul-e.B().Ul}d.b7=class extends d.oa{constructor(b,e,c){super();this.fa=e;this.X=c;this.J=[];this.Ox=!0;this.sk=new Set;this.Fx=!1}A(){d.G(this.J);this.sk.clear()}Wd(){d.G(this.J);this.Ox=!0;this.sk.clear();this.Fx=!1}E7(){this.Ox=!1}Zp(){if(!this.J.length)return!0;if(this.J.length>this.sk.size)return!1;this.II();return!0}FG(b){this.sk.has(b)?(this.sk.delete(b),0===this.sk.size&&(this.Fx=!1)):(this.J.push(b),this.Ox=1===this.J.length)}pi(b){this.sk.add(b);
this.Fx=!0;50<=this.sk.size&&this.II()}II(){this.Fx&&(this.J.length===this.sk.size?this.Wd():(d.ai(this.J,this.sk),this.sk.clear(),this.Fx=!1))}dba(){this.Ox||(this.J.sort(a),this.Ox=!0)}GF(b){this.II();this.dba();this.J.length&&b.push(this.J)}}}
{"use strict";const d=self.C;d.c7=class extends d.oa{constructor(a,b){super();this.eK=a;this.dK=b;this.Vj=d.F(d.Vv)}A(){this.Vj.A();this.Vj=null}Rn(a,b,e){let c=this.Vj.na(a,b);return c?c:e?(c=d.F(d.b7,this,a,b),this.Vj.Set(a,b,c),c):null}Ij(a){return Math.floor(a/this.eK)}Jj(a){return Math.floor(a/this.dK)}Fm(a,b,e){if(b)for(let c=b.U,f=b.ba;c<=f;++c)for(let k=b.S,g=b.aa;k<=g;++k){if(e&&e.yg(c,k))continue;const l=this.Rn(c,k,!1);l&&(l.pi(a),l.Zp()&&this.Vj.Ip(c,k))}if(e)for(let c=e.U,f=e.ba;c<=f;++c)for(let k=
e.S,g=e.aa;k<=g;++k)b&&b.yg(c,k)||this.Rn(c,k,!0).FG(a)}TA(a,b){let e=this.Ij(a.U);const c=this.Jj(a.S),f=this.Ij(a.ba);for(a=this.Jj(a.aa);e<=f;++e)for(let k=c;k<=a;++k){const g=this.Rn(e,k,!1);g&&g.GF(b)}}d5(a){let b=a.U;const e=a.S,c=a.ba;for(a=a.aa;b<=c;++b)for(let f=e;f<=a;++f){const k=this.Rn(b,f,!1);k&&k.E7()}}}}
{"use strict";const d=self.C,a=new d.Rect,b=new d.Bd,e=[],c=new d.Rect,f=new d.Rect,k=self.Zl,g=k.cF,l=k.sz,m=k.zp;m.create();const q=g.create(),r=l.create(),p=g.create(),u=g.create(),t=g.create(),w=d.F(d.pw);function x(B,H){return B.B().Ul-H.B().Ul}function z(B,H){return B.B().Va()-H.B().Va()}const D=[],G=[],N=[];d.YG=class extends d.oa{constructor(B,H,I){super();this.rk=B;this.j=B.N();this.Pa=I[0];this.ab=H;this.cb=I[2];this.sD=!!I[3];this.Rm=d.F(d.jb);this.Rm.Mn(I[4].map(K=>K/255));this.No=!!I[5];
this.Ie=I[6];this.Je=I[7];this.Ua=d.F(d.jb,1,1,1,I[8]);this.RD=d.F(d.jb);this.bL=I[9];this.Uha=I[17];this.dY=I[18];this.dia=I[10];this.wk=I[11];this.Ao=I[12];this.rl=null;this.ic=1;this.ud=I[16];this.Wi=this.Vi=this.bf=0;this.Xm=!1;this.tg=d.F(d.Rect);this.kY=d.F(d.Rect);this.sp=d.F(d.Rect);this.zr=m.create();this.kL=!0;this.eX=m.create();this.hL=!0;this.jY=d.F(d.ka.D9);this.rD=!0;this.UX=[];this.zl=[];this.oC=[];this.vW=new Map;this.J=[];this.Jq=this.cN=!1;this.Ya=d.F(d.dm,this,I[15]);this.qu=null;
this.qL=[];this.jD=!1;this.zha=d.F(d.Rect,0,0,-1,-1);this.aha=d.F(d.Rect,0,0,-1,-1);this.lha=new self.p3(this);this.rV();this.vq()&&(this.qu=d.F(d.c7,this.j.Rh,this.j.Qh));for(const K of I[14])B=this.j.$f(K[1]),this.rk.xS(B),B.Gt||B.AR(K),this.zl.push(K),this.vW.set(K[2],K);d.jd(this.UX,this.zl)}static $a(B,H,I){return d.F(d.YG,B,H,I)}A(){this.j=this.rk=null}j2(B){return this.vW.get(B)}L_(B){const H=this.rk.hr;let I=0;const K=this.zl;for(let R=0,U=K.length;R<U;++R){var Q=K[R];const Z=this.j.$f(Q[1]);
let ca=!0;if(!Z.AG()||H)Q=this.j.oj(Q,this,!0),B.push(Q),Z.uh()&&(ca=!1,this.oC.push(Q.ub));ca&&(K[I]=K[R],++I)}d.Qe(K,I);this.j.te();this.zh()}Bh(B,H){const I=B.B();if(I.ca()!==this)throw Error("instance added to wrong layer");this.J.push(B);0!==I.Va()&&(this.Jq=!0);H&&this.vq()&&B.B().ua();this.zh()}Vca(B){this.J.includes(B)||(this.J.push(B),0!==B.B().Va()&&(this.Jq=!0),this.zh())}Yda(B){const H=B.B();if(H.ca()!==this)throw Error("instance added to wrong layer");this.J.unshift(B);0!==H.Va()&&(this.Jq=
!0);this.zh()}Cq(B,H){const I=this.J.indexOf(B);0>I||(H&&this.vq()&&B.B().xU(),this.J.splice(I,1),this.zh(),this.eU())}OU(){this.Jq=!0}eU(){0===this.J.length&&(this.Jq=!1)}rJ(B){if(B){B=new Set;for(var H of this.J){var I=H.B().Ul;0<=I&&B.add(I)}H=-1;for(const K of this.J)if(I=K.B(),!(0<=I.Ul)){for(++H;B.has(H);)++H;I.NB(H)}}this.J.sort(x)}cba(){for(const B of this.J)B.M().uh()||this.j.Qn(B);this.j.te();d.G(this.J);this.Jq=!1;this.zh()}Wv(B,H,I,K,Q){const R=this.j.ta(),U=this.j.nd,Z=B.gb,ca=[];for(const ka of this.zl){var Y=
ka[0];if(H.yg(Y[0],Y[1])){Y=U[ka[1]];if(Y!==B)if(Z){if(!B.UO(Y))continue}else continue;Y=this;var ha=this.j.Ta();this.sc()!==ha&&((Y=ha.sP(this.Ha()))||(Y=ha.Bv(this.Ka())));ha=this.j.oj(ka,Y,!1,void 0,void 0,!1,Q);Y.WH(ha);Y=ha.B();Y.ym(I,K);Y.ua();R.qf(!0);ha.QB();R.qf(!1);ca.push(ha)}}return ca}sc(){return this.rk}Ha(){return this.Pa}Ka(){return this.ab}N(){return this.j}im(){return this.j.im()}vq(){return this.dia&&!this.dY}o8(){this.jD=!1}kd(){return this.sD}Ng(B){B=!!B;this.sD!==B&&(this.sD=
B,this.j.Z())}ew(B){B=!!B;if(this.Xm!==B){if(this.Xm=B)B=this.sc(),this.Vi=B.Gg(),this.Wi=B.Hg();this.jl();this.j.Z()}}Ej(B){var H=this.sc();const I=H.GP();H=H.HP();B>H&&(B=H);B<I&&(B=I);this.Vi!==B&&(this.Vi=B,this.Xm&&(this.jl(),this.j.Z()))}Fj(B){var H=this.sc();const I=H.IP();H=H.FP();B>H&&(B=H);B<I&&(B=I);this.Wi!==B&&(this.Wi=B,this.Xm&&(this.jl(),this.j.Z()))}Gg(){return this.Xm?this.Vi:this.sc().Gg()}Hg(){return this.Xm?this.Wi:this.sc().Hg()}OI(){const B=this.sc();return[B.vG(),B.wG()]}RP(B,
H){var I=this.kY;if(0===B)H.Aa(I);else{let U=I.fj(),Z=I.gj();var K=this.YO(B);const ca=I.width()/K;I=I.height()/K;const [Y,ha]=this.OI();if(.5!==Y||.5!==ha){const ka=this.Yz();var Q=this.j,R=100/ka;K=(Y-.5)*Q.vg/R;Q=(ha-.5)*Q.ug/R;R=this.Y();0!==R&&(w.set(K,Q),w.rotate(R),K=w.fa,Q=w.X);B=d.bF(ka,0,B);U+=d.Gd(K,0,B);Z+=d.Gd(Q,0,B)}H.set(U-ca/2,Z-I/2,U+ca/2,Z+I/2)}}vf(){return this.Ua.bb}Dj(B){B=d.ja(B,0,1);this.Ua.bb!==B&&(this.Ua.bi(B),this.rV(),this.j.Z())}rV(){this.RD.Aa(this.Ua);this.RD.TE()}jG(){return this.RD}Wn(){return this.Ua.az(1,
1,1,1)}p8(B){this.wk!==B&&(this.wk=B,this.jl(),this.j.Z())}k8(B,H){if(this.Ie!==B||this.Je!==H)if(this.Ie=B,this.Je=H,this.jl(),this.j.Z(),1!==this.Ie||1!==this.Je)for(const I of this.J)I.M().iJ(!0)}We(B){this.ud!==B&&(this.ud=B,this.j.Z())}Va(){return this.ud}tc(B){B=d.Tc(B);this.bf!==B&&(this.bf=B,this.jl(),this.j.Z())}Y(){return d.Tc(this.rk.Y()+this.bf)}e3(){return 0<this.J.length}JI(){return this.qH()&&this.dY?(d.jd(N,this.J),N.sort((B,H)=>this.gga(B,H)),N):this.J}gga(B,H){var I=this.sc().DV,
K=I[0],Q=I[1];I=I[2];var R=B.B();const U=H.B();H=R.K()-K;B=R.L()-Q;R=R.Va()-I;K=U.K()-K;Q=U.L()-Q;I=U.Va()-I;return K*K+Q*Q+I*I-(H*H+B*B+R*R)}E8(B){B=!!B;this.No!==B&&(this.No=B,this.j.Z())}U7(B){B=!!B;this.bL!==B&&(this.bL=B,this.j.Z())}dR(){return!this.N().Fn||!this.Uha}qH(){return!this.dR()}ys(){return this.qH()&&this.sc().rha}fg(B){this.Ao!==B&&(this.Ao=B,this.j.Z())}rj(){return this.Ao}I4(B){return this===B||this.Ie===B.Ie&&this.Je===B.Je&&this.ic===B.ic&&this.wk===B.wk&&this.bf===B.bf&&this.Gg()===
B.Gg()&&this.Hg()===B.Hg()}lea(B){0!==B.size&&0<d.ai(this.J,B)&&(this.eU(),this.zh())}zh(){this.jD=this.cN=!1}Vw(){if(!this.cN){this.J.sort(z);if(this.vq())for(let B=0,H=this.J.length;B<H;++B){const I=this.J[B].B();I.NB(B);this.qu.d5(I.oy)}else for(let B=0,H=this.J.length;B<H;++B)this.J[B].B().NB(B);this.cN=!0}}i5(B,H,I){var K=B.B();H=H.B();if(K.ca()!==this||H.ca()!==this)throw Error("can't arrange Z order unless both objects on this layer");K=K.li();H=H.li();if(K===H+(I?1:-1))return!1;d.ria(this.J,
K);K<H&&H--;I&&H++;H===this.J.length?this.J.push(B):this.J.splice(H,0,B);this.zh();return!0}cda(B,H){const I=[];let K=0,Q=0,R=B.length,U=H.length;for(;K<R&&Q<U;){const Z=B[K],ca=H[Q];Z.B().Ul<ca.B().Ul?(I.push(Z),++K):(I.push(ca),++Q)}for(;K<R;++K)I.push(B[K]);for(;Q<U;++Q)I.push(H[Q]);return I}bda(B){const H=[],I=B.length;for(let K=0;K<I-1;K+=2)H.push(this.cda(B[K],B[K+1]));1===I%2&&H.push(B[I-1]);return H}ada(B){for(;1<B.length;)B=this.bda(B);return B[0]}Lba(){this.Vw();d.G(e);this.qu.TA(this.tg,
e);return e.length?1===e.length?e[0]:this.ada(e):[]}pca(){return!this.et()&&!this.No}cS(){return this.kd()&&0<this.vf()&&(this.e3()||!this.No)}et(){return this.bL||!this.Wn()||0!==this.rj()||this.Ya.Kv()}Dv(){return this.rl}B$(B){if(0===B.length)return!0;if(2<=B.length)return!1;B=B[0].sb;return!B.bo()&&!B.Ry&&!B.iK&&this.Wn()}YO(B){if(this.rk.mg)return 1;{const H=this.Yz();return H/(H-B)}}Yz(){return 100/this.Jk()}jl(){this.rD=this.hL=!0}xB(B){this.hL&&(this.y$(B,this.eX),this.hL=!1);return this.eX}y$(B,
H){const I=this.j;var K=this.sc();const Q=I.pm();var R=I.XL,U=I.YL,Z=(this.Gg()-R)*this.Ie+R,ca=(this.Hg()-U)*this.Je+U;this.j.Dl&&(Z=Math.round(Z),ca=Math.round(ca));if(this.ys())g.Aa(p,K.DV),g.Aa(u,K.Xga),g.Aa(t,K.Yga),K=u[0]-p[0],ca=u[1]-p[1],Z=u[2]-p[2],p[0]=(p[0]-R)*this.Ie+R,p[1]=(p[1]-U)*this.Je+U,p[2]*=Math.max(this.Ie,this.Je),u[0]=p[0]+K,u[1]=p[1]+ca,u[2]=p[2]+Z,g.set(q,Q,Q,1),g.multiply(p,p,q),g.multiply(u,u,q);else{R=(Z+0)*Q;U=(ca+0)*Q;K=K.mg?100:this.Yz();ca=this.Y();const [ha,ka]=this.OI();
if(.5!==ha||.5!==ka){var Y=100/K;Z=(ha-.5)*I.vg*Q/Y;Y=(ka-.5)*I.ug*Q/Y;0!==ca&&(w.set(Z,Y),w.rotate(ca),Z=w.fa,Y=w.X);R+=Z;U+=Y}g.set(p,R,U,K);g.set(u,R,U,K-100);0===ca?g.set(t,0,1,0):g.set(t,Math.sin(ca),Math.cos(ca),0)}B.sO(H,p,u,t,I.ea.Fg());1!==Q&&(g.set(q,Q,Q,1),m.scale(H,H,q))}Sfa(){this.rD=this.kL=!0}yB(B){this.kL&&(this.z$(B),this.kL=!1);return this.zr}z$(B){const H=this.j.ea,[I,K]=this.OI();this.rk.mg?B.g_(this.zr,H.jh(),H.Fg()):.5===I&&.5===K?m.Aa(this.zr,H.qC):B.dv(this.zr,H.jh()/H.Fg(),
I,K)}MB(B){B.Ws(this.yB(B));let H;H=this.xB(B);B.Ss(H)}D6(B){this.MB(B);B.Zv(this.Va())}Se(B,H,I){var K=this.j.ea;const Q=this.et();var R=null;let U=null;if(this.j.NG()&&B.Qv()){const Z=K.tP(this);Z&&(U=Z.nF(),B.$H(U))}Q?(R={hj:this.j.Dd},"low"===K.jk&&(R.width=K.jh(),R.height=K.Fg()),R=this.j.sv(R),B.Af(R),this.No?B.Ez():B.Vc(this.Rm)):(B.Af(H),this.No||I||B.Vc(this.Rm));this.rl=R||H;this.MB(B);B.Zv(this.Va());B.mo(this.qH());this.Jk()>Number.EPSILON&&(this.Vw(),K=this.vq()&&0===this.Va()&&!this.Jq,
this.ys()?this.Saa(B):K?this.Taa(B):this.aT(B,this.JI()));B.Zv(0);B.lo(0);Q&&(B.mo(!1),this.Uaa(B,R,H,I));U&&B.IF(U);this.rl=null}aT(B,H){const I=this.tg,K=this.rl,Q=this.sc().mg,R=this.sc().UP();let U=null;for(let Z=0,ca=H.length;Z<ca;++Z){const Y=H[Z];if(Y===U)continue;U=Y;const ha=Y.B();ha.kd()&&ha.hQ(I,R,Q)&&this.Im(Y,ha,B,K)}}Saa(B){const H=this.rl,I=this.Bw(),K=this.JI();for(let Z=0,ca=K.length;Z<ca;){var Q=K[Z],R=Q.B();if(!R.kd()||!R.Cs(I)){++Z;continue}(!Q.Ks()||0<R.Hf)&&G.push(Q);var U=Q.B().ve();
D.push(Q);let Y=Z+1;for(;Y<ca;++Y){const ha=K[Y],ka=ha.B();if(ka.kd()&&ka.Cs(I)){if(ka.ve()!==U)break;ha.Ks()?(0<ka.Hf&&G.push(ha),D.push(ha)):G.push(ha)}}if(1!==D.length||D[0].yQ()){this.Naa(B,D);for(let ha=0,ka=G.length;ha<ka;++ha)Q=G[ha],R=Q.B(),R.LB(!0),this.Im(Q,R,B,H),R.LB(!1)}else{this.Im(Q,R,B,H);for(let ha=0,ka=G.length;ha<ka;++ha)R=G[ha],R!==Q&&(U=R.B(),U.ca().Im(R,U,B,H))}Z=Y;d.G(D);d.G(G)}}Naa(B,H){const I=this.rl;B.FO();for(let R=0,U=H.length;R<U;++R){var K=H[R],Q=K.B();Q.JB(!0);this.CI(K,
Q,B)}B.EO();for(let R=0,U=H.length;R<U;++R)K=H[R],Q=K.B(),this.Im(K,Q,B,I),Q.JB(!1);B.DO()}Taa(B){var H=this.qu;const I=this.aha,K=this.zha,Q=this.tg;I.set(H.Ij(Q.U),H.Jj(Q.S),H.Ij(Q.ba),H.Jj(Q.aa));this.jD&&I.hd(K)?H=this.qL:(H=this.Lba(),this.jD=!0,K.Aa(I));this.aT(B,H);H!==this.qL&&d.jd(this.qL,H)}Im(B,H,I,K){H.Kv()?this.Qaa(B,H,I,K):this.CI(B,H,I)}CI(B,H,I){H=H.Lr;I.$j!==H&&H.RZ();B.Se(I)}Qaa(B,H,I,K){this.Paa(B,H,I,K)&&this.MB(I)}Paa(B,H,I,K){const Q=H.df.Oj;if(1===Q.length){const R=Q[0],U=R.sb;
if(!U.Iha&&H.Wn()&&!B.bo())return this.Raa(B,H,R,U,I),!1}B=d.oH(I,this.j,B,K,Q,null);I.Zv(this.Va());return B}Raa(B,H,I,K,Q){Q.po(K);Q.fg(H.rj());K.WB&&this.j.Z();let R=0,U=0;if(K.eia){const [Z,ca]=B.bA();R=1/Z;U=1/ca;(K=B.cA())?f.Aa(K):f.set(0,0,0,0)}I=H.df.kh(I.Ka());Q.lo(H.Va());Q.Vs(null,c,f,f,H.Kc(),R,U,this.ic,this.Y(),this.j.mh(),I);B.Se(Q)}Uaa(B,H,I,K){const Q=this.Ya.Oj,R=this.j;if(this.B$(Q)){B.Af(I);if(1===Q.length){var U=Q[0];I=U.sb;B.po(I);f.set(0,0,1,1);U=this.Ya.kh(U.Ka());B.Vs(null,
c,f,f,this.tg,1/R.jh(),1/R.Fg(),this.Jk(),this.Y(),R.mh(),U);I.WB&&R.Z()}else B.vi();K&&0===this.Ao&&this.Wn()&&0===Q.length?B.xF(H):(B.fg(this.Ao),B.ri(this.RD),B.hv(H));B.Vp(H);R.fo(H)}else d.oH(B,R,this,I,Q)}TR(B){this.ic!==B&&(this.ic=B,this.rk.yz(),this.jl(),this.j.Z())}pm(){return this.Jk()*this.j.pm()}jm(){return this.Jk()*this.j.jm()}Jk(){return(this.ic*this.rk.ic-1)*this.wk+1}dI(){var B=this.j.XL,H=this.j.YL,I=(this.Gg()-B)*this.Ie+B,K=(this.Hg()-H)*this.Je+H;B=this.Jk();H=this.j.vg/B;B=
this.j.ug/B;I-=H/2;let Q=K-B/2;this.j.Dl&&(I=Math.round(I),Q=Math.round(Q));K=this.kY;K.set(I,Q,I+H,Q+B);H=this.Y();0!==H&&(a.Aa(K),a.offset(-K.fj(),-K.gj()),b.Vja(a,H),b.rN(a),a.offset(K.fj(),K.gj()),K.Aa(a));H=this.ud;this.RP(H,this.tg);this.ys()?this.i_(H,this.sp):this.sp.Aa(this.tg)}i_(B,H){var I=this.j.ea,K=I.qd;I=I.bd;const [Q,R]=this.Vf(0,0,B),[U,Z]=this.Vf(K,0,B),[ca,Y]=this.Vf(K,I,B),[ha,ka]=this.Vf(0,I,B);B=Math.min(Q,U,ca,ha);K=Math.min(R,Z,Y,ka);I=Math.max(Q,U,ca,ha);let za=Math.max(R,
Z,Y,ka);isFinite(B)||(B=-Infinity);isFinite(K)||(K=-Infinity);isFinite(I)||(I=Infinity);isFinite(za)||(za=Infinity);H.set(B,K,I,za)}Vf(B,H,I=0){return this.E$(B,H,I,this.jm())}E$(B,H,I,K){const Q=this.j;var R=Q.Hb();const U=this.Jk();l.set(r,0,0,Q.vg/U,Q.ug/U);B/=K;H=r[3]-H/K;K=this.yB(R);R=this.xB(R);return d.ka.u9(B,H,I,R,K,r,q)?[q[0],q[1]]:[NaN,NaN]}xO(B,H){const I=this.ic,K=this.wk,Q=this.Ie,R=this.Je,U=this.bf;this.Je=this.Ie=this.wk=this.ic=1;this.bf=0;this.jl();B=this.Vf(B,H);this.ic=I;this.wk=
K;this.Ie=Q;this.Je=R;this.bf=U;this.jl();return B}cq(B,H){return this.XT(B,H,0,this.jm())}Vk(B,H,I=0){return this.XT(B,H,I,this.pm()*this.im())}XT(B,H,I,K){var Q=this.j,R=Q.Hb();const U=this.Jk();l.set(r,0,0,Q.vg/U,Q.ug/U);Q=this.yB(R);R=this.xB(R);return d.ka.F6(B,H,I,R,Q,r,q)?[q[0]*K,(r[3]-q[1])*K]:[NaN,NaN]}Bw(){this.rD&&(this.Bga(),this.rD=!1);return this.jY}Bga(){var B=this.j.Hb();const H=this.yB(B);B=this.xB(B);this.jY.h_(B,H)}wa(){return{s:this.ic,a:this.bf,vl:this.tg.U,vt:this.tg.S,vr:this.tg.ba,
vb:this.tg.aa,v:this.kd(),bc:this.Rm.toJSON(),t:this.No,sx:this.Vi,sy:this.Wi,hosp:this.Xm,px:this.Ie,py:this.Je,c:this.Ua.toJSON(),sr:this.wk,fx:this.Ya.mc(),cg:this.oC}}Ca(B){this.ic=B.s;this.bf=B.a;this.tg.set(B.vl,B.vt,B.vr,B.vb);this.sD=!!B.v;this.Rm.Mn(B.bc);this.No=!!B.t;B.hasOwnProperty("sx")&&(this.Vi=B.sx);B.hasOwnProperty("sy")&&(this.Wi=B.sy);B.hasOwnProperty("hosp")&&(this.Xm=!!B.hosp);this.Ie=B.px;this.Je=B.py;this.Ua.Mn(B.c);this.wk=B.sr;d.jd(this.oC,B.cg);d.jd(this.zl,this.UX);const H=
new Set(this.oC);let I=0;for(let K=0,Q=this.zl.length;K<Q;++K)H.has(this.zl[K][2])||(this.zl[I]=this.zl[K],++I);d.Qe(this.zl,I);this.Ya.ac(B.fx);this.rJ(!1);this.zh()}WH(B){B.B();if(!this.J.includes(B))if(B.dg()){var H=[...B.Vl()];H.push(B);H.sort((K,Q)=>{K=K.B().Hr;Q=Q.B().Hr;return K-Q});for(var I of H)if(I.lc())for(const K of I.ae)H.includes(K)||(B=[...K.Vl()],B.push(K),B.sort((Q,R)=>{Q=Q.B().Hr;R=R.B().Hr;return Q-R}),B&&B.length&&H.splice(H.length,0,...B));for(const K of H)this.Bh(K,!0)}else if(this.Bh(B,
!0),B.lc())for(H of B.ae)if(I=[...H.Vl()],I.push(H),I.sort((K,Q)=>{K=K.B().Hr;Q=Q.B().Hr;return K-Q}),I&&I.length)for(const K of I)this.Bh(K,!0)}}}
{"use strict";const d=self.C,a=self.Dg,b=d.F(d.Rect),e=d.F(d.Rect),c=d.F(d.Rect),f=d.F(d.jb),k=self.Zl.cF,g=[],l=[],m=[],q=[],r=[];let p=null;function u(t,w){p!==t&&(t.D6(w),p=t)}d.nQ=class extends d.oa{constructor(t,w,x){super();this.hb=t;this.j=t.N();this.Pa=x[0];this.Qha=x[1];this.Pha=x[2];this.$=x[1];this.W=x[2];this.qD=!!x[3];this.mg=!!x[4];this.xE=x[5];this.yE=x[6];this.TV=x[7];this.Oc=null;this.cb=x[8];this.ab=w;this.Wi=this.Vi=0;this.ic=1;this.bf=0;this.Rt=new Set;this.Wh=new Set;this.Iy=
new Set;this.At=[];this.RK=[];this.rha=!1;this.DV=k.create();this.Xga=k.create();this.Yga=k.create();this.pc=[];this.SW=new Map;this.TW=new Map;this.Ya=d.F(d.dm,this,x[11]);this.rl=null;this.xr={};this.hr=!0;this.Ax=new self.q3(this);this.Ne=d.F(d.Event.Fb);for(const z of x[9])t=d.YG.$a(this,this.pc.length,z),this.pc.push(t),this.SW.set(t.Ha().toLowerCase(),t),this.TW.set(t.cb,t);for(const z of x[10]){x=this.j.$f(z[1]);if(!x)throw Error("missing nonworld object class");x.Gt||x.AR(z);this.RK.push(z);
this.xS(x)}}A(){for(const t of this.pc)t.A();d.G(this.pc);this.Iy.clear();this.j=this.hb=this.Oc=null}N(){return this.j}Ha(){return this.Pa}Ka(){return this.ab}wP(){let t=this.pc[0].Jk();for(let w=1,x=this.pc.length;w<x;++w){const z=this.pc[w];if(0!==z.Ie||0!==z.Je)t=Math.min(t,z.Jk())}return t}DT(){return.5*this.j.vg/this.wP()}ET(){return.5*this.j.ug/this.wP()}GP(){return this.qD?-Infinity:this.DT()}HP(){return this.qD?Infinity:this.O()-this.DT()}IP(){return this.qD?-Infinity:this.ET()}FP(){return this.qD?
Infinity:this.P()-this.ET()}Ej(t){const w=this.GP(),x=this.HP();t>x&&(t=x);t<w&&(t=w);this.Vi!==t&&(this.Vi=t,this.il(),this.j.Z())}Gg(){return this.Vi}Fj(t){const w=this.IP(),x=this.FP();t>x&&(t=x);t<w&&(t=w);this.Wi!==t&&(this.Wi=t,this.il(),this.j.Z())}Hg(){return this.Wi}yz(){this.Ej(this.Gg());this.Fj(this.Hg());for(const t of this.pc)t.Xm&&(t.Ej(t.Gg()),t.Fj(t.Hg()))}I8(t,w){if(this.xE!==t||this.yE!==w)this.xE=t,this.yE=w,this.y4()&&(this.nt(),this.il(),this.j.Z())}vG(){return this.mg?.5:this.xE}wG(){return this.mg?
.5:this.yE}UP(){const t=this.vG(),w=this.wG();return 0>t||1<t||0>w||1<w}VR(){this.mg&&(this.mg=!1,this.nt(),this.il(),this.j.Z())}SR(){this.mg||(this.mg=!0,this.nt(),this.il(),this.j.Z())}y4(){return!this.mg}sq(t){this.ic!==t&&(this.ic=t,this.il(),this.yz(),this.j.Z())}tc(t){t=d.Tc(t);this.bf!==t&&(this.bf=t,this.il(),this.j.Z())}Y(){return this.bf}O(){return this.$}xe(t){!isFinite(t)||1>t||(this.$=t)}P(){return this.W}Ve(t){!isFinite(t)||1>t||(this.W=t)}ca(t){return"number"===typeof t?this.Bv(t):
this.sP(t.toString())}Bv(t){t=d.ja(Math.floor(t),0,this.pc.length-1);return this.pc[t]}sP(t){return this.SW.get(t.toLowerCase())||null}kA(t){return this.TW.get(t)||null}nt(){for(const t of this.pc)t.Sfa()}il(){for(const t of this.pc)t.jl()}u2(){for(const t of this.pc)if(t.cS()&&t.pca())return f.Wl(t.Rm),f.bi(1),f;f.Dp(0,0,0,0);return f}xT(){return[...this.Rt]}xS(t){if(t.lc())for(const w of t.Hh.nn)this.Rt.add(w);else this.Rt.add(t)}Qba(){return[...this.Wh]}RI(t,w){if(t===this||!w)return Promise.resolve();
t&&(d.G_(this.Wh,t.Wh),t.Wh.clear());t=[];for(const x of this.Rt)this.Wh.has(x)||(t.push(x.eq(w)),this.Wh.add(x));return Promise.all(t)}async vQ(t){if(t.gb)throw Error("cannot load textures for family");var w=this.j.Hb();!w||w.Xp()||this.Wh.has(t)||(this.Wh.add(t),w=t.eq(w),this.c$(w),await w,t.PA(),this.j.Z())}c$(t){this.Iy.add(t);t.then(()=>this.Iy.delete(t)).catch(()=>this.Iy.delete(t))}G9(){return Promise.all([...this.Iy])}g5(t){if(t.gb||0<t.J.length)throw Error("cannot unload textures");this.j.Hb()&&
this.Wh.has(t)&&(this.Wh.delete(t),t.ho())}qga(t,w){if(t!==this&&w)for(const x of this.Wh)x.uh()||t.Rt.has(x)||(x.ho(),this.Wh.delete(x))}Mw(){this.Wh.clear()}async fV(t){const w=this.j,x=this.hb,z=w.ta();this.TV&&(this.Oc=z.kP(this.TV),this.Oc.yJ());x.WU(this);this.$=this.Qha;this.W=this.Pha;this.Vi=w.Rh/2;this.Wi=w.Qh/2;this.yz();this.eda(t);this.T$();this.hr||this.W$();this.JS(this.At);this.U$();x.r_();w.te();const D=this.j.Iga;await Promise.all(D);d.G(D);if(!w.Cl){for(const G of this.At)G.N8();
for(const G of this.At)G.hV()}d.G(this.At);await Promise.all([...this.Rt].map(G=>G.jH(this.j.Hb())));t&&(w.Fb().dispatchEvent(new d.Event("beforefirstlayoutstart")),await w.Jp(new d.Event("beforeprojectstart")));await this.Jp(new d.Event("beforelayoutstart"));w.Cl||await w.Cd(d.D.ob.H.JQ,null,null);await this.Jp(new d.Event("afterlayoutstart"));t&&(w.Fb().dispatchEvent(new d.Event("afterfirstlayoutstart")),await w.Jp(new d.Event("afterprojectstart")));z.Kea(x);await this.G9();this.nt();this.il();
this.hr=!1}eda(t){for(const x of this.j.nd)if(!x.gb&&x.ng)for(const z of x.qa()){const D=z.B();var w=D.ca();w=d.ja(w.Ka(),0,this.pc.length-1);w=this.pc[w];D.Pw(w);w.Vca(z)}if(!t)for(const x of this.pc)x.rJ(!1)}T$(){for(const t of this.pc)t.L_(this.At),t.dI()}W$(){let t=!1;for(const [x,z]of Object.entries(this.xr)){const D=this.j.lA(parseInt(x,10));if(D&&!D.gb&&D.AG()){for(const G of z){var w=null;if(D.ng&&(w=this.kA(G.w.l),!w))continue;w=this.j.oj(D,w,!1,0,0,!0);w.ac(G);t=!0;this.At.push(w)}d.G(z)}}for(const x of this.pc)x.rJ(!0),
x.zh();t&&(this.j.te(),this.j.sU())}JS(t){for(const x of t){if(!x.lc())continue;const z=x.B(),D=x.Mp();for(const G of x.M().Hh.nn)if(G!==x.M()){var w=G.qa();w.length>D?x.ft(w[D]):(w=z?this.j.oj(G,z.ca(),!0,z.K(),z.L(),!0):this.j.oj(G,null,!0,0,0,!0),this.j.te(),G.RB(),x.ft(w),t.push(w))}}}U$(){for(const t of this.RK)this.j.$f(t[1]).lc()||this.j.oj(t,null,!0)}R$(){const t=[],w=this.RK;let x=0;for(let z=0,D=w.length;z<D;++z){const G=w[z],N=this.j.$f(G[1]);N.uh()?N.lc()&&N.Hh.Z2()||t.push(this.j.oj(G,
null,!0)):(w[x]=G,++x)}d.Qe(w,x);this.j.te();this.JS(t)}Wv(t,w,x,z,D,G){if(x)return x.Wv(t,w,z,D,G);x=[];for(const N of this.pc)x.push(N.Wv(t,w,z,D,G));return x.flat()}async iga(){const t=this.hb;this.j.Cl||await this.j.Cd(d.D.ob.H.R5,null,null);t.MR(!0);this.j.ta().Bz();this.hr||this.Uea();for(const w of this.pc)w.cba();for(const w of this.j.nd)if(!(w.uh()||w.ng||w.Sb().Lo||w.gb)){for(const x of w.qa())this.j.Qn(x);this.j.te()}t.MR(!1);t.Nb()===this&&t.WU(null)}Sea(t){const w=t.M().cb.toString();
this.xr.hasOwnProperty(w)||(this.xr[w]=[]);this.xr[w].push(t.mc())}Uea(){for(const t of this.pc){t.Vw();for(const w of t.J){const x=w.M();!x.uh()&&x.AG()&&this.Sea(w)}}}j7(){this.xr={};this.hr=!0}Dv(){return this.rl}et(){return"low"===this.j.ea.jk||this.j.VM||"low-latency"===this.j.zt||this.Ya.Kv()||this.j.Hb().Qv()&&this.j.Fn}C$(t){return 0===t.length?!0:2<=t.length?!1:!t[0].sb.bo()}Se(t){var w=this.j.ea;const x=this.et();var z=null;x?("low-latency"!==this.j.zt&&(t.Af(null),t.Ez()),z={hj:this.j.Dd,
xN:this.j.VM||this.Ya.Kv()},"low"===w.jk&&(z.width=w.jh(),z.height=w.Fg()),z=this.j.sv(z),t.Af(z)):t.Af(null);t.Vc(this.u2());this.j.Fn&&t.o_();this.rl=z;for(var D of this.pc)D.dI(),D.cS()&&g.push(D);for(let G=0,N=g.length;G<N;){w=g[G];if(w.ys()&&!w.et()){l.push(w);for(D=G+1;D<N;++D){const B=g[D];if(B.ys()&&!B.et())l.push(g[D]);else break}if(2<=l.length){this.Laa(t,z,l);G+=l.length;d.G(l);continue}d.G(l)}w.Se(t,z,0===G);++G}d.G(g);x&&(t.mo(!1),this.Vaa(t,z));this.rl=null}Vaa(t,w){const x=this.Ya.Oj,
z=this.j;if(this.C$(x)){t.Af(null);if(1===x.length){var D=x[0];const G=D.sb;t.po(G);e.set(0,0,1,1);c.set(0,0,z.vg,z.ug);D=this.Ya.kh(D.Ka());t.Vs(null,b,e,e,c,1/z.jh(),1/z.Fg(),this.ic,this.Y(),z.mh(),D);G.WB&&z.Z()}else t.vi();0===x.length?t.xF(w):(t.yH(),t.Ms(),t.hv(w));t.Vp(w);z.fo(w)}else d.oH(t,z,this,null,x)}Laa(t,w,x){var z=this.j.ea;t.mo(!0);for(var D of x)D.Vw(),d.Gn(m,D.JI());D=x[0];x=null;this.j.NG()&&t.Qv()&&(z=z.tP(D))&&(x=z.nF(),t.$H(x));for(let H=0,I=m.length;H<I;){D=m[H];var G=D.B(),
N=G.ca();if(G.kd()&&G.Cs(N.Bw())){(!D.Ks()||0<G.Hf)&&r.push(D);var B=D.B().ve();q.push(D);for(z=H+1;z<I;++z){const K=m[z],Q=K.B();if(Q.kd()&&Q.Cs(Q.ca().Bw())){if(Q.ve()!==B)break;K.Ks()?(0<Q.Hf&&r.push(K),q.push(K)):r.push(K)}}if(1!==q.length||q[0].yQ()){this.Maa(t,w,q);for(let K=0,Q=r.length;K<Q;++K)D=r[K],G=D.B(),N=G.ca(),G.LB(!0),u(N,t),N.Im(D,G,t,w),G.LB(!1)}else{u(N,t);N.Im(D,G,t,w);for(let K=0,Q=r.length;K<Q;++K)G=r[K],G!==D&&(N=G.B(),B=N.ca(),u(B,t),B.Im(G,N,t,w))}H=z;d.G(q);d.G(r)}else++H}x&&
t.IF(x);d.G(m);p=null}Maa(t,w,x){t.FO();for(let N=0,B=x.length;N<B;++N){var z=x[N],D=z.B(),G=D.ca();D.JB(!0);u(G,t);G.CI(z,D,t)}t.EO();for(let N=0,B=x.length;N<B;++N)z=x[N],D=z.B(),G=D.ca(),u(G,t),G.Im(z,D,t,w),D.JB(!1);t.DO()}wa(){const t={sx:this.Gg(),sy:this.Hg(),s:this.ic,a:this.Y(),w:this.O(),h:this.P(),ortho:this.mg,vpX:this.vG(),vpY:this.wG(),fv:this.hr,persist:this.xr,fx:this.Ya.mc(),layers:{}};for(const w of this.pc)t.layers[w.cb.toString()]=w.wa();return t}Ca(t){this.Vi=t.sx;this.Wi=t.sy;
this.ic=t.s;this.bf=t.a;this.$=t.w;this.W=t.h;this.mg=!!t.ortho;t.hasOwnProperty("vpX")&&(this.xE=t.vpX);t.hasOwnProperty("vpY")&&(this.yE=t.vpY);this.hr=!!t.fv;this.xr=t.persist;this.Ya.ac(t.fx);for(const [w,x]of Object.entries(t.layers))(t=this.kA(parseInt(w,10)))&&t.Ca(x);this.nt();this.il()}ei(t){t.fh=this.Ax;var w=this.j;(w=w.Bb&&!w.ta().FA())&&a.ZH();this.Ne.dispatchEvent(t);w&&a.mF()}Jp(t){t.fh=this.Ax;return this.Ne.mN(t)}}}
{"use strict";const d=self.C;d.N4=class extends d.oa{constructor(a){super();this.j=a;this.Qj=[];this.yL=new Map;this.zL=new Map;this.ay=null;this.nM=[];this.FC=null;this.cD=0;this.hy=null}A(){this.hy=this.FC=this.ay=this.j=null;d.G(this.Qj);this.yL.clear();this.zL.clear();d.G(this.nM)}$a(a){a=d.F(d.nQ,this,this.Qj.length,a);this.Qj.push(a);this.yL.set(a.Ha().toLowerCase(),a);this.zL.set(a.cb,a)}N(){return this.j}R7(a){this.FC=a}b2(){if(this.FC)return this.FC;if(this.Qj.length)return this.Qj[0];throw Error("no first layout");
}ss(a){return this.yL.get(a.toLowerCase())||null}eG(a){return this.zL.get(a)||null}v2(a){a=d.ja(Math.floor(a),0,this.Qj.length-1);return this.Qj[a]}sc(a){return"number"===typeof a?this.v2(a):this.ss(a.toString())}WU(a){this.ay=a}Nb(){return this.ay}*pz(){this.ay&&(yield this.ay);this.nM.length&&(yield*this.nM)}MR(a){if(a)this.cD++;else{if(0>=this.cD)throw Error("already unset");this.cD--}}eQ(){return 0<this.cD}Az(a){this.hy=a}r_(){this.hy=null}Ds(){return!!this.hy}pq(){const a=this.Nb();a&&a.nt()}oq(){const a=
this.Nb();a&&a.il()}}}
{"use strict";const d=self.C;class a{constructor(){this.Uc=this.Uf=null;this.Uu=this.Vu=this.dj=this.Hn=0;this.Pu=new d.Rect;this.Jn=new d.Rect;this.Bp=new d.Rect;this.nz=new d.Rect;this.Qu=new d.Rect;this.clearRect=new d.Rect;this.$E=new d.Rect;this.GY=[null,null];this.yp=0;this.Zr=1;this.Nu=this.Ou=this.Hu=this.Gu=0;this.Kn=this.Cg=this.qe=this.se=this.fh=null;this.HE=this.MN=this.SE=!1;this.QE=null}Vc(){this.QE=this.Kn=this.Cg=this.qe=this.se=this.fh=this.Uc=this.Uf=null}P8(g){g=g.sb;if(g.bo())return!0;
if(this.qe)return g.Ry&&(0!==this.Cg.Y()||0>this.Cg.O()||0>this.Cg.P())||0!==this.Gu||0!==this.Hu||!this.Cg.Wn()||this.qe.bo();if(this.se)return!this.se.Wn()}O8(g){g=g.sb;return g.Ry||g.iK||this.fh&&"low"===this.Uc.ea.jk}rs(g){if(0!==g&&1!==g)throw Error("invalid effect target");const l=this.GY;if(!l[g]){var m=this.Uc;const q=m.ea;m={hj:m.Dd};"low"===q.jk&&(m.width=q.jh(),m.height=q.Fg());l[g]=q.sv(m)}return l[g]}T6(){const g=this.GY,l=this.Uc.ea;g[0]&&(l.fo(g[0]),g[0]=null);g[1]&&(l.fo(g[1]),g[1]=
null)}}const b=[];let e=0;const c=new d.Bd;let f=!1;async function k(g,l,m){l=await d.ka.fI.S_(l,m);l=URL.createObjectURL(l);console.log("[FX] "+g+" "+(m?"":" [to display]")+": ",l)}d.oH=function(g,l,m,q,r,p){e===b.length&&b.push(new a);var u=b[e++];u.Uf=g;u.Uc=l;if(m instanceof d.Instance)u.qe=m,u.Cg=u.qe.B();else if(m instanceof d.YG)u.se=m;else if(m instanceof d.nQ)u.fh=m;else throw Error("invalid effects object");m=l.ea;u.Kn=q;u.Hn=m.jh();u.dj=m.Fg();u.Vu=u.Hn;u.Uu=u.dj;u.yp=0;u.Zr=1;u.Gu=0;u.Hu=
0;u.Qu.set(0,0,u.Hn,u.dj);u.clearRect.set(0,0,u.Hn,u.dj);u.HE=!1;u.QE=p;u.qe?(q=u.Cg,u.Ou=q.ca().pm(),u.Nu=q.ca().Y(),u.Pu.Aa(q.Kc())):u.se?(q=u.se,u.Ou=q.pm(),u.Nu=q.Y(),u.Pu.Aa(q.tg)):(q=u.fh,u.Ou=q.ic,u.Nu=q.Y(),u.Pu.set(0,0,u.Hn,u.dj));if(u.qe){{for(let H=0,I=r.length;H<I;++H)q=r[H].sb,u.Gu+=q.UV,u.Hu+=q.VV;var t=u.Cg;q=t.ca();m=q.Y();p=t.Kc();var w=t.ve();t=t.Hf;let [D,G]=q.Vk(p.U,p.S,w),[N,B]=q.Vk(p.ba,p.aa,w);if(0!==m||0<t){const [H,I]=q.Vk(p.ba,p.S,w),[K,Q]=q.Vk(p.U,p.aa,w);if(0<t){m=w+t;
const [R,U]=q.Vk(p.U,p.S,m),[Z,ca]=q.Vk(p.ba,p.S,m),[Y,ha]=q.Vk(p.ba,p.aa,m),[ka,za]=q.Vk(p.U,p.aa,m);q=Math.min(D,N,H,K,R,Z,Y,ka);N=Math.max(D,N,H,K,R,Z,Y,ka);D=q;q=Math.min(G,B,I,Q,U,ca,ha,za);B=Math.max(G,B,I,Q,U,ca,ha,za);G=q}else q=Math.min(D,N,H,K),N=Math.max(D,N,H,K),D=q,q=Math.min(G,B,I,Q),B=Math.max(G,B,I,Q),G=q}q=u.Qu;p=u.nz;m=u.Bp;w=u.clearRect;t=u.Jn;q.set(D,G,N,B);q.YN(u.dj);p.Aa(q);p.Xl(u.Vu,u.Uu);p.ds();q.LE(u.Gu,u.Hu);m.Aa(q);m.Xl(u.Vu,u.Uu);m.ds();w.Aa(q);w.Rja();w.LE(u.Gu+1,u.Hu+
1);q.ja(0,0,u.Hn,u.dj);w.ja(0,0,u.Hn,u.dj);t.Aa(q);t.Xl(u.Vu,u.Uu);t.ds()}}else u.Jn.set(0,0,u.Hn/u.Vu,u.dj/u.Uu),u.Bp.Aa(u.Jn),u.nz.Aa(u.Jn),u.Jn.ds(),u.Bp.ds(),u.nz.ds();g.yH();g.Ms();g.Zv(0);g.lo(0);u.SE=u.P8(r[0]);u.SE&&(q=u.Uf,q.vi(),p=u.rs(u.yp),q.Af(p),(m=u.QE)&&m.NN&&m.NN(),q.vF(u.clearRect),u.qe?(q.ri(u.Cg.jG()),q.lo(u.Cg.ve()),u.qe.Se(q),q.lo(0)):(m=(u.se||u.fh).Dv(),u.se?q.ri(u.se.jG()):q.Ms(),q.hv(m),q.Vp(m),u.Uc.ea.fo(m)),u.Bp.wY(),u.yp=1,u.Zr=0,f&&k("Pre-draw",q,p));g.Ms();q=r.length-
1;u.MN=u.O8(r[q]);for(let D=0,G=r.length;D<G;++D){m=r[D];p=m.sb;g.po(p);p.WB&&l.Z();if(0!==D||u.SE){g.zR();var x=void 0,z=void 0;p=u;x=m;z=D===q&&!u.MN;m=D;w=p.Uf;t=p.Uc;0===m&&p.SE&&p.qe&&p.Qu.YN(p.dj);z?(p.qe?w.fg(p.Cg.rj()):p.se&&w.fg(p.se.rj()),z=p.Kn,w.Af(z)):(z=p.rs(p.yp),w.Af(z),w.vF(p.clearRect));x=p.qe?p.Cg.df.kh(x.Ka()):(p.se||p.fh).Ya.kh(x.Ka());w.Vs(p.Kn,p.Bp,p.Jn,p.nz,p.Pu,1/p.Vu,1/p.Uu,p.Ou,p.Nu,t.mh(),x);x=p.rs(p.Zr);w.hg(x.ue());t.ea.EH(w);p.HE=!0;c.ij(p.Qu);w.eo(c,p.Jn);p.qe||w.Vp(x);
f&&k("Bounce "+m,w,z)}else{p=u;z=m;m=p.Uf;w=p.Uc;t=p.rs(p.yp);m.Af(t);(x=p.QE)&&x.NN&&x.NN();m.vF(p.clearRect);if(p.qe){const [N,B]=p.qe.bA();(x=p.qe.cA())?p.$E.Aa(x):p.$E.set(0,0,0,0);z=p.Cg.df.kh(z.Ka());m.Vs(p.Kn,p.Bp,p.$E,p.$E,p.Pu,1/N,1/B,p.Ou,p.Nu,w.mh(),z);m.lo(p.Cg.ve());p.qe.Se(m);m.lo(0);p.Bp.wY();p.Qu.YN(p.dj)}else z=(p.se||p.fh).Ya.kh(z.Ka()),m.Vs(p.Kn,p.Bp,p.Jn,p.nz,p.Pu,1/p.Hn,1/p.dj,p.Ou,p.Nu,w.mh(),z),p=(p.se||p.fh).Dv(),f&&k("Layer target",m,p),m.hv(p),m.Vp(p),w.ea.fo(p);f&&k("First bounce",
m,t)}0===u.yp?(u.yp=1,u.Zr=0):(u.yp=0,u.Zr=1)}u.MN&&(g=u.Uf,u.fh?(g.vi(),g.Af(u.Kn),l=u.rs(u.Zr),g.xF(l),g.Vp(l)):(l=u.Uc.ea,"low"===l.jk?(g.vi(),l.EH(g,l.jh(),l.Fg()),u.HE=!0):g.L7(),u.qe?g.fg(u.Cg.rj()):u.se&&g.fg(u.se.rj()),g.Af(u.Kn),l=u.rs(u.Zr),g.hg(l.ue()),c.ij(u.Qu),g.eo(c,u.Jn),u.qe||g.Vp(l),f&&k("Post-draw",g,u.Kn)));g=u.HE;u.T6();u.Vc();e--;f=!1;return g}}
{"use strict";const d=self.C;d.l9=class extends d.oa{constructor(a){super();this.j=a;this.Ly=d.F(d.Ah);this.Rha=null;this.kp=[];this.My=new Map;this.mn=new Map;this.lp=new Map;this.Sh=[];this.Yg=[];this.Px=this.wt=this.Yq=!1;this.zn=()=>this.Mda();this.xn=()=>this.ZI();this.VJ=()=>this.CB();this.xL=()=>this.gda();this.VK=b=>this.kU(b.instance);this.IJ=()=>this.Lm();this.ox=[]}A(){this.Y6();this.IJ=this.VK=this.xL=this.VJ=this.xn=this.zn=null;for(const a of this.kp)a.Og(),a.A();d.G(this.kp);this.kp=
null;this.Ly.A();this.Ly=null;d.G(this.Sh);this.Sh=null;d.G(this.Yg);this.Yg=null;this.My.clear();this.My=null;this.mn.clear();this.mn=null;this.lp.clear();this.lp=null;d.G(this.ox);this.j=this.ox=null}LZ(){const a=this.j.Fb();a.addEventListener("pretick",this.zn);a.addEventListener("tick2",this.xn);a.addEventListener("beforelayoutchange",this.VJ);a.addEventListener("layoutchange",this.xL);a.addEventListener("instancedestroy",this.VK);a.addEventListener("afterload",this.IJ)}Y6(){const a=this.j.Fb();
a.removeEventListener("pretick",this.zn);a.removeEventListener("tick2",this.xn);a.removeEventListener("beforelayoutchange",this.VJ);a.removeEventListener("layoutchange",this.xL);a.removeEventListener("instancedestroy",this.VK);a.removeEventListener("afterload",this.IJ)}$a(a){this.Ly.Jc(a);a=d.Be.K_(a,this);this.Jc(a);this.w8(a);this.lp.set(a.Ha(),0)}yF(a){a=a.NP();var b=this.Ly.na(a);b=d.Be.yF(`${a}:${this.lp.get(a)}`,b,this);this.NT(a);this.Jc(b);return b}NT(a){this.lp.set(a,this.lp.get(a)+1)}qfa(){for(const a of this.kp)a.Tt||
this.NT(a.NP())}H$(){for(const a of this.lp.keys())this.lp.set(a,0)}Jc(a){this.kp.push(a);this.My.set(a.Ha().toLowerCase(),a)}pi(a){a.Tt||(d.Yr(this.kp,a),d.Yr(this.Sh,a),d.Yr(this.Yg,a),this.My.delete(a.Ha().toLowerCase()),this.Z6(a),a.Ti||a.A())}la(a){this.j.la(a,this.Rha,null)}N(){return this.j}ZR(a,b){this.mn.has(a)||this.mn.set(a,new Set);this.mn.get(a).add(b)}w8(a){for(const b of a.iG())this.ZR(b,a)}Z6(a){for(const [b,e]of this.mn.entries())e.has(a)&&(e.delete(a),0===e.size&&this.mn.delete(b))}M2(a){if(this.mn.has(a))return this.mn.get(a)}sA(a){return this.My.get(a.toLowerCase())||
null}X6(a){d.Yr(this.Yg,a);this.Gw()}sR(a){this.Yg.includes(a)?(a.gw(!0),a.iw(!1),a.IH(!1)):(a.gw(!1),a.iw(!0),a.IH(!1),this.Sh.includes(a)||this.Sh.push(a));this.cU()}Kz(a){a.gw(!1);a.iw(!1);a.uH();d.Yr(this.Sh,a);this.Gw()}Gz(a){a.gw(!1);a.iw(!1);a.IH(!0)}C_(a){this.Gz(a);a.uH()}Mda(){if(!this.N().Cl&&this.Yq&&!this.wt){var a=!1;for(this.Px=!0;this.Sh.length;){var b=this.Sh.pop();b.Ld();this.Yg.push(b)}b=this.j.Gk();var e=this.j.Qd;for(const c of this.Yg){if(c.fu)continue;const f=c.Md(b,e);!a&&
f&&(a=!0)}this.Px=!1;a&&this.N().Z()}}ZI(){if(!this.N().Cl&&this.Yq&&!this.wt){var a;for(const b of this.Yg)b.fu&&(a||(a=new Set),this.dU(b),a.add(b));a&&d.ai(this.Yg,a);this.Gw()}}dU(a){a.Ti||a.TP()&&a.Rg&&a.Jo&&a.WO()}cU(){this.Yq||(this.Yq=!0)}Gw(){this.Yg.length||this.Sh.length||this.Px||(this.Yq=!1)}CB(){for(this.wt=!0;this.Sh.length;)this.Kz(this.Sh.pop());const a=new Set;for(const b of this.Yg)b.CB()&&a.add(b);d.ai(this.Yg,a);this.Gw();for(const b of this.kp)b.Ek()}gda(){this.wt=!1}kU(a){var b=
a.M();if(b=this.M2(b))if(this.j.Cl)this.ox.push(a);else for(const e of b)e.Tt||(e.Ti?this.pi(e):e.TP()||(this.dU(e),this.pi(e)))}Lm(){for(const a of this.ox)this.kU(a);d.G(this.ox)}wa(){return{timelinesJson:this.Zea(),scheduledTimelinesJson:this.Xea(),playingTimelinesJson:this.Vea(),hasRuntimeListeners:this.Yq,changingLayout:this.wt,isTickingTimelines:this.Px}}Ca(a){a&&(this.H$(),this.Nca(a.timelinesJson),this.Kca(a.scheduledTimelinesJson),this.Ica(a.playingTimelinesJson),this.Yq=!a.hasRuntimeListeners,
this.wt=!!a.changingLayout,this.Px=!!a.isTickingTimelines,this.qfa(),this.cU(),this.Gw())}Zea(){return this.kp.map(a=>a.wa())}Nca(a){for(const b of a){a=this.sA(b.name);if(!a){a=this.Nba(b);if(!a)continue;a=this.sA(a);a=this.yF(a)}a.Ca(b);a.j3()||this.pi(a)}}Nba(a){return(a=a.name.split(":"))&&2===a.length?a[0]:null}Xea(){return this.KU(this.Sh)}Kca(a){this.ZT(a,this.Sh)}Vea(){return this.KU(this.Yg)}Ica(a){this.ZT(a,this.Yg)}rca(a,b){for(const e of b)if(e===a.Ha())return!0;return!1}KU(a){return a.map(b=>
b.Ha())}ZT(a,b){var e=new Set;for(const c of b)this.rca(c,a)||e.add(c);d.ai(b,e);e=c=>f=>f.Ha()===c;for(const c of a)(a=this.sA(c))&&(b.find(e(c))||b.push(a))}}}
{"use strict";const d=self.C;d.Be=class extends d.oa{constructor(a,b,e){super();this.j=e.N();this.Qb=e;this.Of=b;this.Pa=a;this.$b=[];for(const c of this.Of.uA().dka())this.$b.push(d.iS.$a(this,c));this.OD=this.jy=null;this.Zo=d.F(d.Rv);this.Zo.Set(0);this.pn=1;this.vk=0;this.Zj=1;this.Jo=this.bn=this.hD=!1;this.Rg=!0;this.fu=this.Ti=!1;this.yt=-1;this.Ho=this.Vq=this.Tt=this.TC=!1;this.MW=NaN;this.Vh=[""];this.WX="";this.FM=!1}static K_(a,b){const e=b.Ly.na(a[0]);a=d.F(d.Be,a[0],e,b);a.d8();return a}static yF(a,
b,e){return d.F(d.Be,a,b,e)}static get E9(){return 1}static get wm(){return d.EN(1)}A(){if(!this.Ti){this.Qb.Kz(this);this.Qb.C_(this);for(const a of this.$b)a.A();d.G(this.$b);this.$b=null;this.Zo.A();this.Of=this.Qb=this.j=this.Zo=null;this.Ti=!0;this.OD=this.jy=null}}N(){return this.j}pG(a,b,e){const c=[];for(const f of this.$b){if(a!==f.Ia())continue;const k=f.nm(e);k&&b.constructor===k.Id().constructor&&c.push(k)}return c}j3(){return!!this.$b.length}aB(a){this.Pa=a}Ha(){return this.Pa}NP(){return this.Of.Ha()}je(){return this.Of.je()}Ev(){return this.Of.Ev()}tj(){return this.Of.tj()}xj(){return this.Of.xj()}$k(a){for(const b of this.$b)b.$k(a)}ts(){return this.Of.ts()}vs(){return this.Of.vs()}Un(){return this.Of.Un()}fw(a){return this.pn=
a}mi(){return this.IsPlaying()?0<this.pn:!0}yP(){this.jy||(this.jy=new Promise(a=>{this.OD=a}))}uH(){this.jy&&(this.OD(),this.OD=this.jy=null)}Xs(a){this.Vh=d.Be.Mba(a);this.FM=!0}PQ(){d.D.Yc.H.tq(this);this.Qb.la(d.D.Yc.H.Eqa);this.Qb.la(d.D.Yc.H.Fqa);this.Qb.la(d.D.Yc.H.Gqa);this.Qb.la(d.D.Yc.H.vqa);d.D.Yc.H.tq(null)}FQ(){this.yt=this.j.Nl}WO(){this.Vq||(this.Vq=!0,d.D.Yc.H.tq(this),this.Qb.la(d.D.Yc.H.Bqa),this.Qb.la(d.D.Yc.H.Cqa),this.Qb.la(d.D.Yc.H.Dqa),this.Qb.la(d.D.Yc.H.uqa),d.D.Yc.H.tq(null))}gw(a){this.hD=
a}bQ(){return this.yt===this.j.Nl}IsPlaying(a=!1){return this.bQ()||this.bn&&!a?!0:this.hD}jt(){return this.IsPlaying(!0)}iw(a){this.bn=a}yR(a){this.Rg=a;a=this.La();if(0>=a||a>=this.je())this.Rg=!0}IH(a){this.fu=a}HH(a){this.TC=a}d8(){this.Tt=!0}La(){return this.Zo.na()}Ys(a){const b=this.La();this.Ze(a);this.yR(!1);this.Rg||this.HH(!0);if(this.jt()||this.bn||!this.Jo)this.jt()||this.bn||this.Jo?this.jt()?this.Og():this.bn&&(this.Qb.Kz(this),this.KR()):this.KR();this.AB(a,!1,!0,!0,b)&&this.N().Z();
this.nU()}Ze(a){0>a?this.Zo.Set(0):a>=this.je()?this.Zo.Set(this.je()):this.Zo.Set(a)}nU(){d.D.Yc&&this.constructor===d.Be&&(d.D.Yc.H.tq(this),this.Qb.la(d.D.Yc.H.yqa),this.Qb.la(d.D.Yc.H.zqa),this.Qb.la(d.D.Yc.H.Aqa),d.D.Yc.H.tq(null))}Play(a=!1){return this.Ti||this.bn?!1:this.jt()&&this.bQ()?this.cfa():this.jt()||!this.Rg&&!a&&!this.TC?!1:this.dfa()}cfa(){this.HH(!1);this.Qb.X6(this);this.Qb.sR(this);this.yP();return!0}dfa(){this.HH(!1);this.Qb.sR(this);this.yP();return!0}Og(a=!1){this.Ti||(this.yR(a),
this.Qb.Gz(this),this.Rg&&this.uH())}Wd(a=!0,b=!1){if(!this.Ti)if(!this.jt()&&this.bn)this.Qb.Kz(this);else if(!this.Rg){this.Og(!0);this.mi()?this.Ze(0):this.Ze(this.je());var e=this.La();b=b?this.hca(e):this.AB(e,!1,!1,!0);a&&this.nU();b&&a&&this.N().Z()}}mR(){this.Wd(!1,!0)}hca(a){this.AB(a,!1,!1,!0,NaN,!1,!0)}CB(){if(this.Ti)return!0;if(this.k3())return!1;this.Qb.Gz(this);this.mR();return!0}KR(){this.Ld(!0)}Ld(a){if(!this.fu)if(a){this.Ho=this.Jo=!0;for(const b of this.$b)b.Ld()}else if(this.gw(!0),
this.iw(!1),this.PQ(),this.Rg){this.yt=-1;this.vk=0;this.Zj=1;this.Vq=this.Rg=!1;this.Ho=this.Jo=!0;this.mi()?this.Ze(0):this.Ze(this.je());for(const b of this.$b)b.Ld()}else{this.Ho=!0;for(const b of this.$b)b.Mg()}}Md(a,b){if(0!==a||0!==this.MW){this.MW=a;var e=this.La();this.Ze(e+a*b*this.pn);var c;this.ts()||this.vs()?this.ts()&&!this.vs()?c=this.Sca():!this.ts()&&this.vs()?c=this.Wda():this.ts()&&this.vs()&&(c=this.Tca()):c=this.ega();if(c){for(const f of this.$b)f.P7();this.Og(!0);this.FQ();
return!0}return this.AB(this.La(),!0,!1,!1,e,!0)}}AB(a,b=!1,e=!1,c=!1,f=NaN,k=!1,g=!1){let l=!1;for(var m of this.$b)m.av();for(const q of this.$b){m=a;if("number"===typeof f){const r=this.La()-q.Ig(),p=f-q.Ig();0>r&&0<p&&(m=q.Ig(),this.Ze(m))}m=q.yb(m,b,e,c,this.Ho,g);!l&&m&&(l=!0)}for(const q of this.$b)q.$u();this.Ho&&k&&(this.Ho=!1);return l}ega(){if(this.mi()){if(this.La()>=this.je())if(this.Zj<this.Un())this.Zj++,this.Ze(0);else return this.Ze(this.je()),!0}else if(0>=this.La())if(this.Zj<this.Un())this.Zj++,
this.Ze(this.je());else return this.Ze(0),!0;return!1}Sca(){this.mi()?this.La()>=this.je()&&this.Ze(0):0>=this.La()&&this.Ze(this.je());return!1}Wda(){if(this.mi()){if(this.La()>=this.je())if(this.Ze(this.je()),this.fw(-1*this.pn),1===this.vk)if(this.Zj<this.Un())this.Zj++,this.vk=0;else return!0;else 0===this.vk&&(this.vk=1)}else if(0>=this.La())if(this.Ze(0),this.fw(-1*this.pn),1===this.vk)if(this.Zj<this.Un())this.Zj++,this.vk=0;else return!0;else 0===this.vk&&(this.vk=1);return!1}Tca(){this.mi()?
this.La()>=this.je()&&(this.Ze(this.je()),this.fw(-1*this.pn)):0>=this.La()&&(this.Ze(0),this.fw(-1*this.pn));return!1}Ek(){for(const a of this.$b)a.Ek()}t_(){for(const a of this.$b)a.q_()}x8(a,b){if(b)for(const e of this.$b)if(e.ni()){if(a){if(e.Hk()!==a)continue}else if(e.d3())continue;e.b8(b);this.Qb.ZR(b.M(),this);break}}TP(){return this.$b.some(a=>a.ni()?a.sF():!0)}k3(){return this.$b.some(a=>a.ni()?a.sF()?(a=a.M())?a.uh():!1:!1:!1)}nm(a){for(const b of this.$b)for(const e of b.Sc)if(e.Za.$d===
a)return e}OP(a){for(const b of this.$b)if(a===b.Ia())return b;return null}iG(){const a=[];for(const b of this.$b)a.push(b.M());return a.filter(b=>b)}wa(){return{tracksJson:this.afa(),name:this.Pa,playheadTime:this.La(),playbackRate:this.pn,pingPongState:this.vk,currentRepeatCount:this.Zj,isPlaying:this.hD,isScheduled:this.bn,initialStateSet:this.Jo,finishedTriggers:this.Vq,complete:this.Rg,released:this.Ti,markedForRemoval:this.fu,completedTick:this.yt,implicitPause:this.TC,isTemplate:this.Tt,tags:this.Vh.join(" "),
stringTags:this.WX,tagsChanged:this.FM,firstTick:this.Ho}}Ca(a){a&&(this.Oca(a.tracksJson),this.Pa=a.name,this.Zo.Set(a.playheadTime),this.pn=a.playbackRate,this.vk=a.pingPongState,this.Zj=a.currentRepeatCount,this.hD=!!a.isPlaying,this.bn=!!a.isScheduled,this.Jo=!!a.initialStateSet,this.Vq=a.hasOwnProperty("finishedTriggers")?!!a.finishedTriggers:!1,this.Rg=!!a.complete,this.Ti=!!a.released,this.fu=!!a.markedForRemoval,this.yt=a.completedTick,this.TC=!!a.implicitPause,this.Tt=!!a.isTemplate,this.Vh=
a.tags.split(" "),this.WX=a.stringTags,this.FM=!!a.tagsChanged,this.Ho=!!a.firstTick)}afa(){return this.$b.map(a=>a.wa())}Oca(a){a.forEach((b,e)=>{this.$b[e].Ca(b)});this.$b.filter(b=>b.sF())}static Mba(a){if(d.Wp(a))return a.slice(0);if(d.zj(a))return a.split(" ")}}}
{"use strict";const d=self.C;d.iS=class extends d.oa{constructor(a,b){super();this.jp=a;this.kc=b;this.Pf=b.uA();this.ln=this.Ym=NaN;this.wb=this.Mh=null;this.ir=0<b.Ig();this.Sq=this.St=!1;this.mr=null;this.dd=this.kc.vj().dd;this.Sc=[];for(const e of this.kc.wf().Lja())this.Sc.push(d.lb.$a(this,e))}static $a(a,b){return d.F(d.iS,a,b)}A(){this.dd=null;for(const a of this.Sc)a.A();d.G(this.Sc);this.mr=this.kc=this.wb=this.Mh=this.jp=this.Sc=null}Ek(){for(const a of this.Sc)a.Ek();this.wb=this.Mh=
null}Ec(){return this.jp}N(){return this.jp.N()}t2(){return this.dd?this.dd:this.dd=this.kc.vj().dd}nm(a){for(const b of this.Sc)if(b.Za.$d===a)return b}Gs(){this.Mh||this.Ia()}um(){return this.Mh?!this.Mh.KG():!1}sF(){if(!this.ni())return!1;const a=this.N().Te(this.zv());return a?!a.KG():!1}M(){if(this.ni()){var a=this.hG();if(-1!==a)return this.N().$f(a)}}q_(){this.Mh=null;this.Ym=-1;this.wb=null;this.ln=-1}d3(){return!!this.Mh}Ia(){return this.Mh&&this.um()?this.Mh:this.Mh=this.N().Te(this.zv())}b8(a){if(this.Mh!==
a){this.Ek();this.Mh=a;this.ln=a.M().Ka();this.Ym=a.ub;this.wb=a.B();for(const k of this.Mja()){const g=k.Yja;switch(k.Kja.ie()){case "instance-variable":var b=a.M(),e=b.m2(k.name),c=b.qP(e);b=b.Av(e);c===k.name&&b===k.type&&g.z9(e);break;case "behavior":var f=k.fN;e=this.M();c=a.M();b=g.fi(c);f&&b&&(f=f.Ha(),e.uv(f),c.uv(f),g.w9(b.cb))}}}}*Mja(){for(const e of this.Sc){var a=e.Id(),b=this.M();const c={Kja:e,Yja:a};switch(e.ie()){case "world-instance":c.Qya=e.Za.$d;break;case "instance-variable":a=
a.qs();c.name=b.qP(a);c.type=b.Av(a);break;case "effect":b=a.VF(b.Ya);c.hxa=b;break;case "behavior":b=a.fi(b);c.fN=b;break;case "plugin":c.Lya=b.Sb()}yield c}}B(){if(this.wb&&this.um())return this.wb;const a=this.Ia();a&&(this.wb=a.B());return this.wb}zv(){return this.Ym?this.Ym:this.kc.zv()}tj(){return this.kc.tj()}xj(){return this.kc.xj()}Hk(){return this.kc.Hk()}Ig(){return this.kc.Ig()}mm(){return this.kc.mm()}$k(a){for(const b of this.t2())b.$k(a);for(const b of this.Sc)b.$k(a)}lm(){return this.kc.lm()}Em(a){this.kc.Em(a)}hG(){return isNaN(this.ln)?
this.kc.hG():this.ln}Nk(){const a=this.Ia();return a&&a.ra.$p()?a.ra.Nk():this.kc.Nk()}Mk(){const a=this.Ia();return a&&a.ra.$p()?a.ra.Mk():this.kc.Mk()}Sk(){return this.kc.Sk()}Ha(){return this.kc.Ha()}ni(){return 0===this.Sk()}Ld(){this.Gs();if(this.um()||!this.ni()){for(var a of this.Sc)a.Ld();a=this.Ec().mi()?0:this.mm();this.mr=this.dG(a);this.Sq=this.St=!1;this.yb(a)}}Mg(){this.Gs();if(this.um()||!this.ni()){this.jp.mi();var a=this.jp.La()-this.Ig();this.mr=this.dG(a);for(const b of this.Sc)b.Mg()}}P7(){if(!(this.Ec().Rg||
(this.Gs(),!this.um()&&this.ni()||this.ir))){const a=this.jp.La();a>=this.Ig()+this.mm()?this.yb(this.mm(),!0,!1,!0):0>=a&&this.yb(0,!0,!1,!0)}}av(){for(const a of this.Sc)a.av()}yb(a,b=!1,e=!1,c=!1,f=!1,k=!1){this.Gs();if(!this.um()&&this.ni()||k&&this.ni()&&this.M().uh())return!1;a-=this.Ig();if(0>a)return!1;this.f5(a,b);this.wQ(a,b,f);f=k=!1;for(const g of this.Sc){const l=g.yb(a,e,!1,c);k||0===(l&d.Be.E9)||(k=!0);f||0===(l&d.Be.wm)||(f=!0)}this.e5(a,b);k&&(a=this.B())&&a.ua();return f}$u(){for(const a of this.Sc)a.$u()}f5(a,
b){if(b&&this.ir&&!this.St){if(this.Ec().mi()){if(0>a)return;for(const e of this.Sc)e.yb(0,!1,!1,!0)}else{if(a>this.mm())return;for(const e of this.Sc)e.yb(this.mm(),!1,!1,!0)}for(const e of this.Sc)e.Ld();this.St=!0}}e5(a,b){if(b&&this.ir&&!this.Sq)if(this.Ec().mi()){if(a>=this.mm()){for(const e of this.Sc)e.yb(this.mm(),!1,!1,!0);this.Sq=!0}}else if(0>=a){for(const e of this.Sc)e.yb(0,!1,!1,!0);this.Sq=!0}}wQ(a,b,e){!e&&b&&(a=this.dG(a),a!==this.mr&&this.IQ(a),this.mr=a)}dG(a){const b=this.Ec();
let e=this.Pf.q2(a,this.kc);return e?e:b.mi()?this.Pf.a2(a,this.kc):this.Pf.Z1(a,this.kc)}IQ(a){if(d.D.Yc&&this.Ec().constructor===d.Be){var b=this.Ec();d.D.Yc.H.tq(b);d.D.Yc.H.F8(a);a=b.Qb;a.la(d.D.Yc.H.tqa);a.la(d.D.Yc.H.IQ);d.D.Yc.H.tq(null);d.D.Yc.H.F8(null)}}GZ(){return this.kc.vj().zZ()}a0(a){this.kc.vj().$_(a)}EF(a){for(const b of this.Sc)b.EF(a)}nq(){for(const a of this.Sc)a.nq()}mj(){this.Gs();if(this.um()||!this.ni())for(const a of this.Sc)a.mj()}nj(){this.Gs();if(this.um()||!this.ni()){var a=
!1;for(const b of this.Sc){const e=b.nj();!a&&e&&(a=!0)}a&&(a=this.GZ(),a.Ys(this.Ec().La()),a.$k("noease"),a.Em(!0),a.Xs(""))}}wa(){var a=this.Ia();a=a?a.ub:this.zv();return{propertyTracksJson:this.Wea(),lastKeyframeDataItemJson:this.Tea(),initialStateOfNestedSet:this.St,endStateOfNestedSet:this.Sq,instanceUid:a}}Ca(a){a&&(this.Jca(a.propertyTracksJson),this.Hca(a.lastKeyframeDataItemJson),this.Eca(a.instanceUid),this.St=!1,a.hasOwnProperty.initialStateOfNestedSet&&(this.St=a.initialStateOfNestedSet),
this.Sq=!1,a.hasOwnProperty.endStateOfNestedSet&&(this.Sq=a.endStateOfNestedSet))}Tea(){return this.kc.vj().s2(this.mr)}Wea(){return this.Sc.map(a=>a.wa())}Jca(a){a.forEach((b,e)=>{this.Sc[e].Ca(b)})}Eca(a){if(d.Xn(a)&&(a=this.N().Te(a))){var b=this.Ec();b.t_();b.x8(this.kc.Hk(),a)}}Hca(a){this.mr=this.kc.vj().r2(a)}}}
{"use strict";const d=self.C;d.lb=class extends d.oa{constructor(a,b){super();this.Fd=a;this.Za=b;this.Od=b.wf();this.xk=this.Id();this.ed=this.Za.wj().ed}static $a(a,b){return d.F(d.lb,a,b)}A(){this.Fd=null;this.xk&&(this.xk.A(),this.xk=null);this.Od=this.Za=this.ed=null}wf(){return this.Od}Ec(){return this.Fd.Ec()}N(){return this.Fd.N()}Ia(){return this.Fd.Ia()}Id(){if(this.xk)return this.xk;let a;switch(this.Za.ie()){case "behavior":a=new d.lb.a_(this);break;case "effect":a=new d.lb.h1(this);break;
case "instance-variable":a=new d.lb.k4(this);break;case "plugin":a=new d.lb.z6(this);break;case "world-instance":a=new d.lb.N9(this);break;case "value":a=new d.lb.C9(this)}return this.xk=a}ie(){return this.Za.ie()}Cv(){return this.Za.Sk()}lG(){return this.wf().gA(this.Za).Sk()}lm(){return this.Za.lm()}Em(a){this.Za.Em(a)}tj(){return this.Za.tj()}xj(){return this.Za.xj()}$k(a){for(const b of this.BP())b.$k(a)}BP(){return this.ed?this.ed:this.ed=this.Za.wj().ed}Ek(){this.Id().Ek()}sf(){return this.Id().sf()}Ld(){this.Id().Ld()}Mg(){this.Id().Mg()}av(){this.Id().av()}yb(a,
b=!1,e=!1,c=!1){var f=this.Za;let k=this.Od.kG(a,f);k?f=this.Od.nP(a,f):(k=this.Od.ZF(a,f),f=this.Od.YF(a,f));return this.Id().yb(a,k,f,b,e,c)}$u(){this.Id().$u()}static MP(a,b){const e=b.Za;b=b.Od;let c=b.kG(a,e);c||(c=b.ZF(a,e));return c}static O1(a,b){const e=b.Za;b=b.Od;return b.kG(a,e)?b.nP(a,e):b.YF(a,e)}IZ(){return this.Za.wj().AZ()}EF(a){this.Za.wj().b0(a)}nq(){this.Id().nq()}mj(){if(this.Id().mj()){const a=this.Od.gA(this.Za),b=this.Id().sf();a.vR(b)}}nj(){const a=this.Id().nj();a&&this.JZ();
this.Id().Fz();return a}JZ(){const a=this.Ec().La(),b=this.Id(),e=d.lb.MP(a,this),c=this.IZ();c.$R(e.Sk());c.Ys(a);c.$k(e.Sn());c.Em(!0);c.yh(b.xA());c.vR(b.sf())}wa(){return{sourceAdapterJson:this.Id().wa()}}Ca(a){a&&this.Id().Ca(a.sourceAdapterJson)}}}
{"use strict";const d=self.C.lb;d.Aj=class{constructor(a){this.xa=a;this.qn=null}A(){this.qn&&(this.qn.A(),this.qn=null);this.xa=null}nm(){return this.xa}Ek(){this.qn&&this.qn.Ek()}oh(){return this.qn?this.qn:this.qn=this.Z$()}qs(){}Ka(){return this.qs()}Gv(){}Ld(){this.oh().Ld()}Mg(){this.oh().Mg()}av(){this.oh().js()}yb(a,b,e,c,f,k){const g=d.Aj.rP(this.xa)(a,b,e,this.xa);return f?g:this.oh().Gp(a,g,b,e,c,k)}$u(){this.oh().hs()}nq(){var a=this.oh();a.Ui=a.sf()}Fz(){this.oh().Fz()}sf(){return this.oh().sf()}mj(){return this.oh().mj()}nj(){return this.oh().nj()}xA(){return d.Aj.xA(this.xa)}Z$(){const a=
this.xa.Cv();switch(this.xa.lG()){case "combo":case "boolean":case "text":case "string":return new d.Jg.zQ(this);case "numeric":case "number":case "angle":return"combo"===a?new d.Jg.zQ(this):new d.Jg.n5(this);case "color":case "offsetColor":return new d.Jg.x_(this)}}wa(){return{propertyAdapterJson:this.oh().wa()}}Ca(a){a&&this.oh().Ca(a.propertyAdapterJson)}static xA(a){const b=a.Fd.Ec().La(),e=d.MP(b,a),c=d.O1(b,a);return d.Aj.rP(a)(b,e,c,a)}static Jd(){let a=(void 0).xj();"combo"===(void 0).Cv()&&
(a="absolute");switch(a){case "relative":return NaN}}static rP(a){switch(a.lG()){case "numeric":return d.aH.yb;case "angle":return d.jO.yb;case "boolean":return d.pO.yb;case "color":return d.BO.yb;case "text":return d.gS.yb}}static Q2(a){switch(a.lG()){case "numeric":return d.aH.Gm;case "angle":return d.jO.Gm;case "boolean":return d.pO.Gm;case "color":return d.BO.Gm;case "text":return d.gS.Gm}}}}{"use strict";const d=self.C;class a extends d.lb.Aj{constructor(b){super(b)}}d.lb.N9=a}
{"use strict";const d=self.C;class a extends d.lb.Aj{constructor(b){super(b);this.Qy=NaN}qs(){return this.xa.Za.Th[0]}Ka(){return this.Qy?this.Qy:super.Ka()}Gv(){return this.xa.Fd.Ia()}z9(b){this.xa.Za.Th[0]!==b&&(this.Qy=b)}yb(b,e,c,f,k,g){if(this.oh().wO(e.Jd()))return super.yb(b,e,c,f,k,g)}wa(){return Object.assign(super.wa(),{index:this.Qy})}Ca(b){b&&(super.Ca(b),this.Qy=b.index)}}d.lb.k4=a}
{"use strict";const d=self.C;class a extends d.lb.Aj{constructor(b){super(b);this.cb=NaN}qs(){return this.xa.Za.Th[1]}Gv(){var b=this.xa.Za,e=this.cb?this.cb:b.Th[0];b=this.xa.Fd.Ia();e=b.bP(e);return b.$c[e].ra}fi(b){return b.Wz(this.xa.Za.Th[2])}w9(b){this.xa.Za.Th[0]!==b&&(this.cb=b)}yb(b,e,c,f,k,g){const l=this.xa.Fd.Ia();if(this.fi(l.M()))return super.yb(b,e,c,f,k,g)}wa(){return Object.assign(super.wa(),{sid:this.cb})}Ca(b){b&&(super.Ca(b),this.cb=b.sid)}}d.lb.a_=a}
{"use strict";const d=self.C;class a extends d.lb.Aj{constructor(b){super(b)}qs(){return this.xa.Za.Th[1]}Gv(){const b=this.xa.Fd.B().df,e=this.VF(b.Ya).Ka();return b.Pv(e)?b.kh(e):null}VF(b){return b.km(this.xa.Za.Th[0])}yb(b,e,c,f,k,g){if(this.mca())return super.yb(b,e,c,f,k,g)}mca(){const b=this.xa.Fd.B().df,e=this.VF(b.Ya);if(e)return b.Pv(e.Ka())}}d.lb.h1=a}
{"use strict";const d=self.C;class a extends d.lb.Aj{constructor(b){super(b)}qs(){return this.xa.Za.Th[0]}Gv(){return this.xa.Fd.Ia().ra}yb(b,e,c,f,k,g){var l=this.xa.Fd;const m=l.M().Sb();l=l.Ia().M().Sb();if(m===l)return super.yb(b,e,c,f,k,g)}}d.lb.z6=a}
{"use strict";const d=self.C;class a extends d.lb.Aj{constructor(b){super(b);this.Sd=0;this.UC=!1}Ld(){const b=this.xa.wf();let e=this.xa.Za;e=b.gA(e);this.Sd=e.Fc()}Mg(){}Jd(){this.UC||this.xa.yb(0);return this.Sd}yb(b,e,c){const f=d.lb.aH.yb;this.Sd=f(b,e,c,this.xa);this.UC=!0}nq(){}Fz(){}sf(){return this.Sd}mj(){return!1}nj(){return!1}wa(){return{value:this.Sd,init:this.UC}}Ca(b){b&&(this.Sd=b.value,this.UC=b.hasOwnProperty("init")?b.init:!0)}}d.lb.C9=a}"use strict";
function ic(d,a,b){return d.xa.Ec().mi()?a():b()}function jc(d,a,b){return"relative"===d.xa.xj()?a():b()}function kc(d,a,b){d.Mt?(d.Mt=!1,a()):b()}function lc(d){if(d.xu)return d.xu;d.xu=d.xk.Gv();return d.xu}function mc(d,a,b,e,c,f){switch(d.xa.ie()){case "behavior":return a();case "effect":return b();case "instance-variable":return e();case "plugin":return c();case "world-instance":return f()}}
function nc(d,a=!1){const b=[];for(const e of d){d=e.Fd.Ig();for(const c of e.BP())a&&0===c.La()?b.push({time:d+c.La(),value:c.Ai}):a||b.push({time:d+c.La(),value:c.Ai})}return b.sort((e,c)=>e.time-c.time)}function oc(d,a){for(let b=a.length-1;0<=b;b--)if(a[b].time<=d)return a[b];return null}
self.C.lb.Jg=class{constructor(d){this.xk=d;this.xa=d.nm();this.wb=this.xa.Fd.B();this.$d=this.xa.Za.$d;this.Mt=!1;this.xu=this.Ui=null}A(){this.xu=this.Ui=this.wb=this.xa=this.xk=null}Ek(){this.xu=this.Ui=this.wb=null}nm(){return this.xa}B(){return this.wb?this.wb:this.wb=this.xa.Fd.B()}Ld(){}Mg(){}Fz(){this.Ui=null}sf(){}mj(){}nj(){}wO(d){return typeof this.Km()===typeof d}js(){}Gp(){}hs(){}xq(){return ic(this,()=>{const d=this.xa.Za;return this.xa.wf().gA(d)},()=>{const d=this.xa.Za;return this.xa.wf().Np(d)}).Ai}lB(){const d=
this.xa.Ec().La()-this.xa.Fd.Ig();return ic(this,()=>{const a=this.xa.Za;return this.xa.wf().ZF(d,a)},()=>{const a=this.xa.Za,b=this.xa.wf(),e=b.YF(d,a);return e?e:b.Np(a)}).Ai}sB(){}xi(){return this.xk.Ka()}wa(){return{firstAbsoluteUpdate:this.Mt,saveState:this.Ui}}Ca(d){d&&(this.Mt=d.firstAbsoluteUpdate,this.Ui=d.saveState)}};
{"use strict";const d=self.C,a=new Map,b=[0,0,0];class e extends d.lb.Jg{constructor(c){super(c)}Ld(){}Mg(){}sf(){const c=this.xa.ie(),f=lc(this),k=this.xi();switch(c){case "behavior":return this.PB(f.Wb(k));case "effect":return this.PB(f[k]);case "plugin":return this.PB(f.Wb(k));case "world-instance":return this.PB(this.Km())}}mj(){const c=this.xq();return!this.IS(c,this.Km())}nj(){return d.Ue(this.Ui)?!1:!this.IS(this.Ui,this.Km())}IS(c,f){return c.In(f)}xq(){const c=super.xq();return this.tB(c)}lB(){const c=
super.lB();return this.tB(c)}sB(){}PB(c){return d.Yn(c,d.jb)?c.toArray().slice(0,3):c.slice(0,3)}tB(c){return d.Yn(c,d.jb)?c:new d.jb(c[0],c[1],c[2],1)}wO(){return!0}js(){var c=this.xa.Ia();a.has(c)||a.set(c,new Map);c=a.get(c);const f=this.xa.ie();c.has(f)||c.set(f,new Map);c=c.get(f);c.has(this.$d)||c.set(this.$d,{rz:!1,color:new d.jb(0,0,0,1)})}HT(c,f,k){c=a.get(c).get(f).get(k);c.rz=!0;return c.color}Gp(c,f){var k=this.xa.Ec(),g=this.xa.Fd;c=this.xa.Ia();var l=this.xa.Id();const m=this.xa.ie();
l=k.pG(c,l,this.$d);if(1<l.length){if(l=nc(l,!0),k=k.La(),k=oc(k,l))if(l=k.time-g.Ig(),0===l)this.HT(c,m,this.$d).mY(f[0],f[1],f[2]);else{if(0>l)return;k=f[0];g=f[1];f=f[2];l=this.xa.yb(l,!1,!0);k=d.jb.FF(k,l[0]);g=d.jb.FF(g,l[1]);f=d.jb.FF(f,l[2]);this.HT(c,m,this.$d).mY(k,g,f)}}else this.ml(f[0],f[1],f[2]);return d.Be.wm}hs(){const c=this.xa.Ia();if(a.has(c)){var f=a.get(c),k=this.xa.ie();if(f.has(k)){var g=f.get(k);if(g.has(this.$d)){var l=g.get(this.$d),m=l.color;l.rz&&this.ml(m.ib,m.Ma,m.fb);
0===g.size&&f.delete(k);0===f.size&&a.delete(c)}}}}Km(){const c=this.xa.ie(),f=lc(this),k=this.xi();switch(c){case "behavior":return this.tB(f.Wb(k));case "effect":return f[k].clone();case "plugin":return this.tB(f.Wb(k));case "world-instance":return this.B().Ua.clone()}}ml(c,f,k){const g=this.xa.ie(),l=lc(this),m=this.xi();switch(g){case "behavior":b[0]=c;b[1]=f;b[2]=k;l.we(m,b);break;case "effect":l[m].Tu(c,f,k);break;case "plugin":b[0]=c;b[1]=f;b[2]=k;l.we(m,b);break;case "world-instance":this.B().G8(c,
f,k)}}wa(){}Ca(){}}d.lb.Jg.x_=e}
{"use strict";const d=self.C;class a extends d.lb.Jg{constructor(b){super(b)}Ld(){}Mg(){}sf(){return this.Km()}mj(){return this.xq()!==this.sf()}nj(){return d.Ue(this.Ui)?!1:this.Ui!==this.sf()}Gp(b,e){const c=d.lb.Aj.Q2(this.xa);var f=this.xa;const k=f.Fd,g=f.ie();var l=f.Ec();const m=k.Ia();f=f.Id();l=l.pG(m,f,this.$d);1<l.length&&(l=nc(l),b=oc(b+k.Ig(),l))&&(e=b.value);if(c(this.xi(),lc(this),e,g))switch(this.ml(e),g){case "plugin":return d.Be.wm}}Km(){const b=this.xa.ie(),e=lc(this),c=this.xi();
switch(b){case "behavior":return e.Wb(c);case "effect":return e[c];case "instance-variable":return e.uf(c);case "plugin":return e.Wb(c)}}ml(b){const e=this.xa.ie(),c=lc(this),f=this.xi();switch(e){case "behavior":c.we(f,b);break;case "effect":c[f]=b;break;case "instance-variable":c.no(f,b);break;case "plugin":c.we(f,b)}}}d.lb.Jg.zQ=a}
{"use strict";const d=self.C,a=new Map,b=(c,f,k,g,l)=>a.set(c,{Xja:f,hia:k,Xia:g,round:l});b("offsetX",(c,f)=>c.dH(f),(c,f)=>c.ye(f),c=>c.K(),!0);b("offsetY",(c,f)=>c.eH(f),(c,f)=>c.Ae(f),c=>c.L(),!0);b("offsetWidth",(c,f)=>c.BQ(f),(c,f)=>c.xe(f),c=>c.O(),!0);b("offsetHeight",(c,f)=>c.AQ(f),(c,f)=>c.Ve(f),c=>c.P(),!0);b("offsetAngle",(c,f)=>c.q5(f),(c,f)=>c.tc(f),c=>c.Y(),!1);b("offsetOpacity",(c,f,k,g)=>{k=c.vf()+f;0===g.cd?(1<k?g.cd+=k-1:0>k&&(g.cd+=k),c.r5(f)):(c=c.vf()+f,0<f&&0<g.cd?1<c&&(g.cd+=
c-1):0<f&&0>g.cd?(g.cd+=f,0<g.cd&&(g.cd=0)):0>f&&0<g.cd?(g.cd+=f,0>g.cd&&(g.cd=0)):0>f&&0>g.cd&&0>c&&(g.cd+=c))},(c,f)=>{c.Dj(f)},c=>c.vf(),!1);b("offsetOriginX",(c,f)=>c.s5(f),(c,f)=>c.Ts(f),c=>c.Kk(),!1);b("offsetOriginY",(c,f)=>c.t5(f),(c,f)=>c.Us(f),c=>c.Lk(),!1);b("offsetZElevation",(c,f)=>c.u5(f),(c,f)=>c.We(f),c=>c.Va(),!0);b("offsetScaleX",(c,f,k)=>{const g=0>c.O()?-1:1;c.BQ(k.Nk()*g*f)},(c,f,k)=>{c.xe(k.Nk()*f)},(c,f)=>{const k=0>c.O()?-1:1;if(c.Qp()){var g=c.Ja(),l=f.Ec().OP(g.Ia());l?g=
g.O()/l.Nk():(l=g.Ia().ra,g=l.$p()?g.O()/l.Nk():1);return c.O()*k/(f.Nk()*g)}return c.O()*k/f.Nk()},!1);b("offsetScaleY",(c,f,k)=>{const g=0>c.P()?-1:1;c.AQ(k.Mk()*g*f)},(c,f,k)=>{c.Ve(k.Mk()*f)},(c,f)=>{const k=0>c.P()?-1:1;if(c.Pp()){var g=c.Ja(),l=f.Ec().OP(g.Ia());l?g=g.P()/l.Mk():(l=g.Ia().ra,g=l.$p()?g.P()/l.Mk():1);return c.P()*k/(f.Mk()*g)}return c.P()*k/f.Mk()},!1);class e extends d.lb.Jg{constructor(c){super(c);this.cd=this.hc=0;this.WK=this.YK=this.XK=null;this.GX=!1;this.Tr=d.Yn(this.xa.Ec(),
d.q9)?new d.lb.Jg.p5(this):new d.lb.Jg.o5(this);c=this.xa.Za.$d;"world-instance"===this.xa.ie()&&(c=a.get(c),this.XK=c.Xia,this.YK=c.Xja,this.WK=c.hia,this.GX=c.round)}A(){this.WK=this.YK=this.XK=this.Tr=null;super.A()}PR(c){this.hc=c}Ld(){const c=this.Tr.Ld();"number"===typeof c&&(this.hc=c);this.cd=0}Mg(){const c=this.Tr.Mg();"number"===typeof c&&(this.hc=c)}sf(){return this.Km()}mj(){return this.xq()!==this.sf()}nj(){return d.Ue(this.Ui)?!1:this.Ui!==this.sf()}js(){this.Tr.js()}Gp(c,f,k,g,l,m,
q){return this.Tr.Gp(c,f,k,g,l,m,q)}hs(){this.Tr.hs()}Km(){const c=lc(this),f=this.xi(),k=this.xa.Fd,g=this.B();return mc(this,()=>c.Wb(f),()=>c[f],()=>c.uf(f),()=>c.Wb(f),()=>this.XK(g,k))}ml(c){const f=lc(this),k=this.xi(),g=this.xa.Fd,l=this.B();mc(this,()=>f.cH(k,c),()=>f[k]+=c,()=>f.c8(k,c),()=>f.cH(k,c),()=>this.YK(l,c,g,this))}cV(c){const f=lc(this),k=this.xi(),g=this.xa.Fd,l=this.B();mc(this,()=>f.we(k,c),()=>f[k]=c,()=>f.no(k,c),()=>f.we(k,c),()=>this.WK(l,c,g))}kt(c,f,k,g,l,m){this.Tr.kt(c,
f,k,g,l,m)}Hm(c,f,k){c=(c.toString().split(".")[1]||"").length;const g=this.Km();this.ml((0===c?this.GX?Math.round(g):g:d.toFixed(g,c))-g,f,k)}wa(){return Object.assign(super.wa(),{v:this.hc,a:this.cd})}Ca(c){c&&(super.Ca(c),this.hc=c.v,this.cd=c.a)}}d.lb.Jg.n5=e}
{"use strict";const d=self.C,a=new Map;class b{constructor(e){this.hf=e}A(){this.hf=null}Ld(){const e=this.hf,c=this.hf.nm();return jc(e,()=>ic(e,()=>0,()=>d.lb.Aj.xA(c)),()=>{})}Mg(){}js(){const e=this.hf,c=this.hf.nm(),f=c.Za.$d;jc(e,()=>{},()=>{var k=c.Ia();a.has(k)||a.set(k,new Map);k=a.get(k);const g=c.ie();k.has(g)||k.set(g,new Map);k=k.get(g);k.has(f)||k.set(f,{rz:!1,value:0})})}GT(e,c,f){e=a.get(e).get(c).get(f);e.rz=!0;return e}Gp(e,c,f,k,g,l){const m=this.hf,q=this.hf.nm(),r=q.Za.$d;jc(m,
()=>{const p=m.hc;m.ml(c-p,f,k);l&&this.kt(e,f,k,g,p,c);m.PR(c)},()=>{var p=q.Ec(),u=q.Fd;const t=q.Ia();var w=q.Id();const x=q.ie();w=p.pG(t,w,r);if(1<w.length){if(w=nc(w,!0),p=p.La(),p=oc(p,w))u=p.time-u.Ig(),0===u?this.GT(t,x,r).value+=c:0>u||(u=q.yb(u,!1,!0),this.GT(t,x,r).value+=c-u)}else m.cV(c)});return mc(m,()=>{},()=>d.Be.wm,()=>{},()=>d.Be.wm,()=>d.Be.wm)}hs(){const e=this.hf,c=this.hf.nm(),f=c.Za.$d;jc(e,()=>{},()=>{const k=c.Ia();if(a.has(k)){var g=a.get(k),l=c.ie();if(g.has(l)){var m=
g.get(l);if(m.has(f)){var q=m.get(f),r=q.value;q.rz&&e.cV(r);m.delete(f);0===m.size&&g.delete(l);0===g.size&&a.delete(k)}}}})}kt(e,c,f,k,g,l){const m=this.hf;k||(c&&e===c.La()?m.Hm(c.Fc(),c,f):f&&e===f.La()?m.Hm(f.Fc(),c,f):0===l-g&&m.Hm(c.Fc(),c,f))}}d.lb.Jg.o5=b}
{"use strict";const d=self.C;class a{constructor(b){this.hf=b}A(){this.hf=null}Ld(){const b=this.hf;b.Mt=!0;return this.sB(b.xq())}Mg(){const b=this.hf;if(b.xq()!==b.lB())return b.Mt=!0,this.sB(b.lB())}js(){}Gp(b,e,c,f,k,g){const l=this.hf,m=l.hc;jc(l,()=>{l.ml(e-m,c,f);g&&this.kt(b,c,f,k,m,e)},()=>{kc(l,()=>{l.ml(m,c,f)},()=>{l.ml(e-m,c,f);g&&this.kt(b,c,f,k,m,e)})});l.PR(e);return mc(l,()=>{},()=>d.Be.wm,()=>{},()=>d.Be.wm,()=>d.Be.wm)}hs(){}sB(b){return b-this.hf.sf()}kt(b,e,c,f,k,g){const l=this.hf;
f?e&&b===e.La()?l.Hm(e.Fc(),e,c):c&&b===c.La()?l.Hm(c.Fc(),e,c):c||l.Hm(e.Fc(),e,c):e&&b===e.La()?l.Hm(e.Fc(),e,c):c&&b===c.La()?l.Hm(c.Fc(),e,c):0===g-k&&l.Hm(e.Fc(),e,c)}}d.lb.Jg.p5=a}
{"use strict";const d=self.C,a=self.jv;d.lb.aH=class{constructor(){}static Gm(b,e,c,f){let k;switch(f){case "behavior":k=e.Wb(b);break;case "effect":k=e[b];break;case "instance-variable":k=e.uf(b);break;case "plugin":k=e.Wb(b)}return k===c?!1:!0}static yb(b,e,c,f){if(!c)return c=f.Za,c=f.wf().Np(c),c.Fc();var k=f.tj();"default"===k&&(k="continuous");"combo"===f.Cv()&&(k="discrete");if("discrete"===k)return e.Fc();if("continuous"===k||"step"===k){"step"===k&&(k=f.Ec().Ev(),0!==k&&(k=1/k,b=Math.floor(b*
k)/k));var g=e.La();const l=c.La();k=e.Fc();const m=c.Fc();if(k===m)return k;b=d.normalize(b,g,l);const q=e.Sn();e=e.NF("cubic-bezier");c=c.NF("cubic-bezier");e&&e.Dy&&c&&c.yC?(g=l-g,g=a.Op(q)(g*b,0,1,g),g=a.Op("cubicbezier")(g,k,k+e.zM,m+c.tK,m)):g=a.Op(q)((l-g)*b,k,m-k,l-g);return"integer"===f.Cv()?Math.floor(g):g}}}}
{"use strict";const d=self.C;d.lb.jO=class{constructor(){}static Gm(a,b,e,c){let f;switch(c){case "behavior":f=b.Wb(a);break;case "effect":f=b[a];break;case "instance-variable":f=b.uf(a);break;case "plugin":f=b.Wb(a)}return f===e?!1:!0}static yb(a,b,e,c){if(!e)return b=c.Za,b=c.wf().Np(b),b.Fc();var f=c.tj();"default"===f&&(f="continuous");"combo"===c.Cv()&&(f="discrete");if("discrete"===f)return b.Fc();if("continuous"===f||"step"===f){"step"===f&&(c=c.Ec().Ev(),0!==c&&(c=1/c,a=Math.floor(a*c)/c));
const k=b.La(),g=e.La();c=b.Fc();e=e.Fc();if(f=b.NF("angle")){const l=f.mM;if(c===e&&0===l)return c;a=d.normalize(a,k,g);b=self.jv.Op(b.Sn())(a,0,1,1);switch(f.lK){case "closest":return d.dN(c,e,b,l);case "clockwise":return d.oia(c,e,b,l);case "anti-clockwise":return d.nia(c,e,b,l)}}else{if(c===e)return c;a=d.normalize(a,k,g);b=self.jv.Op(b.Sn());return d.dN(c,e,b(a,0,1,1))}}}}}"use strict";
self.C.lb.pO=class{constructor(){}static Gm(d,a,b,e){let c;switch(e){case "behavior":c=a.Wb(d);break;case "effect":c=a[d];break;case "instance-variable":c=a.uf(d);break;case "plugin":c=a.Wb(d)}return!!c===!!b?!1:!0}static yb(d,a,b,e){return b?a.Fc()?1:0:(d=e.Za,d=e.wf().Np(d),d.Fc()?1:0)}};
{"use strict";const d=self.C,a=[0,0,0],b=[0,0,0],e=[0,0,0];d.lb.BO=class{constructor(){}static Gm(c,f,k,g){let l;switch(g){case "behavior":l=f.Wb(c);break;case "effect":l=f[c];break;case "instance-variable":l=f.uf(c);break;case "plugin":l=f.Wb(c)}Array.isArray(k)?(a[0]=k[0],a[1]=k[1],a[2]=k[2]):(e.RE(k),a[0]=Math.floor(255*e.ib),a[1]=Math.floor(255*e.Ma),a[2]=Math.floor(255*e.fb));Array.isArray(l)?(b[0]=l[0],b[1]=l[1],b[2]=l[2]):(e.RE(l),b[0]=Math.floor(255*e.ib),b[1]=Math.floor(255*e.Ma),b[2]=Math.floor(255*
e.fb));return a[0]!==b[0]||a[1]!==b[1]||a[2]!==b[2]?!0:!1}static yb(c,f,k,g){if(!k)return f=g.Za,f=g.wf().Np(f),f=f.Fc(),a[0]=f[0],a[1]=f[1],a[2]=f[2],a;var l=g.tj();"default"===l&&(l="continuous");if("discrete"===l)return f=f.Fc(),a[0]=f[0],a[1]=f[1],a[2]=f[2],a;if("continuous"===l||"step"===l){"step"===l&&(g=g.Ec().Ev(),0!==g&&(g=1/g,c=Math.floor(c*g)/g));g=f.La();l=k.La();var m=f.Fc(),q=k.Fc();const r=d.normalize(c,g,l);c=m[0];k=m[1];m=m[2];const p=q[0],u=q[1];q=q[2];f=self.jv.Op(f.Sn());g=l-g;
l=g*r;a[0]=c===p?c:f(l,c,p-c,g);a[1]=k===u?k:f(l,k,u-k,g);a[2]=m===q?m:f(l,m,q-m,g);return a}}}}"use strict";self.C.lb.gS=class{constructor(){}static Gm(d,a,b,e){let c;switch(e){case "behavior":c=a.Wb(d);break;case "effect":c=a[d];break;case "instance-variable":c=a.uf(d);break;case "plugin":c=a.Wb(d)}return c===b?!1:!0}static yb(d,a,b,e){return b?a.Fc():(d=e.Za,d=e.wf().Np(d),d.Fc())}};
{"use strict";const d=self.C;d.Ah=class{constructor(){this.Ky=new Map}A(){for(const a of this.Ky.values())a.A();this.Ky.clear();this.Ky=null}Jc(a){a=new d.k9(a);this.Ky.set(a.Ha(),a)}na(a){return this.Ky.get(a)}static uw(a,b,e,c){if(b)for(const f of b)d.Ah.LS("create",f,a,e,c)}static Ew(a,b,e,c){a.length?b.forEach((f,k)=>{a[k].Ca(f)}):b.forEach(f=>{d.Ah.LS("load",f,a,e,c)})}static LS(a,b,e,c,f){let k;if("function"===typeof c)switch(a){case "load":k=new c(null,f);break;case "create":k=new c(b,f)}else if("object"===
typeof c)switch(c=c.map.get(b[c.ZY]),a){case "load":k=new c(null,f);break;case "create":k=new c(b,f)}switch(a){case "load":k.Ca(b);e.push(k);break;case "create":"function"!==typeof k.lm||k.lm()?e.push(k):k.A()}}}}
{"use strict";const d=self.C;d.k9=class{constructor(a){this.Pa="";this.oE=NaN;this.jE=0;this.$g=this.Vg="default";this.ND=this.DD=!1;this.ru=1;this.Pf=null;a&&(this.Pa=a[0],this.oE=a[1],this.jE=a[2],this.Vg=a[3],this.$g=a[4],this.DD=!!a[6],this.ND=!!a[7],this.ru=a[8],this.Pf=new d.hS(a[5],this))}A(){this.Pf.A();this.Pf=null}uA(){this.Pf||(this.Pf=new d.hS(null,this));return this.Pf}Ha(){return this.Pa}aB(a){this.Pa=a}je(){return this.oE}Ev(){return this.jE}tj(){return this.Vg}xj(){return this.$g}ts(){return this.DD}vs(){return this.ND}Un(){return this.ru}wa(){return{trackDataJson:this.Pf.wa(),
name:this.Pa,totalTime:this.oE,step:this.jE,interpolationMode:this.Vg,resultMode:this.$g,loop:this.DD,pingPong:this.ND,repeatCount:this.ru}}Ca(a){a&&(this.uA().Ca(a.trackDataJson),this.Pa=a.name,this.oE=a.totalTime,this.jE=a.step,this.Vg=a.interpolationMode,this.$g=a.resultMode,this.DD=a.loop,this.ND=a.pingPong,this.ru=a.repeatCount)}}}
{"use strict";const d=self.C;class a{constructor(b,e){this.Pf=e;this.vo=this.XC=null;this.ln=this.Ym=NaN;this.$g=this.Vg="default";this.Jh=!1;this.Od=this.pk=null;this.If="";this.hu=null;this.AM=0;this.BD=this.Pf.Of.je();this.Ga=0;this.Pa="";b&&(b[0]&&(this.XC=b[0],this.Ym=b[0][2],this.ln=b[0][1]),this.Vg=b[1],this.$g=b[2],this.Jh=!!b[3],b[6]&&(this.If=b[6]),b[7]&&(this.hu=b[7],this.AM=b[7][0],this.BD=b[7][1]),b[8]&&(this.vo=b[8]),b[8]&&(this.vo=b[8]),b[9]&&(this.Ga=b[9]),b[10]&&(this.Pa=b[10]),this.pk=
new d.mQ(b[4],this),this.Od=new d.WQ(b[5],this))}A(){this.Pf=this.XC=null;this.pk&&(this.pk.A(),this.pk=null);this.Od&&(this.Od.A(),this.Od=null);this.hu=null}uA(){return this.Pf}vj(){this.pk||(this.pk=new d.mQ(null,this));return this.pk}wf(){this.Od||(this.Od=new d.WQ(null,this));return this.Od}hG(){return this.ln}zv(){return this.Ym}tj(){return this.Vg}xj(){return this.$g}lm(){return this.Jh}Em(b){this.Jh=!!b}Hk(){return this.If}Ig(){return this.AM}mm(){return this.BD}Nk(){return this.vo[0]}Mk(){this.vo||
(this.vo=[]);return this.vo[1]}Sk(){return this.Ga}Ha(){return this.Pa}wa(){return{keyframeDataJson:this.pk.wa(),propertyTrackDataJson:this.Od.wa(),instanceData:this.XC,additionalInstanceData:this.vo,instanceUid:this.Ym,objectClassIndex:this.ln,interpolationMode:this.Vg,resultMode:this.$g,enabled:this.Jh,id:this.If,nestedData:this.hu,type:this.Ga,name:this.Pa}}Ca(b){b&&(this.XC=b.instanceData,this.Ym=b.instanceUid,this.ln=b.objectClassIndex,this.Vg=b.interpolationMode,this.$g=b.resultMode,this.Jh=
b.enabled,this.If=b.id,this.Ga=b.type?b.type:0,this.Ga=b.name?b.name:"",this.BD=this.Pf.Of.je(),b.nestedData&&(this.hu=b.nestedData,this.AM=this.hu[0],this.BD=this.hu[1]),b.additionalInstanceData&&(this.vo=b.additionalInstanceData),this.vj().Ca(b.keyframeDataJson),this.wf().Ca(b.propertyTrackDataJson))}}d.hS=class{constructor(b,e){this.Of=e;this.Pr=[];this.Tx=new Map;d.Ah.uw(this.Pr,b,a,this)}A(){this.Of=null;for(const b of this.Pr)b.A();d.G(this.Pr);this.Pr=null;this.Tx.clear();this.Tx=null}q2(b,
e){const c=this.Tx.get(e);if(c&&c.has(b))return c.get(b);for(const f of e.vj().MY())if(f.La()===b)return c||this.Tx.set(e,new Map),this.Tx.get(e).set(b,f),f}Z1(b,e){for(const c of e.vj().MY())if(c.La()>=b)return c}a2(b,e){for(const c of e.vj().qja())if(c.La()<=b)return c}*dka(){for(const b of this.Pr)yield b}wa(){return{trackDataItemsJson:this.Pr.map(b=>b.wa())}}Ca(b){b&&d.Ah.Ew(this.Pr,b.trackDataItemsJson,a,this)}}}
{"use strict";const d=self.C;class a{constructor(b,e){this.Od=e;this.bE="";this.Ga=this.$d=this.Th=null;this.HL=this.LL=NaN;this.$g=this.Vg="default";this.Jh=!1;this.Jl=null;b&&(this.bE=b[0][0],this.Th=b[0].slice(1),this.$d=b[1],this.Ga=b[2],this.LL=b[3],this.HL=b[4],this.Vg=b[5],this.$g=b[6],this.Jh=!!b[7],this.Jl=new d.VQ(b[8],this))}A(){this.Jl.A();this.Th=this.Od=this.Jl=null}wf(){return this.Od}wj(){this.Jl||(this.Jl=new d.VQ(null,this));return this.Jl}ie(){return this.bE}Sk(){return this.Ga}$R(b){this.Ga=
b}tj(){return this.Vg}xj(){return this.$g}lm(){return this.Jh}Em(b){this.Jh=!!b}wa(){return{propertyKeyframeDataJson:this.Jl.wa(),sourceAdapterId:this.bE,sourceAdapterArguments:this.Th,property:this.$d,type:this.Ga,min:this.LL,max:this.HL,interpolationMode:this.Vg,resultMode:this.$g,enabled:this.Jh}}Ca(b){b&&(this.bE=b.sourceAdapterId,this.Th=b.sourceAdapterArguments,this.$d=b.property,this.Ga=b.type,this.LL=b.min,this.HL=b.max,this.Vg=b.interpolationMode,this.$g=b.resultMode,this.Jh=b.enabled,this.wj().Ca(b.propertyKeyframeDataJson))}}
d.WQ=class{constructor(b,e){this.kc=e;this.Br=[];this.my=new Map;d.Ah.uw(this.Br,b,a,this)}A(){this.kc=null;for(const b of this.Br)b.A();d.G(this.Br);this.Br=null;this.my.clear();this.my=null}gA(b){return b.wj().ed[0]}Np(b){return b.wj().ed.Pe(-1)}kG(b,e){const c=this.my.get(e);if(c&&c.has(b))return c.get(b);const f=e.wj();for(const k of f.PN())if(k.La()===b)return c||this.my.set(e,new Map),this.my.get(e).set(b,k),k}nP(b,e){e=e.wj();for(const c of e.PN())if(c.La()>b)return c}YF(b,e){e=e.wj();for(const c of e.PN())if(c.La()>=
b)return c}ZF(b,e){e=e.wj();for(const c of e.Jja())if(c.La()<=b)return c}*Lja(){for(const b of this.Br)yield b}wa(){return{propertyTrackDataItemsJson:this.Br.map(b=>b.wa())}}Ca(b){b&&d.Ah.Ew(this.Br,b.propertyTrackDataItemsJson,a,this)}}}
{"use strict";const d=self.C;class a{constructor(b,e){this.pk=e;this.gd=-1;this.bk="noease";this.ck=!1;this.$x=this.Vh=null;b&&(this.gd=b[0],this.bk=b[1],this.ck=!!b[2],this.Vh=(b=b[3])?b.split(" "):[],this.$x=new Set(this.Vh.map(c=>c.toLowerCase())))}A(){this.pk=null;d.G(this.Vh);this.Vh=null;this.$x.clear();this.$x=null}vj(){return this.pk}La(){return this.gd}Ys(b){this.gd=b}Sn(){return this.bk}$k(b){this.bk=b}lm(){return this.ck}Em(b){this.ck=!!b}Xs(b){this.Vh=b?b.split(" "):[];this.$x=new Set(this.Vh.map(e=>
e.toLowerCase()))}wa(){return{time:this.gd,ease:this.bk,enable:this.ck,tags:this.Vh}}Ca(b){b&&(this.gd=b.time,this.bk=b.ease,this.ck=b.enable,this.Vh=b.tags,this.$x=new Set(this.Vh.map(e=>e.toLowerCase())))}}d.mQ=class{constructor(b,e){this.kc=e;this.dd=[];d.Ah.uw(this.dd,b,a,this)}A(){this.kc=null;for(const b of this.dd)b.A();d.G(this.dd);this.dd=null}zZ(){const b=new a(null,this);this.dd.push(b);return b}$_(b){for(const e of this.dd){if(!b(e))continue;const c=this.dd.indexOf(e);-1!==c&&(e.A(),this.dd.splice(c,
1))}this.U8()}U8(){this.dd.sort((b,e)=>b.La()-e.La())}s2(b){return this.dd.indexOf(b)}r2(b){return this.dd[b]}*MY(){for(const b of this.dd)yield b}*qja(){for(let b=this.dd.length-1;0<=b;b--)yield this.dd[b]}wa(){return{keyframeDataItemsJson:this.dd.map(b=>b.wa())}}Ca(b){b&&d.Ah.Ew(this.dd,b.keyframeDataItemsJson,a,this)}}}
{"use strict";const d=self.C;class a{constructor(b,e){this.Jl=e;this.Ai=this.Sd=null;this.Ga="";this.gd=NaN;this.bk="noease";this.ck=!1;this.Pj=null;b&&(this.Sd=b[0][0],this.Ai=b[0][1],this.Ga=b[0][2],this.gd=b[1],this.bk=b[2],this.ck=!!b[3],this.Pj=null,b[4]&&(this.Pj=new d.NZ(b[4],this)))}A(){this.Jl=null;this.Pj&&(this.Pj.A(),this.Pj=null)}Jd(){return this.Sd}yh(b){"color"===this.Ga&&d.Xn(b)?(this.Sd[0]=d.mG(b),this.Sd[1]=d.aG(b),this.Sd[2]=d.PF(b)):this.Sd=b}vR(b){"color"===this.Ga&&d.Xn(b)?(this.Ai[0]=
d.mG(b),this.Ai[1]=d.aG(b),this.Ai[2]=d.PF(b)):this.Ai=b}Fc(){const b=this.Jl.Za.xj();if("relative"===b)return this.Jd();if("absolute"===b)return this.Ai}Sk(){return this.Ga}$R(b){this.Ga=b}La(){return this.gd}Ys(b){this.gd=b}Sn(){return this.bk}$k(b){this.bk=b}lm(){return this.ck}Em(b){this.ck=!!b}NF(b){if(this.Pj)for(const e of this.Pj.iia())if(e.Hk()===b)return e}wa(){const b=this.Pj;return{addonDataJson:b?b.wa():b,value:this.Sd,aValue:this.Ai,type:this.Ga,time:this.gd,ease:this.bk,enable:this.ck}}Ca(b){b&&
(b.addonDataJson&&this.Pj.Iwa(b.addonDataJson),this.Sd=b.value,this.Ai=b.aValue,this.Ga=b.type,this.gd=b.time,this.bk=b.ease,this.ck=b.enable)}}d.VQ=class{constructor(b,e){this.Za=e;this.ed=[];d.Ah.uw(this.ed,b,a,this)}A(){this.Za=null;for(const b of this.ed)b.A();d.G(this.ed);this.ed=null}AZ(){const b=new a(null,this);this.ed.push(b);return b}b0(b){for(const e of this.ed){if(!b(e))continue;const c=this.ed.indexOf(e);-1!==c&&(e.A(),this.ed.splice(c,1))}this.V8()}V8(){this.ed.sort((b,e)=>b.La()-e.La())}*PN(){for(const b of this.ed)yield b}*Jja(){for(let b=
this.ed.length-1;0<=b;b--)yield this.ed[b]}wa(){return{propertyKeyframeDataItemsJson:this.ed.map(b=>b.wa())}}Ca(b){b&&d.Ah.Ew(this.ed,b.propertyKeyframeDataItemsJson,a,this)}}}
{"use strict";const d=self.C;class a{constructor(c,f){this.Pj=f;this.If=c[0];this.Wm=c[1]}A(){this.Wm=this.Pj=null}Hk(){return this.If}wa(){return{id:this.If,data:this.Wm}}Ca(c){c&&(this.If=c.id,this.Wm=c.data)}}class b extends a{constructor(c,f){super(c,f);this.zM=this.Wm[0];this.Dy=!!this.Wm[1];this.tK=this.Wm[2];this.yC=!!this.Wm[3]}A(){super.A()}wa(){return Object.assign(super.wa(),{startAnchor:this.zM,startEnable:!!this.Dy,endAnchor:this.tK,endEnable:!!this.yC})}Ca(c){c&&(super.Ca(c),this.zM=
c.startAnchor,this.Dy=!!c.startEnable,this.tK=c.endAnchor,this.yC=!!c.endEnable)}}class e extends a{constructor(c,f){super(c,f);this.lK=this.Wm[0];this.mM=this.Wm[1]}A(){super.A()}wa(){return Object.assign(super.wa(),{direction:this.lK,revolutions:this.mM})}Ca(c){c&&(super.Ca(c),this.lK=c.direction,this.mM=c.revolutions)}}d.NZ=class{constructor(c){this.Fq=[];d.Ah.uw(this.Fq,c,{ZY:0,map:new Map([["cubic-bezier",b],["angle",e]])},this)}A(){for(const c of this.Fq)c.A();d.G(this.Fq);this.Fq=null}*iia(){for(const c of this.Fq)yield c}wa(){return{addonDataItemsJson:this.Fq.map(c=>
c.wa())}}Ca(c){c&&d.Ah.Ew(this.Fq,c.addonDataItemsJson,{ZY:"id",map:new Map([["cubic-bezier",b],["angle",e]])},this)}}}
{"use strict";const d=self.C;let a=0;d.q9=class extends d.Be{constructor(b,e){super(`tween-${a++}`,b,e);this.If="";this.KV=!1;this.SK="start-value";this.jX=this.iX=null}Ia(){var b=this.$b;if(b&&b.length&&(b=b[0])){var e=b.Ia();return b.um()?e:null}}Hk(){return this.If}PQ(){if(this.jX)for(const b of this.jX)b(this);if(!this.Rg)for(const b of this.$b)b.nj()}FQ(){this.yt=this.j.Nl}WO(){if(!this.Vq&&(this.Vq=!0,this.iX))for(const b of this.iX)b(this)}Ys(b){this.QS();super.Ys(b)}Ld(b){if(!this.Jo&&"current-state"===
this.SK)for(const e of this.$b)e.mj();super.Ld(b)}Og(b=!1){super.Og(b);if(!this.Rg)for(const e of this.$b)e.nq()}Wd(b=!0,e=!1){this.QS();super.Wd(b,e)}QS(){for(const b of this.$b){const e=c=>{c=c.La();const f=this.je();return 0!==c&&c!==f};b.a0(e);b.EF(e)}}CB(){if(this.Ti)return!0;const b=this.Ia();if(b&&b.M().uh())return!1;this.Qb.Gz(this);this.mR();return!0}wQ(){}Md(){const b=this.Ia();super.Md(this.N().Gk(b),1)}wa(){const b=super.wa();return Object.assign(b,{tweenDataItemJson:this.Of.wa(),id:this.If,
destroyInstanceOnComplete:this.KV,initialValueMode:this.SK})}Ca(b){b&&(this.Of.Ca(b.tweenDataItemJson),super.Ca(b),this.If=b.id,this.KV=b.destroyInstanceOnComplete,this.SK=b.initialValueMode)}static IsPlaying(b){return b.IsPlaying()}}}
{"use strict";const d=self.C,a=self.jv;d.kS=class extends d.oa{constructor(b){super();this.Pa=b[0];this.Zi=[];for(const e of b[1])b=d.lS.$a(this,e),this.Zi.push(b);this.ky=new Map;this.pE=new Map;this.Xda();a.yZ(this.Pa,(e,c,f,k)=>this.yb(e,c,f,k))}static $a(b){return d.F(d.kS,b)}A(){for(const b of this.Zi)b.A();d.G(this.Zi);this.Zi=null;this.ky.clear();this.ky=null;this.pE.clear();this.pE=null}O2(b){const e=this.pE.get(b);if(e)return e;for(const c of this.Zi)if(c.Qf===b)return this.pE.set(b,c),c}d2(b){for(const e of this.Zi)if(e.Qf>
b)return e}c2(b){for(const e of this.Zi)if(e.Qf>=b)return e}e2(b){for(let e=this.Zi.length-1;0<=e;e--){const c=this.Zi[e];if(c.Qf<=b)return c}}yb(b,e,c,f){var k=b/f;(b=this.O2(k))?f=this.d2(k):(b=this.e2(k),f=this.c2(k));k=d.xja(k,b.Qf,f.Qf,f.Qf-b.Qf);const g=b.Qf,l=b.Sy,m=b.Qf+b.TX,q=b.Sy+b.Yha,r=f.Qf+f.SV,p=f.Sy+f.gha,u=f.Qf;f=f.Sy;f=a.Op("spline")(k,g,l,m,q,r,p,u,f,this.ky.get(b));f+=b.Sy;return(1-f)*e+f*(e+c)}Xda(){this.ky.clear();for(let e=0;e<this.Zi.length-1;e++){var b=this.Zi[e];if(!b.Dy)continue;
const c=this.Zi[e+1];this.ky.set(b,a.F1(b.Qf,b.Qf+b.TX,c.Qf+c.SV,c.Qf))}}}}{"use strict";const d=self.C;d.lS=class extends d.oa{constructor(a,b){super();this.Qf=b[0];this.Sy=b[1];this.TX=b[2];this.Yha=b[3];this.SV=b[4];this.gha=b[5];this.Dy=b[6];this.yC=b[7]}A(){}static $a(a,b){return d.F(d.lS,a,b)}}}{"use strict";const d=self.C;d.p9=class extends d.oa{constructor(a){super();this.j=a;this.qE=[]}A(){for(const a of this.qE)a.A();d.G(this.qE);this.qE=null}$a(a){this.qE.push(d.kS.$a(a))}}}
{"use strict";const d=self.C;d.T8=class extends d.oa{constructor(a){super();this.R=a;this.tb=[];this.tb.push(d.F(d.VH,this));this.ab=0;this.Yj=this.tb[0]}A(){for(const a of this.tb)a.A();d.G(this.tb);this.R=this.Yj=null}M(){return this.R}ia(){return this.Yj}Vc(){this.ia().Vc()}H6(){var a=this.tb,b=++this.ab;b===a.length?(b=d.F(d.VH,this),a.push(b),this.Yj=b):(a=a[b],a.Wd(),this.Yj=a)}I6(){const a=this.tb,b=++this.ab;b===a.length&&a.push(d.F(d.VH,this));const e=a[b];e.F_(a[b-1]);this.Yj=e}Na(){this.Yj=
this.tb[--this.ab]}jq(a){const b=this.tb;for(let e=0,c=b.length;e<c;++e)b[e].jq(a)}}}
{"use strict";const d=self.C;d.VH=class extends d.oa{constructor(a){super();this.tb=a;this.R=this.tb.M();this.ne=this.R.N().Ad();this.jc=!0;this.J=[];this.yc=[]}A(){this.Cz();this.ne=this.R=this.tb=null}Cz(){d.G(this.J);d.G(this.yc)}M(){return this.R}yG(){return this.jc?!!this.R.J.length:!!this.J.length}qa(){return this.jc?this.R.qa():this.J}X2(){return!!this.yc.length}lP(){const a=this.qa();return a.length?a:this.yc}Wd(){this.jc=!0;d.G(this.yc)}Vc(){this.jc=!0}F_(a){a.jc?this.Wd():(this.jc=!1,d.jd(this.J,
a.J),d.G(this.yc))}Bq(a){this.J.push(a)}uo(a){this.yc.push(a)}Ye(a){this.jc=!!a}al(a){this.jc=!1;d.G(this.J);this.J.push(a)}Yv(a){this.jc=!1;d.jd(this.J,a)}jw(a){this.jc=!1;d.G(this.J);for(const b of a)this.J.push(b)}hO(a,b){for(const e of b)a.has(e)||this.yc.push(e)}n9(a){for(const b of a)this.J.push(b);d.ai(this.yc,a)}co(a){a&&(this.ne.Zf().Rb().pe?(this.jc&&(d.G(this.J),d.jd(this.yc,a.M().qa()),this.jc=!1),a=this.yc.indexOf(a),-1!==a&&(this.J.push(this.yc[a]),this.yc.splice(a,1))):this.al(a))}jq(a){d.ai(this.J,
a);d.ai(this.yc,a)}}}
{"use strict";const d=self.C;d.n1=class extends d.oa{constructor(a){super();this.Ba=a;this.j=this.Ba.N();this.tb=[];this.tb.push(d.F(d.SO,this,null));this.ab=0;this.AC=[]}A(){for(const a of this.tb)a.A();d.G(this.tb);d.G(this.AC);this.j=this.Ba=null}ta(){return this.Ba}N(){return this.j}Zf(){return this.tb[this.ab]}Oa(a){var b=this.tb;const e=++this.ab;if(e===b.length)return a=d.F(d.SO,this,a),b.push(a),a;b=b[e];b.Wd(a);return b}Na(){--this.ab}J6(a){this.AC.push(a)}A6(){this.AC.pop()}K1(){const a=this.AC;
return 0===a.length?null:a.Pe(-1)}}}
{"use strict";const d=self.C;d.SO=class extends d.oa{constructor(a,b){super();this.tb=a;this.j=this.tb.N();this.jx=b;this.Pg=this.Tm=0;this.sK=this.lr=!1;this.xK=null;this.FK=this.bW=0}A(){this.Wd(null);this.j=this.tb=null}Wd(a){this.jx=a;this.Pg=this.Tm=0;this.sK=this.lr=!1}eJ(a,b){this.jx=a;this.Tm=0;this.Pg=b}nR(){this.Pg=this.Tm=0}Rb(){return this.jx}xh(a){this.jx=a}ko(a){this.Tm=a}WA(a){this.Pg=a}oo(a){this.lr=!!a}Qs(a){this.sK=!!a}Q7(a){this.xK=a}I3(a,b){this.bW=a;this.FK=b}$A(a){this.FK=a}Uk(){const a=
this.jx;return a.nD?!0:this.Tm<a.oc.length-1?!!a.Ud().length:!1}}}{"use strict";const d=self.C;d.Z4=class extends d.oa{constructor(a){super();this.Ba=a;this.j=this.Ba.N();this.tb=[];this.ab=-1;this.Yj=null;this.VC=[]}A(){d.G(this.tb);this.j=this.Ba=null}Hfa(a){this.VC=a;a=this.VC.slice(0);this.tb.push(a);this.ab=0;this.Yj=a}ta(){return this.Ba}N(){return this.j}sj(){return this.Yj}Oa(){const a=++this.ab,b=this.tb;a===b.length?b.push(this.VC.slice(0)):d.jd(b[a],this.VC);this.Yj=b[a]}Na(){this.Yj=this.tb[--this.ab]}}}
{"use strict";const d=self.C;d.b5=class extends d.oa{constructor(a){super();this.Ba=a;this.j=this.Ba.N();this.tb=[];this.ab=-1}A(){d.G(this.tb);this.j=this.Ba=null}ta(){return this.Ba}N(){return this.j}gQ(){return 0<=this.ab}sj(){return this.tb[this.ab]}Oa(){++this.ab;if(this.ab===this.tb.length){var a=d.F(d.a5,this);this.tb.push(a);return a}a=this.tb[this.ab];a.Wd();return a}Na(){--this.ab}u1(a){const b=this.tb;for(let e=this.ab;0<=e;--e){const c=b[e];if(c.Ha()===a)return c}return null}}}
{"use strict";const d=self.C;d.a5=class extends d.oa{constructor(a){super();this.qg=a;this.Pa="";this.ab=0;this.Hc=!1}Wd(){this.Pa="";this.ab=0;this.Hc=!1}aB(a){this.Pa=a}Ha(){return this.Pa}Xc(a){this.ab=a}Ka(){return this.ab}Og(){this.Hc=!0}}}{"use strict";const d=self.C;d.VZ=class extends d.oa{constructor(){super();this.tb=[];this.ab=-1}A(){d.G(this.tb)}sj(){return this.tb[this.ab]}Oa(){++this.ab;if(this.ab===this.tb.length){const a=[];this.tb.push(a);return a}return this.tb[this.ab]}Na(){--this.ab}}}
{"use strict";const d=self.C;function a(b,e){return b.Ka()-e.Ka()}d.m1=class extends d.oa{constructor(b){super();this.j=b;this.Ww=[];this.qM=new Map;this.MJ=[];this.fW=new Map;this.aK=new Map;this.gK=new Map;this.TB=new Map;this.vV=new Map;this.vK=new Map;this.Nha=0;this.LJ=[];this.Lga=[];this.VW=[];this.DK=new Map;this.ne=d.F(d.n1,this);this.Nd=d.F(d.Z4,this);this.qg=d.F(d.b5,this);this.LM=[];this.UD=[];this.TD=[];this.$J=this.Kh=this.vn=0;this.ah=[];this.aC=[];self.c3_callFunction=(e,c)=>this.BB(e,
c)}A(){this.Bz();this.ne.A();this.ne=null;this.Nd.A();this.Nd=null;d.G(this.UD);d.G(this.TD);this.j=null;d.G(this.Ww);this.qM.clear()}$a(b){b=d.F(d.l1,this,b);this.Ww.push(b);this.qM.set(b.Ha().toLowerCase(),b)}h$(b){this.LM.push(b)}Zb(){for(const b of this.DK.values())b.Zb(!1);for(const b of this.Ww)b.Zb();for(const b of this.Ww)b.yJ();for(const b of this.LM)b.Zb(!1);d.G(this.LM);this.Nd.Hfa(this.VW)}N(){return this.j}kP(b){return this.qM.get(b.toLowerCase())||null}jea(b){this.MJ.push(b);this.fW.set(b.eW,
b)}gea(b){this.aK.set(b.cb,b)}fea(b){this.gK.set(b.cb,b)}eea(b){this.TB.set(b.cb,b)}iea(b){this.DK.set(b.MC.toLowerCase(),b)}hea(b){this.vK.set(b.cb,b);b.uh()?this.LJ.push(b):this.Lga.push(b)}nB(b){2<=b.length&&b.sort(a);let e=this.vV.get(b.length);e||(e=[],this.vV.set(b.length,e));for(let f=0,k=e.length;f<k;++f){const g=e[f];a:{for(let l=0,m=b.length;l<m;++l)if(b[l]!==g[l]){var c=!1;break a}c=!0}if(c)return g}e.push(b);return b}Hba(b){this.VW.push(b.rb);return this.Nha++}Ad(){return this.ne}Yf(){return this.Ad().Zf()}Rb(){return this.Yf().Rb()}Xf(){const b=
this.Yf();return b.Rb().gP(b.Tm)}wv(){const b=this.Yf();return b.Rb().ZO(b.Pg)}A1(b){const e=[];for(b=b.xs();b;)d.Gn(e,b.iT()),b=b.xs();return e}zT(b){const e={};for(const c of this.A1(b))e[c.uj()]=c.CT();return Object.create(Object.prototype,e)}XF(b){return this.vK.get(b)||null}Q1(b){return this.aK.get(b)||null}z1(b){return this.TB.get(b)||null}iA(b){return this.DK.get(b.toLowerCase())||null}f7(){for(const b of this.LJ)b.k7()}jP(b){return this.fW.get(b.toLowerCase())||null}R1(b){return(b=this.aK.get(b))&&
b.nk?b:null}g7(){for(const b of this.MJ)b.h7()}zU(){for(const b of this.Ww)b.zea()}q7(b){this.zU();this.vn++;for(const e of b.pz())if(b=e.Oc)this.j.hq(e),b.za(),this.j.fq();this.vn--}async V_(b){this.zU();this.vn++;for(const e of this.uaa(b))await this.j.ns(e);this.vn--}*uaa(b){for(const e of b.pz())if(b=e.Oc)this.j.hq(e),yield*b.xb(),this.j.fq()}Uw(b,e,c,f){let k=!1;if(!b.Nb())return this.lH(e,c,f);this.Kh++;for(const g of b.pz())if(b=g.Oc){this.j.hq(g);for(const l of b.Ft){const m=l.Uw(e,c,f);k=
k||m}b=b.Uw(e,c,f);k=k||b;this.j.fq()}this.Kh--;return k}*xw(b,e,c,f){let k=!1;if(!b.Nb())return this.lH(e,c,f);this.Kh++;for(const g of b.pz())if(b=g.Oc){this.j.hq(g);for(const l of b.Ft){const m=yield*l.xw(e,c,f);k=k||m}b=yield*b.xw(e,c,f);k=k||b;this.j.fq()}this.Kh--;return k}lH(b,e,c){this.UD.push([b,e,c]);return!1}O6(b,e,c){let f=null;const k=new Promise(g=>f=g);this.TD.push([b,e,c,f]);return k}*Jea(){if(this.j.Mv())throw Error("should not be in breakpoint");const b=this.j.hb;for(;this.TD.length;){const [e,
c,f,k]=this.TD.shift(),g=yield*this.xw(b,e,c,f);k(g)}}async pR(){for(const b of this.Jea())await this.j.ns(b)}rB(b,e,c,f){let k=!1;var g=b.Nb();if(b=g.Oc){this.Kh++;this.j.hq(g);g=b.Ft;for(let l=0,m=g.length;l<m;++l){const q=g[l].rB(e,c,f);k=k||q}e=b.rB(e,c,f);k=k||e;this.j.fq();this.Kh--;return k}}*mB(b,e,c,f){let k=!1;var g=b.Nb();if(b=g.Oc){this.Kh++;this.j.hq(g);g=b.Ft;for(let l=0,m=g.length;l<m;++l){const q=yield*g[l].mB(e,c,f);k=k||q}e=yield*b.mB(e,c,f);k=k||e;this.j.fq();this.Kh--;return k}}QG(){return 0<
this.Kh}Cw(){return++this.Kh}yw(){--this.Kh}C4(){return 0<this.vn}FA(){return this.C4()||this.QG()}Kea(b){for(const [e,c,f]of this.UD)this.Uw(b,e,c,f);d.G(this.UD)}qf(b){b?this.$J++:this.$J--}fQ(){return 0<this.$J}ls(b){for(let e=0,c=b.length;e<c;++e)b[e].fp.Vc()}vh(b){for(let e=0,c=b.length;e<c;++e)b[e].fp.H6()}zf(b){for(let e=0,c=b.length;e<c;++e)b[e].fp.I6()}Yb(b){for(let e=0,c=b.length;e<c;++e)b[e].fp.Na()}lF(){const b=d.F(d.xH,this);this.ah.push(b);return b}s7(){if(this.ah.length){var b=this.Yf(),
e=!1;this.vn++;for(let c=0,f=this.ah.length;c<f;++c){const k=this.ah[c];k.dV()&&k.Bea(b);k.xy&&(e=!0)}e&&this.eT();this.vn--}}async X_(){if(this.ah.length){var b=this.Yf(),e=!1;this.vn++;for(let c=0,f=this.ah.length;c<f;++c){const k=this.ah[c];k.dV()&&await k.oaa(b);k.xy&&(e=!0)}e&&this.eT();this.vn--}}eT(){const b=d.qia(this.ah,e=>e.xy);for(const e of b)e.A()}Bz(){for(const b of this.ah)b.A();d.G(this.ah)}W6(b){for(const e of this.ah)e.jq(b)}gF(b){this.aC.push(b)}Dz(){d.G(this.aC)}G2(){const b=Promise.all(this.aC);
this.aC=[];return b}wa(){return{groups:this.Rea(),cnds:this.Qea(),acts:this.Pea(),vars:this.bfa(),waits:this.Yea()}}Ca(b){this.Dca(b.groups);this.xca(b.cnds);this.vca(b.acts);this.Pca(b.vars);this.Lca(b.waits)}Rea(){const b={};for(const e of this.MJ)b[e.cb.toString()]=e.Bs();return b}Dca(b){for(const [e,c]of Object.entries(b))(b=this.R1(parseInt(e,10)))&&b.rq(c)}Qea(){const b={};for(const [e,c]of this.gK){const f=c.wa();f&&(b[e.toString()]=f)}return b}xca(b){const e=new Map;for(const [c,f]of Object.entries(b))e.set(parseInt(c,
10),f);for(const [c,f]of this.gK)f.Ca(e.get(c)||null)}Pea(){const b={};for(const [e,c]of this.TB){const f=c.wa();f&&(b[e.toString()]=f)}return b}vca(b){const e=new Map;for(const [c,f]of Object.entries(b))e.set(parseInt(c,10),f);for(const [c,f]of this.TB)f.Ca(e.get(c)||null)}bfa(){const b={};for(const [e,c]of this.vK)c.Ib||!c.uh()&&!c.Li||(b[e.toString()]=c.Jd());return b}Pca(b){for(const [e,c]of Object.entries(b))(b=this.XF(parseInt(e,10)))&&b.yh(c)}Yea(){return this.ah.filter(b=>!b.A4()).map(b=>
b.wa())}Lca(b){this.Bz();for(const e of b)(b=d.xH.P$(this,e))&&this.ah.push(b)}LF(b){for(;b;)if(b=b.xs(),b instanceof d.rv)return b;return null}BB(b,e){Array.isArray(e)||(e=[]);b=this.iA(b.toLowerCase());if(!b)return null;if(!b.ke())return b.yv();var c=b.Lh;if(e.length<c.length){e=e.slice(0);do e.push(c[e.length].rb);while(e.length<c.length)}c=b.tf();return c.vH(c.Vd(),b.tn,b.yv(),...e)}}}
{"use strict";const d=self.C;d.l1=class extends d.oa{constructor(a,b){super();this.Ba=a;this.j=a.N();this.Pa=b[0];this.zC=[];this.uE=new Map;this.EC=new Map;this.hha=new Map;this.yx=!1;this.MX=[];this.Ft=[];this.wV=new Set;for(const e of b[1])this.MS(e,null,this.zC);this.uk=this.j.Bb?{type:"sheet",name:this.Pa,qz:0,children:[]}:null}A(){this.j=this.Ba=null}MS(a,b,e){switch(a[0]){case 0:case 3:this.N$(a,b,e);break;case 1:this.O$(a,b,e);break;case 2:this.S$(a,b,e);break;case 4:this.Q$(a,b);break;case 5:this.aaa(a,
b,e);break;default:throw Error("invalid event type");}}N$(a,b,e){a=d.em.$a(this,b,a);if(a.pe){e.push(a);e=a.oc;for(let c=0,f=e.length;c<f;++c)e[c].bq()&&this.PT(a,c)}else a.bq()?this.PT(a,0):e.push(a)}Q$(a,b){a=d.rv.$a(this,b,a);this.Ba.iea(a)}O$(a,b,e){a=d.Qz.$a(this,b,a);e.push(a)}S$(a,b,e){a=d.RO.$a(this,b,a);e.push(a)}aaa(a,b,e){a=d.Pz.$a(this,b,a);e.push(a)}PT(a,b){a.pe||this.Ba.h$(a);var e=a.gP(b),c=e.Ra,f=e.M();if(e.AW){var k=this.EC.get(f);k||(k=new Map,this.EC.set(f,k));e=e.V1().toLowerCase();
f=k.get(c);f||(f=new Map,k.set(c,f));c=f.get(e);c||(c=[],f.set(e,c));c.push([a,b])}else k=this.uE.get(f),k||(k={AN:new Map,Xy:new Map},this.uE.set(f,k)),(f=e.fi())?(e=k.Xy.get(f),e||(e=new Map,k.Xy.set(f,e))):e=k.AN,k=e.get(c),k||(k=[],e.set(c,k)),k.push([a,b])}Zb(){const a=this.zC;for(let b=0,e=a.length;b<e;++b)a[b].Zb(b<e-1&&a[b+1]instanceof d.em&&a[b+1].EA())}f$(a){this.MX.push(a)}yJ(){d.G(this.Ft);this.wS(this);this.wV.clear()}wS(a){const b=a.Ft,e=a.wV;for(const c of this.MX){const f=c.Dx;c.Tb&&
a!==f&&!e.has(f)&&(e.add(f),f.wS(a),b.push(f))}}ta(){return this.Ba}N(){return this.j}Ha(){return this.Pa}tU(a,b){this.hha.set(b,a)}zea(){this.yx=!1}za(){if(!this.yx){var a=this.j,b=a.IG(),e=b?performance.now():0;this.yx=!0;var c=this.ta(),f=c.Yf();for(const k of this.zC)k.za(f),c.ls(k.Ud()),c.Dz(),a.te();f.Wd(null);b&&(this.uk.qz+=performance.now()-e)}}*xb(){if(!this.yx){this.yx=!0;var a=this.j,b=this.ta(),e=b.Yf();for(const c of this.zC)yield*c.xb(e),b.ls(c.Ud()),b.Dz(),a.te();e.Wd(null)}}Uw(a,
b,e){if(b){const c=b.M();this.wJ(a,b,c,e);for(const f of c.Ii)this.wJ(a,b,f,e)}else return this.wJ(a,b,null,null)}wJ(a,b,e,c){e=this.uE.get(e);if(!e)return!1;c=c?e.Xy.get(c):e.AN;if(!c)return!1;c=c.get(a);if(!c)return!1;a=!1;for(const [f,k]of c)c=this.qB(b,f,k),a=a||c;return a}*xw(a,b,e){if(b){const c=b.M();yield*this.vI(a,b,c,e);for(const f of c.Ii)yield*this.vI(a,b,f,e)}else return yield*this.vI(a,b,null,null)}*vI(a,b,e,c){e=this.uE.get(e);if(!e)return!1;c=c?e.Xy.get(c):e.AN;if(!c)return!1;c=c.get(a);
if(!c)return!1;a=!1;for(const [f,k]of c)c=f.Re()?this.qB(b,f,k):yield*this.OS(b,f,k),a=a||c;return a}rB(a,b,e){b=b.M();b=this.EC.get(b);if(!b)return!1;a=b.get(a);if(!a)return!1;e=a.get(e);if(!e)return!1;a=!1;for(let c=0,f=e.length;c<f;++c)b=e[c],b=this.qB(null,b[0],b[1]),a=a||b;return a}*mB(a,b,e){b=b.M();b=this.EC.get(b);if(!b)return!1;a=b.get(a);if(!a)return!1;e=a.get(e);if(!e)return!1;a=!1;for(let f=0,k=e.length;f<k;++f){var c=e[f];b=c[0];c=c[1];b=b.Re()?this.qB(null,b,c):yield*this.OS(null,b,
c);a=a||b}return a}qB(a,b,e){const c=this.j,f=this.Ba,k=f.Rb(),g=f.Ad(),l=f.Kh;let m=!1;k&&f.vh(k.Vd());f.vh(b.Vd());const q=1<l;q&&f.Nd.Oa();const r=g.Oa(b);a&&(b.oc[e].M().ia().al(a),a.lc()&&a.Gj());a=!0;if(b.Ja()){const p=b.Sr;for(let u=0,t=p.length;u<t;++u)if(!p[u].oR(r)){a=!1;break}}a&&(c.tm(),b.pe?b.r7(r,e):b.za(r),m=r.lr);g.Na();q&&f.Nd.Na();f.Yb(b.Vd());k&&f.Yb(k.Vd());k||1!==l||(f.Dz(),f.fQ()||c.te());return m}*OS(a,b,e){const c=this.j,f=this.Ba,k=f.Rb(),g=f.Ad(),l=f.Kh;let m=!1;k&&f.vh(k.Vd());
f.vh(b.Vd());const q=1<l;q&&f.Nd.Oa();const r=g.Oa(b);a&&(b.oc[e].M().ia().al(a),a.lc()&&a.Gj());a=!0;if(b.Ja()){const p=b.Sr;for(let u=0,t=p.length;u<t;++u)if(!(yield*p[u].KO(r))){a=!1;break}}a&&(c.tm(),b.pe?yield*b.W_(r,e):yield*b.xb(r),m=r.lr);g.Na();q&&f.Nd.Na();f.Yb(b.Vd());k&&f.Yb(k.Vd());k||1!==l||(f.Dz(),f.fQ()||c.te());return m}}}
{"use strict";const d=self.C,a=[];function b(){return!0}function*e(){return!0}d.em=class extends d.oa{constructor(c,f,k){super();this.Oc=c;this.j=c.N();this.Rc=f;this.Ke=null;this.ne=this.j.ta().Ad();this.Mf=[];this.tu=[];this.ux=this.pD=this.nD=this.kW=!1;this.pe=!!k[2];this.bD=!1;this.Sr=null;this.oc=[];this.Fh=[];this.Yi=[];this.Nj=b;this.wq=e;this.eL=this.nk=!1;this.eW="";this.dD=!1;this.uk=this.nC=null;this.cb=k[4];this.Ht=k[5];this.Oc.tU(this,this.Ht);this.Xa=this.j.Bb?{vd:k[3][0],vN:k[3][1],
sY:!1,gN:!1,hN:!1,tY:!1}:null;this.ta().gea(this);3===k[0]&&this.bca(k[1]);c=0;for(var g of k[6])f=d.CO.$a(this,g,c++),this.oc.push(f),this.BS(f.M());c=0;for(const l of k[7])g=d.wz.$a(this,l,c++),this.Fh.push(g);if(9===k.length){k=k[8];for(const l of k)this.Oc.MS(l,this,this.Yi)}this.oc.length&&(this.bD=null===this.oc[0].M()&&this.oc[0].Ra===d.D.ob.H.QO);0===this.oc.length&&(this.oc=a);0===this.Fh.length&&(this.Fh=a);0===this.Yi.length&&(this.Yi=a)}static $a(c,f,k){return d.F(d.em,c,f,k)}bca(c){this.nk=
!0;this.dD=this.eL=!!c[0];this.eW=c[1].toLowerCase();this.nC=[];this.ta().jea(this);this.j.Bb&&(this.uk={type:"group",name:c[1],qz:0,children:[]})}X9(c){this.nC.push(c)}vS(c,f){for(const k of c.Hh.nn)f.includes(k)||f.push(k)}CS(c,f){if(c)if(f.includes(c)||f.push(c),c.gb)for(const k of c.Go)k.lc()&&this.vS(k,f);else c.lc()&&this.vS(c,f)}BS(c){this.CS(c,this.Mf)}b$(c){this.CS(c,this.tu)}y7(){this.Mf=this.j.nd}Zb(c){this.ux=!!c;this.Vba();this.Wba();for(const k of this.oc)k.Zb();if(0<this.Fh.length){c=
!1;for(var f of this.Fh)f.Zb(),f.g3()&&(c=!0);c?(this.Nj=this.Dea,this.wq=this.qaa):(this.Nj=this.Cea,this.wq=this.paa)}f=this.Yi;for(let k=0,g=f.length;k<g;++k)f[k].Zb(k<g-1&&f[k+1]instanceof d.em&&f[k+1].EA());this.Xa&&this.sga();this.uk&&this.Iba().uk.children.push(this.uk)}Iba(){let c=this.Ja();for(;c;){if(c.nk)return c;c=c.Ja()}return this.Oc}sga(){const c=this.Xa;c.sY=this.oc.every(f=>f.Re());c.gN=this.Fh.every(f=>f.Re());c.hN=this.Yi.every(f=>f.Re());c.tY=c.sY&&c.gN&&c.hN}Vba(){if(this.nk){var c=
this.Ja();for(this.pD=!0;c;){if(!c.nk){this.pD=!1;break}c=c.Ja()}}}Uba(){var c=this.j.nd;if(this.Mf===c)this.tu=c;else{this.tu=d.DE(this.Mf);for(c=this.Ja();c;){for(var f of c.Mf)this.b$(f);c=c.Ja()}f=this.ta();this.Mf=f.nB(this.Mf);this.tu=f.nB(this.tu)}}Wba(){if(this.Y2()){this.Sr=[];for(var c=this.Ja();c;)this.Sr.push(c),c=c.Ja();this.Sr.reverse()}}kw(){this.nD=!0;this.Rc&&this.Rc.kw()}Ud(){return this.Mf}Vd(){this.kW||(this.kW=!0,this.Uba());return this.tu}i3(c){return this.Mf.includes(c)}ta(){return this.Oc.ta()}N(){return this.j}Ja(){return this.Rc}Ufa(c){this.Ke=
c}xs(){return this.Ke||this.Rc}JG(){return this.Xa&&this.Xa.vN}Yp(){return this.JG()&&this.Xa.vd}EA(){return this.bD}Bs(){return this.dD}h7(){this.rq(this.eL)}rq(c){c=!!c;if(!this.nk)throw Error("not a group");if(this.dD!==c){this.dD=c;for(const f of this.nC)f.mS();this.nC.length&&(c=this.j.Ta().Oc)&&c.yJ()}}bq(){return this.oc.length&&this.oc[0].bq()}v4(){return this.Ke&&this.Ke instanceof d.rv}Y2(){return this.v4()||this.oc.some(c=>c.bq())}gP(c){c=Math.floor(c);if(0>c||c>=this.oc.length)throw new RangeError("invalid condition index");
return this.oc[c]}u4(c){let f=c.Ka();if(0===f)return!0;for(--f;0<=f;--f)if(this.oc[f].M()===c.M())return!1;return!0}ZO(c){c=Math.floor(c);if(0>c||c>=this.Fh.length)throw new RangeError("invalid action index");return this.Fh[c]}Tba(c){c=Math.floor(c);return 0<=c&&c<this.Fh.length}iT(){return this.Yi.filter(c=>c instanceof d.Qz)}oR(c){c.xh(this);let f=!1;const k=this.oc;for(let g=0,l=k.length;g<l;++g){const m=k[g];c.ko(g);if(m.fD)throw Error("trigger cannot be used as sub-event to a loop");if(m.za())f=
!0;else if(!this.pe)return!1}return this.pe?f:!0}r7(c,f){c.xh(this);this.oc[f].za()&&(this.Nj(c,0)&&this.Mm(),c.oo(!0))}*KO(c){c.xh(this);let f=!1;const k=this.oc;for(let g=0,l=k.length;g<l;++g){const m=k[g];c.ko(g);if(m.fD)throw Error("trigger cannot be used as sub-event to a loop");if(m.Re()?m.za():yield*m.xb())f=!0;else if(!this.pe)return!1}return this.pe?f:!0}*W_(c,f){c.xh(this);f=this.oc[f];if(f.Re()?f.za():yield*f.xb())(this.Lz()?this.Nj(c,0):yield*this.wq(c,0))&&(this.Mz()?this.Mm():yield*this.ww()),
c.oo(!0)}za(c){c.xh(this);this.bD||c.Qs(!1);this.pe?this.Iea(c):this.HB(c)}*xb(c){if(this.Yp()||this.j.Dc())yield this;c.xh(this);this.bD||c.Qs(!1);this.pe?yield*this.Baa(c):yield*this.sI(c)}Iea(c){const f=this.oc;let k=0===f.length;for(let l=0,m=f.length;l<m;++l){var g=f[l];g.bq()||(c.ko(l),g=g.za(),k=k||g)}c.oo(k);k&&(this.Nj(c,0)&&this.Mm(),this.ux&&c.Qs(!0))}*Baa(c){const f=this.oc;let k=0===f.length;for(let l=0,m=f.length;l<m;++l){var g=f[l];g.bq()||(c.ko(l),g=g.Re()?g.za():yield*g.xb(),k=k||
g)}c.oo(k);k&&((this.Lz()?this.Nj(c,0):yield*this.wq(c,0))&&(this.Mz()?this.Mm():yield*this.ww()),this.ux&&c.Qs(!0))}HB(c){const f=this.oc;for(let k=0,g=f.length;k<g;++k){const l=f[k];c.ko(k);if(!l.za()){c.oo(!1);return}}c.oo(!0);this.Nj(c,0)&&this.Mm();c.lr&&this.ux&&c.Qs(!0)}*sI(c){const f=this.oc;for(let k=0,g=f.length;k<g;++k){const l=f[k];c.ko(k);if(l.Re()?!l.za():!(yield*l.xb())){c.oo(!1);return}}c.oo(!0);(this.Lz()?this.Nj(c,0):yield*this.wq(c,0))&&(this.Mz()?this.Mm():yield*this.ww());c.lr&&
this.ux&&c.Qs(!0)}Cea(c,f){const k=this.Fh;for(let g=f,l=k.length;g<l;++g)f=k[g],c.WA(g),f.za();return!0}*paa(c,f){const k=this.Fh;for(let g=f,l=k.length;g<l;++g)f=k[g],c.WA(g),f.Re()?f.za():yield*f.xb();return!0}Dea(c,f){const k=this.ta(),g=this.Fh;for(let l=f,m=g.length;l<m;++l){f=g[l];c.WA(l);const q=f.za();if(f.vO()&&!0===q)return!1;f.rh()&&q instanceof Promise&&k.gF(q)}return!0}*qaa(c,f){const k=this.ta(),g=this.Fh;for(let l=f,m=g.length;l<m;++l){f=g[l];c.WA(l);let q;q=f.Re()?f.za():yield*f.xb();
if(f.vO()&&!0===q)return!1;f.rh()&&q instanceof Promise&&k.gF(q)}return!0}Aea(c){this.Nj(c,c.Pg)&&this.Mm()}*naa(c){if(yield*this.wq(c,c.Pg))yield*this.ww()}Mm(){if(this.Yi.length){var c=this.nk&&this.j.IG(),f=c?performance.now():0,k=this.ne,g=k.Oa(this);this.nD?this.Nea(g):this.Mea(g);k.Na();c&&(this.uk.qz+=performance.now()-f)}}Nea(c){const f=this.nk,k=this.pD,g=this.ta(),l=this.Yi;for(let m=0,q=l.length,r=q-1;m<q;++m){const p=l[m],u=p.Ud(),t=!k||!f&&m<r;t&&g.zf(u);p.za(c);t?g.Yb(u):g.ls(u)}}Mea(c){const f=
this.Yi;for(let k=0,g=f.length;k<g;++k)f[k].za(c)}*ww(){if(this.Yi.length){var c=this.ne,f=c.Oa(this);this.nD?yield*this.Eaa(f):yield*this.Daa(f);c.Na()}}*Eaa(c){const f=this.nk,k=this.pD,g=this.ta(),l=this.Yi;for(let m=0,q=l.length,r=q-1;m<q;++m){const p=l[m],u=p.Ud(),t=!k||!f&&m<r;t&&g.zf(u);yield*p.xb(c);t?g.Yb(u):g.ls(u)}}*Daa(c){const f=this.Yi;for(let k=0,g=f.length;k<g;++k)yield*f[k].xb(c)}wh(c,f){this.j.tm();f.nR();const k=this.oc;if(!this.pe)for(let g=c.Tm+1,l=k.length;g<l;++g)if(c=k[g],
f.ko(g),!c.za())return!1;this.Nj(f,0)&&this.Mm();return!0}*hh(c,f){this.j.tm();f.nR();const k=this.oc;if(!this.pe)for(let g=c.Tm+1,l=k.length;g<l;++g)if(c=k[g],f.ko(g),c.Re()?!c.za():!(yield*c.xb()))return!1;(this.Lz()?this.Nj(f,0):yield*this.wq(f,0))&&(this.Mz()?this.Mm():yield*this.ww());return!0}Re(){return!this.Yp()&&!this.j.Dc()&&this.Xa.tY}Lz(){return!this.j.Dc()&&this.Xa.gN}Mz(){return!this.j.Dc()&&this.Xa.hN}lI(c){if(this.Ja()){const f=this.Sr;for(let k=0,g=f.length;k<g;++k)if(!f[k].oR(c))return!1}return!0}*NS(c){if(this.Ja()){const f=
this.Sr;for(let k=0,g=f.length;k<g;++k)if(!(yield*f[k].KO(c)))return!1}return!0}dT(c,f,k){0<f.length?k?(f=f.map(g=>g.na(0)),c.Nd.Oa(),this.Ke.bw(f)):this.Ke.k1(f):k&&c.Nd.Oa()}o7(c,f){let k,g;const l=0<c.length;var m=this.j;const q=this.ne,r=m.ta(),p=1<r.Cw();this.dT(r,f,p);l&&r.vh(c);f=q.Oa(this);this.lI(f)&&(m.tm(),f.xh(this),(m=this.Ke.rh())&&([g,k]=this.Ke.YH()),this.HB(f),m&&this.Ke.Sv(g));q.Na();p&&r.Nd.Na();l&&r.Yb(c);r.yw();return k}*T_(c,f){let k,g;if(this.Yp()||this.j.Dc())yield this;const l=
0<c.length;var m=this.j;const q=this.ne,r=m.ta(),p=1<r.Cw();this.dT(r,f,p);l&&r.vh(c);f=q.Oa(this);if(yield*this.NS(f))m.tm(),f.xh(this),(m=this.Ke.rh())&&([g,k]=this.Ke.YH()),yield*this.sI(f),m&&this.Ke.Sv(g);q.Na();p&&r.Nd.Na();l&&r.Yb(c);r.yw();return k}p7(c){const f=this.Vd(),k=0<f.length,g=this.j,l=this.ne,m=g.ta(),q=1<m.Cw();q&&m.Nd.Oa();this.Ke.bw(c);k&&m.vh(f);c=l.Oa(this);this.lI(c)&&(g.tm(),c.xh(this),this.HB(c));l.Na();q&&m.Nd.Na();k&&m.Yb(f);m.yw()}*U_(c){if(this.Yp()||this.j.Dc())yield this;
const f=this.Vd(),k=0<f.length,g=this.j,l=this.ne,m=g.ta(),q=1<m.Cw();q&&m.Nd.Oa();this.Ke.bw(c);k&&m.vh(f);c=l.Oa(this);if(yield*this.NS(c))g.tm(),c.xh(this),yield*this.sI(c);l.Na();q&&m.Nd.Na();k&&m.Yb(f);m.yw()}vH(c,f,k,...g){let l,m;const q=0<c.length,r=this.j,p=this.ne,u=r.ta(),t=1<u.Cw();t&&u.Nd.Oa();0<g.length&&this.Ke.bw(g);q&&u.vh(c);g=p.Oa(this);g.I3(f,k);p.J6(g);r.Os(!1);this.lI(g)&&(r.tm(),g.xh(this),(f=this.Ke.rh())&&([m,l]=this.Ke.YH()),this.HB(g),f&&this.Ke.Sv(m));r.Os(!0);p.Na();p.A6();
t&&u.Nd.Na();q&&u.Yb(c);u.yw();return l||g.FK}}}
{"use strict";const d=self.C,a=[];let b=!1;d.Pz=class extends d.oa{constructor(e,c,f){super();const k=e.N(),g=e.ta();this.Oc=e;this.Ba=g;this.j=e.N();this.Rc=c;this.Ra=k.ki(f[1]);this.Ht=f[2];this.Oc.tU(this,this.Ht);this.Xa=k.Bb?{vd:f[3][0],vN:f[3][1]}:null}static $a(e,c,f){return d.F(d.Pz,e,c,f)}Zb(){const e=this.Ra,c=this.j.ta().zT(this);this.Ra=e.bind(null,this.j.lk,c)}Ja(){return this.Rc}xs(){return this.Rc}JG(){return this.Xa&&this.Xa.vN}Yp(){return this.JG()&&this.Xa.vd}EA(){return!1}Ud(){return a}Vd(){return this.Rc?
this.Rc.Vd():a}za(e){e.xh(this);this.Ba.gF(this.Oea())}async Oea(){try{await this.Ra()}catch(e){console.error(`Unhandled exception running script %c${this.Oc.Ha()}, event ${this.Ht}:`,"font-size: 1.2em; font-weight: bold;",e),self.Dg&&self.Dg.Jfa(this),b||(console.info("%cTip:%c run this to highlight in Construct the last script that had an error: %cgoToLastErrorScript()","font-weight: bold; text-decoration: underline","","font-weight: bold"),b=!0)}}*xb(e){e.xh(this);if(this.Yp()||this.j.Dc())yield this;
this.za(e)}Re(){return!this.Yp()&&!this.j.Dc()}static T2(){return b}static X7(){b=!0}}}
{"use strict";const d=self.C;d.rv=class extends d.oa{constructor(a,b,e){super();this.Oc=a;this.j=a.N();this.Rc=b;const c=e[1];this.MC=c[0];this.tn=c[1];this.Lh=c[2].map(f=>d.Qz.$a(a,this,f));this.V=c[3];this.TK=[];this.Gx=c[4];this.Jha=0;this.ix=-1;this.Zw=new Map;this.Fe=d.em.$a(a,b,e);this.Fe.Ufa(this)}static $a(a,b,e){return d.F(d.rv,a,b,e)}Zb(){for(const a of this.Lh)a.Zb();this.Fe.Zb(!1)}iT(){return this.Lh}kea(a){this.TK.push(a)}k1(a){const b=this.Lh;for(let e=0,c=b.length;e<c;++e)b[e].yh(a[e].na(0))}bw(a){const b=
this.Lh;for(let e=0,c=b.length;e<c;++e)b[e].yh(a[e])}l_(){return this.Lh.map(a=>a.Jd())}Ja(){return this.Rc}xs(){return this.Rc}ke(){return this.V}yv(){switch(this.tn){case 0:return null;case 2:return"";default:return 0}}tf(){return this.Fe}rh(){return this.Gx}YH(){const a=this.Jha++;this.ix=a;let b;const e=new Promise(c=>b=c);this.Zw.set(a,{resolve:b,IN:0});return[a,e]}Sv(a){const b=this.Zw.get(a);0===b.IN&&(b.resolve(),this.Zw.delete(a));this.ix=-1}w6(){this.Zw.get(this.ix).IN++;return this.ix}m7(a){this.ix=
a;this.Zw.get(a).IN--}}}
{"use strict";const d=self.C,a=[];d.Qz=class extends d.oa{constructor(b,e,c){super();const f=b.ta();this.Oc=b;this.Ba=f;this.j=b.N();this.Rc=e;this.Nd=f.Nd;this.Pa=c[1];this.Ga=c[2];this.rb=c[3];this.Li=!!c[4];this.Ib=!!c[5];this.tha=e instanceof d.rv;this.cb=c[6];this.Sx=this.j.uj(c[8]);this.Xha=k=>this.yh(k);this.Vha=()=>this.Jd();this.mW=!this.Rc||this.Li||this.Ib;this.Sd=this.rb;this.EL=-1;this.aQ()&&(this.Sd=this.Sd?1:0);!this.UG()||this.Li||this.Ib||(this.EL=f.Hba(this));f.hea(this)}static $a(b,
e,c){return d.F(d.Qz,b,e,c)}Zb(){if(this.UG()&&!this.Li&&!this.Ib&&!this.tha){const b=this.Ba.LF(this);b&&b.kea(this)}}Ha(){return this.Pa}uj(){return this.Sx}Ja(){return this.Rc}xs(){return this.Ja()}uh(){return!this.Ja()}UG(){return!this.uh()}$n(){return 0===this.Ga}zj(){return 1===this.Ga}aQ(){return 2===this.Ga}EA(){return!1}Ud(){return a}za(){!this.UG()||this.Li||this.Ib||this.yh(this.rb)}Re(){return!0}*xb(b){this.za(b)}yh(b){this.$n()?"number"!==typeof b&&(b=parseFloat(b)):this.zj()?"string"!==
typeof b&&(b=b.toString()):this.aQ()&&(b=b?1:0);this.mW?this.Sd=b:this.Nd.sj()[this.EL]=b}Jd(){return this.mW?this.Sd:this.Nd.sj()[this.EL]}k7(){this.Sd=this.rb}CT(){return{configurable:!1,enumerable:!0,get:this.Vha,set:this.Xha}}}}
{"use strict";const d=self.C,a=[];d.RO=class extends d.oa{constructor(b,e,c){super();const f=b.ta();this.Oc=b;this.Ba=f;this.j=b.N();this.Rc=e;this.Dx=null;this.nha=c[1];this.Tb=!0}static $a(b,e,c){return d.F(d.RO,b,e,c)}Zb(){this.Dx=this.Ba.kP(this.nha);this.Oc.f$(this);let b=this.Ja();for(;b;)b instanceof d.em&&b.nk&&b.X9(this),b=b.Ja();this.mS();this.j.Bb&&this.Oc.uk.children.push(this.Dx.uk)}Ja(){return this.Rc}Ud(){return a}za(){const b=!!this.Ja(),e=this.j.nd;b&&this.Ba.vh(e);this.Dx.za();b&&
this.Ba.Yb(e)}*xb(){const b=!!this.Ja(),e=this.j.nd;b&&this.Ba.vh(e);yield*this.Dx.xb();b&&this.Ba.Yb(e)}Re(){return!1}mS(){let b=this.Ja();for(;b;){if(b instanceof d.em&&b.nk&&!b.Bs()){this.Tb=!1;return}b=b.Ja()}this.Tb=!0}}}
{"use strict";const d=self.C;d.Kp=class extends d.oa{constructor(l){super();this.qc=l;this.j=l.N()}Zb(){}static M_(l,m){return d.F([k,c,f,g,a,b][m[0]],l,m)}};class a extends d.Kp{constructor(l,m){super(l);this.de=this.j.Fv();this.Ra=this.j.ki(m[1]);this.Ra!==d.D.ob.zd.random&&this.Ra!==d.D.ob.zd.wia||this.qc.TH()}vv(){return this.de.fl(this.Ra,this.de)}}class b extends d.Kp{constructor(l,m){super(l);this.Ot=null;this.MC=m[1];this.qc.TH()}Zb(){const l=this.j.ta();this.Ot=l.iA(this.MC);this.MC=null;
const m=this.Ot.tf();this.Um=[...new Set([...this.qc.tf().Vd(),...m.Vd()])];this.Um=l.nB(this.Um)}vv(){const l=this.Ot;if(l.ke())return d.em.prototype.vH.bind(l.tf(),this.Um,l.tn,l.yv());{const m=l.yv();return()=>m}}}function e(l,m){if(l>=m)return l%m;0>l&&(l<=-m&&(l%=m),0>l&&(l+=m));return l}class c extends d.Kp{constructor(l,m){super(l);this.R=this.j.$f(m[1]);this.Ra=this.j.ki(m[2]);this.XD=!!m[3];this.ne=this.j.ta().Ad();this.qc.WI(this.R)}vv(){return this.R.Sb().fl(this.Ra,this.R.Qk().ra)}Rz(){const l=
this.R,m=l.ia().lP();var q=m.length;if(0===q)return this.XD?"":0;q=e(this.qc.Ay,q);this.ne.Zf().Q7(l);return this.Ra.apply(m[q].ra,[])}}class f extends d.Kp{constructor(l,m){super(l);this.R=this.j.$f(m[1]);this.fia=m[3];this.XD=!!m[2];this.qc.WI(this.R)}TO(){const l=this.R.ia().lP();var m=l.length;if(0===m)return this.XD?"":0;m=e(this.qc.Ay,m);return l[m].Dba(this.fia)}}class k extends d.Kp{constructor(l,m){super(l);this.R=this.j.$f(m[1]);this.od=this.R.Wz(m[2]);this.Tj=this.R.uv(m[2]);this.Ra=this.j.ki(m[3]);
this.XD=!!m[4];this.ne=this.j.ta().Ad();this.qc.WI(this.R)}}class g extends d.Kp{constructor(l,m){super(l);this.ul=null;this.uK=m[1]}Zb(){this.ul=this.j.ta().XF(this.uK)}}}
{"use strict";const d=self.C;d.yf=class extends d.oa{constructor(z,D,G){super();this.qc=z;this.ab=G;this.Ga=D;this.na=null;this.Ib=this.Rf=!1}static $a(z,D,G){const N=D[0];return d.F([b,e,q,f,g,c,l,b,f,f,r,p,q,t,e,m,k,u,w,x][N],z,N,G,D)}Zb(){}TH(){this.Rf=!0}WI(z){this.Rf||!z||z.Sb().Lo||(this.Rf=!0)}Ka(){return this.ab}N(){return this.qc.N()}tf(){return this.qc.tf()}};function a(z){z=self.d_[z];if(!z)throw Error("invalid expression number");return z}class b extends d.yf{constructor(z,D,G,N){super(z,
D,G);this.Ay=0;z=N[1];this.wK=z[0];this.iu=[];this.BC=null;for(let B=1,H=z.length;B<H;++B)this.iu.push(d.Kp.M_(this,z[B]));this.iu.length?this.na=this.T1:(this.na=a(this.wK),this.Ib=!0)}ig(z){if(0>z||z>=this.iu.length)throw new RangeError("invalid numbered node");return this.iu[z]}Zb(){for(var z of this.iu)z.Zb();z=a(this.wK);this.BC=this.iu.length?z(this):z}T1(z){this.Ay=z;return this.BC()}}class e extends b{constructor(z,D,G,N){super(z,D,G,N);this.na=this.J2;14===D&&(this.tf().y7(),this.qc instanceof
d.wz&&this.tf().kw())}J2(z){this.Ay=z;z=this.BC();return"string"===typeof z?z:""}Aba(){return a(this.wK)()}}class c extends b{constructor(z,D,G,N){super(z,D,G,N);this.na=this.ca;this.Ib=!1}ca(z){this.Ay=z;z=this.BC();return this.N().Ta().ca(z)}}class f extends d.yf{constructor(z,D,G,N){super(z,D,G);this.$ga=N[1];this.na=this.J1;this.Ib=!0}J1(){return this.$ga}}class k extends d.yf{constructor(z,D,G,N){super(z,D,G);this.Qga=N[1];this.na=this.G1;this.Ib=!0}G1(){return this.Qga}}class g extends d.yf{constructor(z,
D,G,N){super(z,D,G);this.R=this.N().$f(N[1]);this.na=this.M;z=this.tf();z.BS(this.R);this.qc instanceof d.wz?z.kw():z.Ja()&&z.Ja().kw();this.Ib=!0}M(){return this.R}}class l extends d.yf{constructor(z,D,G,N){super(z,D,G);this.rk=this.N().hb.ss(N[1]);this.na=this.sc;this.Ib=!0}sc(){return this.rk}}class m extends d.yf{constructor(z,D,G,N){super(z,D,G);this.jp=this.N().Qb.sA(N[1]);this.na=this.Ec;this.Ib=!0}Ec(){return this.jp}}class q extends d.yf{constructor(z,D,G,N){super(z,D,G);this.iha=N[1];this.na=
this.W1;this.Ib=!0}W1(){return this.iha}}class r extends d.yf{constructor(z,D,G,N){super(z,D,G);this.wW=N[1];(z=this.qc.M())&&z.gb?(this.na=this.U1,this.TH()):(this.na=this.l2,this.Ib=!0)}l2(){return this.wW}U1(z){z=z||0;const D=this.qc.M();var G=D.ia();const N=G.qa();if(N.length)z=N[z%N.length].M();else if(G.X2())G=G.yc,z=G[z%G.length].M();else if(0<D.J.length)G=D.qa(),z=G[z%G.length].M();else return 0;return this.wW+z.mP(D.gk)}}class p extends d.yf{constructor(z,D,G,N){super(z,D,G);this.uK=N[1];
this.ul=null;this.na=this.S1;this.Ib=!0}Zb(){this.ul=this.N().ta().XF(this.uK)}S1(){return this.ul}}class u extends d.yf{constructor(z,D,G,N){super(z,D,G);this.$V=N[1];this.Ot=null;this.na=this.f2;this.Ib=!0}Zb(){this.Ot=this.N().ta().iA(this.$V);this.$V=null}f2(){return this.Ot}}class t extends d.yf{constructor(z,D,G,N){super(z,D,G);this.EM=[];this.hY=[];this.Ib=!0;for(let B=1,H=N.length;B<H;++B)z=d.yf.$a(this.qc,N[B],0),this.EM.push(z),this.hY.push(0),z.Ib||(this.Ib=!1);this.na=this.P2}Zb(){for(const z of this.EM)z.Zb()}P2(){const z=
this.EM,D=this.hY;for(let G=0,N=z.length;G<N;++G)D[G]=z[G].na(0);return D}}class w extends d.yf{constructor(z,D,G,N){super(z,D,G);this.eha=N[1];this.na=this.Sn;this.Ib=!0}Sn(){return this.eha}}class x extends d.yf{constructor(z,D,G,N){super(z,D,G);this.Wga=N[1];this.na=this.L2;this.Ib=!0}L2(){return this.Wga}}}
{"use strict";const d=self.C;function a(c,f){for(let k=0,g=c.length;k<g;++k)f[k]=c[k].na(0)}const b=[],e=function(){};d.CO=class extends d.oa{constructor(c,f,k){super();this.Fe=c;this.j=c.N();this.ab=k;this.Ra=this.j.ki(f[1]);this.lL=0<f[3];this.AW=2===f[3];this.fD=!!f[4];this.Ki=!!f[5];this.Li=!!f[6];this.cb=f[7];this.BW=this.Fe.pe;this.od=this.R=null;this.Tj=-1;this.de=null;this.xb=this.za=e;this.Sa=[];this.Jb=[];this.Pm=!1;this.$i=this.Pb=null;this.Xa=this.j.Bb?{vd:f[8][0],xg:f[8][1]}:null;-1===
f[0]?this.de=this.j.Fv():(this.R=this.j.$f(f[0]),f[2]&&(this.od=this.R.Wz(f[2]),this.Tj=this.R.uv(f[2])),this.Fe.Ja()&&this.Fe.Ja().kw());if(10===f.length){c=f[9];for(let g of c)this.Sa.push(d.yf.$a(this,g,this.Sa.length)),this.Jb.push(0)}0===this.Sa.length&&(this.Jb=this.Sa=b);this.Fe.ta().fea(this)}static $a(c,f,k){return d.F(d.CO,c,f,k)}Zb(){for(const c of this.Sa)c.Zb(),c.Rf&&(this.Pm=!0);this.AW?(this.za=this.Eea,this.xb=this.vaa):this.de?(this.pJ(),this.xb=this.uI):this.R.Sb().Lo?(this.nJ(),
this.xb=this.tI):this.Li?(this.za=this.Lea,this.xb=this.Caa):(this.za=this.FU,this.xb=this.waa)}pJ(){this.Sw(this.de,this.de,this.hJ)}nJ(){const c=this.R.Sb(),f=this.R.Qk().ra;this.Sw(c,f,this.gJ)}Sw(c,f,k){const g=this.Ra,l=this.Ki,m=this.Sa;if(0===m.length){const q=c.fl(g,f);this.za=l?function(){return d.xor(q(),l)}:q}else if(1===m.length){const q=m[0];if(!l&&q.Ib)this.za=c.mT(g,f,q.na(0));else{const r=c.fl(g,f);this.za=function(){return d.xor(r(q.na(0)),l)}}}else if(2===m.length){const q=m[0],
r=m[1];if(!l&&q.Ib&&r.Ib)this.za=c.nT(g,f,q.na(0),r.na(0));else{const p=c.fl(g,f);this.za=function(){return d.xor(p(q.na(0),r.na(0)),l)}}}else if(3===m.length){const q=m[0],r=m[1],p=m[2];if(!l&&q.Ib&&r.Ib&&p.Ib)this.za=c.oT(g,f,q.na(0),r.na(0),p.na(0));else{const u=c.fl(g,f);this.za=function(){return d.xor(u(q.na(0),r.na(0),p.na(0)),l)}}}else this.za=k}M(){return this.R}fi(){return this.od}tf(){return this.Fe}N(){return this.j}Ka(){return this.ab}hP(){return this.Ka()}bq(){return this.lL}Re(){return!this.Xa.vd&&
!this.j.Dc()&&!this.Xa.xg}xf(){this.Pb||(this.Pb=new Map);return this.Pb}Hv(){this.$i||(this.$i=new Map);return this.$i}hJ(){const c=this.Jb;a(this.Sa,c);return d.xor(this.Ra.apply(this.de,c),this.Ki)}*uI(){if(this.Xa.vd||this.j.Dc())yield this;if(this.Xa.xg){var c=this.Jb;a(this.Sa,c);c=this.Ra.apply(this.de,c);d.Zn(c)&&(c=yield*c);return d.xor(c,this.Ki)}return this.za()}gJ(){const c=this.Jb;a(this.Sa,c);const f=this.R.Qk().ra;return d.xor(this.Ra.apply(f,c),this.Ki)}*tI(){if(this.Xa.vd||this.j.Dc())yield this;
if(this.Xa.xg){var c=this.Jb;a(this.Sa,c);const f=this.R.Qk().ra;c=this.Ra.apply(f,c);d.Zn(c)&&(c=yield*c);return d.xor(c,this.Ki)}return this.za()}Eea(){return!0}*vaa(){if(this.Xa.vd||this.j.Dc())yield this;return!0}Lea(){var c=this.Jb;a(this.Sa,c);c=this.Ra.apply(this.od||this.R,c);this.R.rc();return c}*Caa(){if(this.Xa.vd||this.j.Dc())yield this;if(this.Xa.xg){var c=this.Jb;a(this.Sa,c);c=this.Ra.apply(this.od||this.R,c);d.Zn(c)&&(c=yield*c);this.R.rc();return c}return this.za()}FU(){const c=this.Sa,
f=this.Jb,k=this.R.ia();for(let g=0,l=c.length;g<l;++g){const m=c[g];m.Rf||(f[g]=m.na(0))}return k.jc?this.Fea(k):this.Gea(k)}*waa(){if(this.Xa.vd||this.j.Dc())yield this;return this.FU()}FI(c){const f=this.Sa,k=this.Jb;for(let g=0,l=f.length;g<l;++g){const m=f[g];m.Rf&&(k[g]=m.na(c))}}Fea(c){const f=this.R,k=f.gb,g=f.gk,l=this.Tj,m=0<=l,q=f.qa(),r=this.Pm,p=this.Jb,u=this.Ra,t=this.Ki,w=this.BW&&!this.lL;c.Cz();for(let z=0,D=q.length;z<D;++z){const G=q[z];r&&this.FI(z);var x=void 0;m?(x=k?G.M().Lp(g):
0,x=u.apply(G.$c[l+x].ra,p)):x=u.apply(G.ra,p);d.xor(x,t)?c.Bq(G):w&&c.uo(G)}f.qv(!0);c.Ye(!1);f.rc();return c.yG()}Gea(c){const f=this.R;var k=f.gb;const g=f.gk,l=f.lc(),m=this.Tj,q=0<=m,r=this.Pm,p=this.Jb,u=this.Ra,t=this.Ki,w=this.BW&&!this.lL,x=c.J,z=c.yc,D=w&&!this.Fe.u4(this),G=D?z:x;let N=0,B=!1;for(let I=0,K=G.length;I<K;++I){const Q=G[I];r&&this.FI(I);var H=void 0;q?(H=k?Q.M().Lp(g):0,H=u.apply(Q.$c[m+H].ra,p)):H=u.apply(Q.ra,p);d.xor(H,t)?(B=!0,D?(x.push(Q),l&&Q.bea()):(G[N]=Q,l&&Q.Wfa(N),
++N)):D?(G[N]=Q,l&&Q.Vfa(N),++N):w&&(z.push(Q),l&&Q.aea())}d.Qe(G,N);l&&f.pga(D,N);k=B;D&&!B&&(B=this.Tda(x));f.qv(k||w);return w?B:c.yG()}Tda(c){var f=this.R;const k=f.gb;f=f.gk;const g=this.Pm,l=this.Tj,m=0<=l,q=this.Jb,r=this.Ra,p=this.Ki;for(let t=0,w=c.length;t<w;++t){var u=c[t];g&&this.FI(t);if(m){const x=k?u.M().Lp(f):0;u=r.apply(u.$c[l+x].ra,q)}else u=r.apply(u.ra,q);if(d.xor(u,p))return!0}return!1}Xv(c,f){return this.Sa[c].na(f)}V1(){const c=this.Sa;if(!c.length)throw Error("no parameters");
return c[0].Aba()}wa(){if(!this.Pb||!this.Pb.size)return null;const c={};for(const [f,k]of this.Pb.entries()){let g=k;"collmemory"===f&&(g=[...k.entries()].map(l=>[l[0].ub,l[1].ub,l[2]]));c[f]=g}return{ex:c}}Ca(c){this.Pb&&(this.Pb.clear(),this.Pb=null);if(c){var f=this.j,k=c.ex;if(k){c=this.xf();c.clear();for(const [g,l]of Object.entries(k))k=l,"collmemory"===g&&(k=d.F(d.Vv,l.map(m=>[f.Te(m[0]),f.Te(m[1]),m[2]]).filter(m=>m[0]&&m[1]))),c.set(g,k)}}}}}
{"use strict";const d=self.C;function a(f,k){for(let g=0,l=f.length;g<l;++g)k[g]=f[g].na(0)}const b=[],e=function(){},c=function*(){};d.wz=class extends d.oa{constructor(f,k,g){super();this.Fe=f;this.j=f=f.N();this.ab=g;this.cb=4<=k.length?k[3]:-1;this.SB=5<=k.length?k[4]:0;this.od=this.R=this.Ra=null;this.Tj=-1;this.de=null;this.iC="";this.Um=this.hC=null;this.xb=this.za=e;this.Sa=[];this.Jb=[];this.Pm=!1;this.$i=this.Pb=null;const l=(g=-3===k[0])?k[2]:k[5];this.Xa=f.Bb||g?{vd:l[0],xg:l[1],index:l[2]}:
null;-1===k[0]?(this.de=f.Fv(),this.Ra=f.ki(k[1])):-2===k[0]?this.iC=k[1]:g?(this.Ra=f.ki(k[1]),this.za=this.wH,this.xb=this.Y_,this.SB=1):(this.Ra=f.ki(k[1]),this.R=f.$f(k[0]),k[2]&&(this.od=this.R.Wz(k[2]),this.Tj=this.R.uv(k[2])));if(7===k.length){k=k[6];for(const m of k)this.Sa.push(d.yf.$a(this,m,this.Sa.length)),this.Jb.push(0)}0===this.Sa.length&&(this.Jb=this.Sa=b);this.Fe.ta().eea(this)}static $a(f,k,g){return d.F(d.wz,f,k,g)}Zb(){for(var f of this.Sa)f.Zb(),f.Rf&&(this.Pm=!0);if(this.de)this.pJ(),
this.xb=this.uI;else if(this.iC)this.nfa(),this.iC="";else if(this.za===this.wH){f=this.Ra;const k=this.j.ta().zT(this.Fe);this.Ra=f.bind(null,this.j.lk,k)}else this.od?this.rh()?(this.za=this.DU,this.xb=this.saa):(this.za=this.CU,this.xb=this.raa):this.R.Sb().Lo?(this.nJ(),this.xb=this.tI):this.rh()?(this.za=this.HU,this.xb=this.yaa):this.Sa.length?this.Sa.every(k=>k.Rf)?(this.za=this.GU,this.xb=this.xaa):this.Pm?(this.za=this.JU,this.xb=this.Aaa):this.Sa.every(k=>k.Ib)?(a(this.Sa,this.Jb),this.za=
this.fJ,this.xb=this.PS):(this.za=this.IU,this.xb=this.zaa):(this.za=this.fJ,this.xb=this.PS)}pJ(){this.Sw(this.de,this.de,this.hJ)}nJ(){const f=this.R.Sb(),k=this.R.Qk().ra;this.Sw(f,k,this.gJ)}nfa(){const f=this.Fe.ta(),k=f.iA(this.iC);k.ke()?(this.hC=k.tf(),this.Um=[...new Set([...this.Fe.Vd(),...this.hC.Vd()])],this.Um=f.nB(this.Um),this.za=d.em.prototype.o7.bind(this.hC,this.Um,this.Sa),this.xb=this.taa):(this.za=e,this.xb=c)}Sw(f,k,g){const l=this.Ra,m=this.Sa;if(0===m.length)this.za=f.fl(l,
k);else if(1===m.length){const q=m[0];if(q.Ib)this.za=f.mT(l,k,q.na(0));else{const r=f.fl(l,k);this.za=function(){return r(q.na(0))}}}else if(2===m.length){const q=m[0],r=m[1];if(q.Ib&&r.Ib)this.za=f.nT(l,k,q.na(0),r.na(0));else{const p=f.fl(l,k);this.za=function(){return p(q.na(0),r.na(0))}}}else if(3===m.length){const q=m[0],r=m[1],p=m[2];if(q.Ib&&r.Ib&&p.Ib)this.za=f.oT(l,k,q.na(0),r.na(0),p.na(0));else{const u=f.fl(l,k);this.za=function(){return u(q.na(0),r.na(0),p.na(0))}}}else this.za=g}rh(){return 1===
this.SB}vO(){return 2===this.SB}g3(){return 0!==this.SB}M(){return this.R}tf(){return this.Fe}N(){return this.j}Ka(){return this.ab}hP(){return this.Xa.index}Re(){return!this.Xa.vd&&!this.j.Dc()&&!this.Xa.xg}xf(){this.Pb||(this.Pb=new Map);return this.Pb}Hv(){this.$i||(this.$i=new Map);return this.$i}hJ(){const f=this.Jb;a(this.Sa,f);return this.Ra.apply(this.de,f)}*uI(){if(this.Xa.vd||this.j.Dc())yield this;if(this.Xa.xg){const f=this.Jb;a(this.Sa,f);return yield*this.Ra.apply(this.de,f)}return this.za()}*taa(){if(this.Xa.vd||
this.j.Dc())yield this;return yield*this.hC.T_(this.Um,this.Sa)}gJ(){const f=this.Jb;a(this.Sa,f);return this.Ra.apply(this.R.Qk().ra,f)}*tI(){if(this.Xa.vd||this.j.Dc())yield this;if(this.Xa.xg){const f=this.Jb;a(this.Sa,f);return yield*this.Ra.apply(this.R.Qk().ra,f)}return this.za()}fJ(){const f=this.Jb,k=this.R.ia().qa();for(let g=0,l=k.length;g<l;++g)this.Ra.apply(k[g].ra,f)}*PS(){if(this.Xa.vd||this.j.Dc())yield this;if(this.Xa.xg){const f=this.Jb,k=this.R.ia().qa();for(let g=0,l=k.length;g<
l;++g)yield*this.Ra.apply(k[g].ra,f)}else this.fJ()}IU(){const f=this.Jb;a(this.Sa,f);const k=this.R.ia().qa();for(let g=0,l=k.length;g<l;++g)this.Ra.apply(k[g].ra,f)}*zaa(){if(this.Xa.vd||this.j.Dc())yield this;if(this.Xa.xg){const f=this.Jb;a(this.Sa,f);const k=this.R.ia().qa();for(let g=0,l=k.length;g<l;++g)yield*this.Ra.apply(k[g].ra,f)}else this.IU()}GU(){const f=this.Sa,k=this.Jb,g=this.Ra,l=this.R.ia().qa();for(let m=0,q=l.length;m<q;++m){const r=l[m];for(let p=0,u=f.length;p<u;++p)k[p]=f[p].na(m);
g.apply(r.ra,k)}}*xaa(){if(this.Xa.vd||this.j.Dc())yield this;if(this.Xa.xg){const f=this.Sa,k=this.Jb,g=this.Ra,l=this.R.ia().qa();for(let m=0,q=l.length;m<q;++m){const r=l[m];for(let p=0,u=f.length;p<u;++p)k[p]=f[p].na(m);yield*g.apply(r.ra,k)}}else this.GU()}JU(){const f=this.Sa,k=this.Jb,g=this.Ra,l=this.R.ia().qa();for(let q=0,r=f.length;q<r;++q){var m=f[q];m.Rf||(k[q]=m.na(0))}for(let q=0,r=l.length;q<r;++q){m=l[q];for(let p=0,u=f.length;p<u;++p){const t=f[p];t.Rf&&(k[p]=t.na(q))}g.apply(m.ra,
k)}}*Aaa(){if(this.Xa.vd||this.j.Dc())yield this;if(this.Xa.xg){const k=this.Sa,g=this.Jb,l=this.Ra,m=this.R.ia().qa();for(let q=0,r=k.length;q<r;++q){var f=k[q];f.Rf||(g[q]=f.na(0))}for(let q=0,r=m.length;q<r;++q){f=m[q];for(let p=0,u=k.length;p<u;++p){const t=k[p];t.Rf&&(g[p]=t.na(q))}yield*l.apply(f.ra,g)}}else this.JU()}CU(){var f=this.R;const k=f.gb,g=f.gk,l=this.Sa,m=this.Pm,q=this.Jb,r=this.Ra,p=this.Tj;f=f.ia().qa();for(let w=0,x=l.length;w<x;++w){var u=l[w];u.Rf||(q[w]=u.na(0))}for(let w=
0,x=f.length;w<x;++w){u=f[w];if(m)for(let z=0,D=l.length;z<D;++z){var t=l[z];t.Rf&&(q[z]=t.na(w))}t=k?u.M().Lp(g):0;r.apply(u.$c[p+t].ra,q)}}*raa(){if(this.Xa.vd||this.j.Dc())yield this;if(this.Xa.xg){var f=this.R;const l=f.gb,m=f.gk,q=this.Sa,r=this.Pm,p=this.Jb,u=this.Ra,t=this.Tj;f=f.ia().qa();for(let w=0,x=q.length;w<x;++w){var k=q[w];k.Rf||(p[w]=k.na(0))}for(let w=0,x=f.length;w<x;++w){k=f[w];if(r)for(let z=0,D=q.length;z<D;++z){var g=q[z];g.Rf&&(p[z]=g.na(w))}g=l?k.M().Lp(m):0;yield*u.apply(k.$c[t+
g].ra,p)}}else this.CU()}HU(){const f=this.Sa,k=this.Jb,g=this.Ra,l=this.R.ia().qa(),m=[];for(let q=0,r=l.length;q<r;++q){const p=l[q];for(let u=0,t=f.length;u<t;++u)k[u]=f[u].na(q);m.push(g.apply(p.ra,k))}return Promise.all(m)}*yaa(){if(this.Xa.vd||this.j.Dc())yield this;if(this.Xa.xg){const f=this.Sa,k=this.Jb,g=this.Ra,l=this.R.ia().qa(),m=[];for(let q=0,r=l.length;q<r;++q){const p=l[q];for(let u=0,t=f.length;u<t;++u)k[u]=f[u].na(q);m.push(yield*g.apply(p.ra,k))}return Promise.all(m)}return this.HU()}DU(){var f=
this.R;const k=f.gb,g=f.gk,l=this.Sa,m=this.Jb,q=this.Ra,r=this.Tj;f=f.ia().qa();const p=[];for(let u=0,t=f.length;u<t;++u){const w=f[u];for(let z=0,D=l.length;z<D;++z)m[z]=l[z].na(u);const x=k?w.M().Lp(g):0;p.push(q.apply(w.$c[r+x].ra,m))}return Promise.all(p)}*saa(){if(this.Xa.vd||this.j.Dc())yield this;if(this.Xa.xg){var f=this.R;const k=f.gb,g=f.gk,l=this.Sa,m=this.Jb,q=this.Ra,r=this.Tj;f=f.ia().qa();const p=[];for(let u=0,t=f.length;u<t;++u){const w=f[u];for(let z=0,D=l.length;z<D;++z)m[z]=
l[z].na(u);const x=k?w.M().Lp(g):0;p.push(yield*q.apply(w.$c[r+x].ra,m))}return Promise.all(p)}return this.DU()}async wH(){try{await this.Ra()}catch(f){console.error(`Unhandled exception running script %c${this.Fe.Oc.Ha()}, event ${this.Fe.Ht}, action ${this.hP()+1}:`,"font-size: 1.2em; font-weight: bold;",f),self.Dg&&self.Dg.Jfa(this),d.Pz.T2()||(console.info("%cTip:%c run this to highlight in Construct the last script that had an error: %cgoToLastErrorScript()","font-weight: bold; text-decoration: underline",
"","font-weight: bold"),d.Pz.X7())}}*Y_(){if(this.Xa.vd||this.j.Dc())yield this;return this.wH()}wa(){return this.Pb&&this.Pb.size?{ex:d.cI(this.Pb)}:null}Ca(f){this.Pb&&(this.Pb.clear(),this.Pb=null);f&&(f=f.ex)&&(this.Pb=d.MF(f))}}}
{"use strict";const d=self.C,a=new d.jb;function b(L,O){return d.compare(this.B().K(),L,O)}function e(L,O){return d.compare(this.B().L(),L,O)}function c(){const L=this.B(),O=L.ca();return O.ys()?L.Cs(O.Bw()):L.hQ(O.tg,L.sc().UP(),L.sc().mg)}function f(){var L=this.B();const O=L.sc();L=L.Kc();return 0>L.ba||0>L.aa||L.U>O.O()||L.S>O.P()}function k(L,O,V){const ba=this.ia(),ia=ba.qa();if(!ia.length)return!1;let ja=ia[0];var la=ja.B();let va=ja,na=d.AY(la.K(),la.L(),O,V);for(let wa=1,xa=ia.length;wa<
xa;++wa)if(ja=ia[wa],la=ja.B(),la=d.AY(la.K(),la.L(),O,V),0===L&&la<na||1===L&&la>na)na=la,va=ja;ba.co(va);return!0}function g(L){const O=this.B();O.K()!==L&&(O.ye(L),O.ua())}function l(L){const O=this.B();O.L()!==L&&(O.Ae(L),O.ua())}function m(L,O){const V=this.B();V.KF(L,O)||(V.Lc(L,O),V.ua())}function q(L,O){if(L&&(L=L.D2(this.I))){var [V,ba]=L.Ik(O);O=this.B();if(O.K()!==V||O.L()!==ba)O.Lc(V,ba),O.ua()}}function r(L){if(0!==L){var O=this.B();O.ym(O.TF()*L,O.qG()*L);O.ua()}}function p(L,O){if(0!==
O){var V=this.B();L=d.Ea(L);V.ym(Math.cos(L)*O,Math.sin(L)*O);V.ua()}}function u(){return this.B().K()}function t(){return this.B().L()}function w(){return this.j.Gk(this.I)}function x(L,O){return d.compare(this.B().O(),L,O)}function z(L,O){return d.compare(this.B().P(),L,O)}function D(L){const O=this.B();O.O()!==L&&(O.xe(L),O.ua())}function G(L){const O=this.B();O.P()!==L&&(O.Ve(L),O.ua())}function N(L,O){const V=this.B();if(V.O()!==L||V.P()!==O)V.Gc(L,O),V.ua()}function B(){return this.B().O()}
function H(){return this.B().P()}function I(){return this.B().Kc().U}function K(){return this.B().Kc().S}function Q(){return this.B().Kc().ba}function R(){return this.B().Kc().aa}function U(L,O){return d.Xr(this.B().Y(),d.Ea(O))<=d.Ea(L)}function Z(L){return d.Oe(this.B().Y(),d.Ea(L))}function ca(L,O){L=d.Ea(L);O=d.Ea(O);const V=this.B().Y();return d.Oe(O,L)?d.Oe(V,L)&&!d.Oe(V,O):!(!d.Oe(V,L)&&d.Oe(V,O))}function Y(L){const O=this.B();L=d.Tc(d.Ea(L));isNaN(L)||O.Y()===L||(O.tc(L),O.ua())}function ha(L){if(!isNaN(L)&&
0!==L){var O=this.B();O.tc(O.Y()+d.Ea(L));O.ua()}}function ka(L){if(!isNaN(L)&&0!==L){var O=this.B();O.tc(O.Y()-d.Ea(L));O.ua()}}function za(L,O){const V=this.B(),ba=V.Y();L=d.eN(ba,d.Ea(O),d.Ea(L));isNaN(L)||ba===L||(V.tc(L),V.ua())}function Oa(L,O,V){const ba=this.B(),ia=ba.Y();O-=ba.K();V-=ba.L();L=d.eN(ia,Math.atan2(V,O),d.Ea(L));isNaN(L)||ia===L||(ba.tc(L),ba.ua())}function ab(L,O){const V=this.B(),ba=V.Y();L-=V.K();O-=V.L();O=Math.atan2(O,L);isNaN(O)||ba===O||(V.tc(O),V.ua())}function Ua(){return d.Td(this.B().Y())}
function bb(L,O){return d.compare(d.UN(100*this.B().vf()),L,O)}function mb(){return this.B().kd()}function Va(L){const O=this.B();L=2===L?!O.kd():0!==L;O.kd()!==L&&(O.Ng(L),this.j.Z())}function Pa(L){L=d.ja(L/100,0,1);const O=this.B();O.vf()!==L&&(O.Dj(L),this.j.Z())}function fb(L){a.Ru(L);L=this.B();L.Ua.In(a)||(L.aS(a),this.j.Z())}function cb(){const L=this.B().Ua;return d.QA(L.ib,L.Ma,L.fb,L.bb)}function ub(){return d.UN(100*this.B().vf())}function vb(L){return L?this.B().ca()===L:!1}function wb(L){const O=
this.ia(),V=O.qa();if(!V.length)return!1;let ba=V[0];for(let ia=1,ja=V.length;ia<ja;++ia){const la=V[ia],va=la.B(),na=ba.B(),wa=va.ca().Ka(),xa=na.ca().Ka();if(0===L){if(wa>xa||wa===xa&&va.li()>na.li())ba=la}else if(wa<xa||wa===xa&&va.li()<na.li())ba=la}O.co(ba);return!0}function gb(L,O,V){const ba=this.B();L=0===L?ba.Va():ba.ve();return d.compare(L,O,V)}function xb(){this.B().S9()}function yb(){this.B().Q9()}function zb(L){L&&this.B().R9(L)}function Ab(L,O){L=0===L;O&&(O=O.ii(this.Ia()))&&this.B().P9(O,
L)}function Bb(L){const O=this.B();O.Va()!==L&&(O.We(L),this.j.Z())}function Cb(){return this.B().ca().Ka()}function Db(){return this.B().ca().Ha()}function hb(){return this.B().li()}function Eb(){return this.B().Va()}function Fb(){return this.B().ve()}function Gb(L,O){if(O=this.M().Ya.km(O)){O=O.Ka();L=1===L;var V=this.B().df;V.Pv(O)!==L&&(V.ER(O,L),V.ro(),this.j.Z())}}function Hb(L,O,V){var ba=this.M().Ya.km(L);if(ba){L=ba.Ka();var ia=this.B().df,ja=ia.kh(L);O=Math.floor(O);if(!(0>O||O>=ja.length)){ba=
ba.sb.mA(O);if("color"===ba){a.Ru(V);O=ja[O];if(a.In(O))return;O.Wl(a)}else{"percent"===ba&&(V/=100);if(ja[O]===V)return;ja[O]=V}ia.Pv(L)&&this.j.Z()}}}const ib=d.F(d.Rect),Sa=[],jb=[];let kb=!1,Wa=null,lb=!1;const Ma=new Set;function nb(L,O,V,ba){O.ub<V.ub?L.Set(O,V,ba):L.Set(V,O,ba)}function qa(L,O,V){O.ub<V.ub?L.Ip(O,V):L.Ip(V,O)}function Ka(L,O,V){return O.ub<V.ub?L.na(O,V):L.na(V,O)}function Ib(L,O,V,ba){if(!O)return!1;L=L.Ia();const ia=0!==V||0!==ba,ja=L.B(),la=L.N(),va=la.Ef;var na=la.Xf();
const wa=na.tf().pe;var xa=na.M();na=na.Ki;const Ha=O.ia();xa=xa!==O;Wa=O;kb=xa&&!na;lb=!1;let La=0,Ca=0,ma=!1;Ha.jc?(ib.Aa(ja.Kc()),ib.offset(V,ba),va.aA(ja.ca(),O,ib,jb),O=jb):wa?la.s4()&&!Ha.yc.length&&Ha.J.length?O=Ha.J:(O=Ha.yc,lb=!0):O=Ha.J;ia&&(La=ja.K(),Ca=ja.L(),ja.ym(V,ba),ja.ua());for(const ea of O)if(va.dl(L,ea)){ma=!0;if(na)break;xa&&Ma.add(ea)}ia&&(ja.Lc(La,Ca),ja.ua());d.G(jb);return ma}function Ob(L,O){if(kb){if(O){{L=L.N().Rb().pe;O=Wa.ia();const V=O.J,ba=O.yc;O.jc?(O.jw(Ma),L&&(d.G(ba),
O.hO(Ma,Wa.qa()))):L?lb?O.n9(Ma):(O.hO(Ma,V),O.jw(Ma)):O.jw(Ma);Wa.rc()}}Ma.clear();Wa=null;kb=!1}}function Pb(L){if(this.j.Ge)return Qb.call(this,L);if(!L)return!1;var O=this.j;const V=O.Ef,ba=O.ta(),ia=ba.Ad();var ja=ba.Xf();const la=ja.M();var va=ja.xf(),na=ja.Hv();ja=ia.Zf();const wa=O.Nl,xa=wa-1,Ha=ja.Rb(),La=ia.Oa(Ha);let Ca=va.get("collmemory");Ca||(Ca=d.F(d.Vv),va.set("collmemory",Ca));na.get("collisionCreatedDestroyCallback")||(na.set("collisionCreatedDestroyCallback",!0),O.Fb().addEventListener("instancedestroy",
Na=>{Ca.MO(Na.instance)}));O=L.ia();va=la.ia().qa();na=null;for(let Na=0;Na<va.length;++Na){const Ba=va[Na];O.jc?(V.aA(Ba.B().ca(),L,Ba.B().Kc(),Sa),na=Sa,V.iO(Ba,L,na)):na=O.qa();for(let eb=0;eb<na.length;++eb){const Ja=na[eb];if(V.dl(Ba,Ja)||V.zO(Ba,Ja)){var ma=Ka(Ca,Ba,Ja),ea=!1,oa=-2;"number"===typeof ma&&(ea=!0,oa=ma);ma=!ea||oa<xa;nb(Ca,Ba,Ja,wa);ma&&(ma=Ha.Ud(),ba.zf(ma),oa=la.ia(),ea=L.ia(),oa.Ye(!1),ea.Ye(!1),la===L?(ea=oa.J,d.G(ea),ea.push(Ba),ea.push(Ja),la.rc()):(oa=oa.J,ea=ea.J,d.G(oa),
d.G(ea),oa.push(Ba),ea.push(Ja),la.rc(),L.rc()),Ha.wh(ja,La),ba.Yb(ma))}else qa(Ca,Ba,Ja)}d.G(Sa)}ia.Na();return!1}function*Qb(L){if(!L)return!1;var O=this.j;const V=O.Ef,ba=O.ta(),ia=ba.Ad(),ja=ia.Zf(),la=O.Nl,va=la-1,na=ja.Rb(),wa=ia.Oa(na);var xa=ba.Xf();const Ha=xa.M();var La=xa.xf();xa=xa.Hv();let Ca=La.get("collmemory");Ca||(Ca=d.F(d.Vv),La.set("collmemory",Ca));xa.get("collisionCreatedDestroyCallback")||(xa.set("collisionCreatedDestroyCallback",!0),O.Fb().addEventListener("instancedestroy",
Na=>{Ca.MO(Na.instance)}));O=L.ia();La=Ha.ia().qa();xa=null;for(let Na=0;Na<La.length;++Na){const Ba=La[Na];O.jc?(V.aA(Ba.B().ca(),L,Ba.B().Kc(),Sa),xa=Sa,V.iO(Ba,L,xa)):xa=O.qa();for(let eb=0;eb<xa.length;++eb){const Ja=xa[eb];if(V.dl(Ba,Ja)||V.zO(Ba,Ja)){var ma=Ka(Ca,Ba,Ja),ea=!1,oa=-2;"number"===typeof ma&&(ea=!0,oa=ma);ma=!ea||oa<va;nb(Ca,Ba,Ja,la);ma&&(ma=na.Ud(),ba.zf(ma),oa=Ha.ia(),ea=L.ia(),oa.Ye(!1),ea.Ye(!1),Ha===L?(ea=oa.J,d.G(ea),ea.push(Ba),ea.push(Ja),Ha.rc()):(oa=oa.J,ea=ea.J,d.G(oa),
d.G(ea),oa.push(Ba),ea.push(Ja),Ha.rc(),L.rc()),yield*na.hh(ja,wa),ba.Yb(ma))}else qa(Ca,Ba,Ja)}d.G(Sa)}ia.Na();return!1}function Rb(L){return Ib(this,L,0,0)}function Sb(L,O,V){return Ib(this,L,O,V)}function ob(){return this.B().Tk()}function pb(){return this.B().dg()}function qb(L,O){const V=this.ia().qa();if(0===V.length)return!1;const ba=L.ia();var ia=ba.qa();if(0===ia.length)return!1;ia=new Set(ia);const ja=new Set;for(let va=0,na=V.length;va<na;++va){var la=V[va];if(1===O)for(const wa of la.kz())wa.ks(L)&&
ia.has(wa)&&ja.add(wa);else{if(0===O){if(la=la.Ja(),null===la)continue}else la=la.tA();la.ks(L)&&ia.has(la)&&ja.add(la)}}if(0===ja.size)return!1;ba.jw(ja);L.rc();return!0}function rb(L,O){const V=this.ia().qa();if(0===V.length)return!1;const ba=L.ia();var ia=ba.qa();if(ba.jc){var ja=[...this.j.tN(L)];0<ja.length&&(ia=ia.concat(ja))}if(0===ia.length)return!1;ia=new Set(ia);ja=new Set;for(let la=0,va=V.length;la<va;++la){const na=V[la];2===O&&!na.dg()&&na.ks(L)&&ia.has(na)&&ja.add(na);for(const wa of 0===
O?na.children():na.Vl())2===O&&wa.dg()||wa.ks(L)&&ia.has(wa)&&ja.add(wa)}if(0===ja.size)return!1;ba.jw(ja);L.rc();return!0}function db(L,O){const V=this.ia().qa();if(0===V.length)return!1;const ba=L.ia();var ia=ba.qa();if(ba.jc){var ja=[...this.j.tN(L)];0<ja.length&&(ia=ia.concat(ja))}if(0===ia.length)return!1;ia=new Set(ia);ja=[];for(let la=0,va=V.length;la<va;++la){const na=V[la].SF(O);null!==na&&na.ks(L)&&ia.has(na)&&ja.push(na)}if(0===ja.length)return!1;ba.Yv(ja);L.rc();return!0}function h(L,
O){return d.compare(this.I.$z(),L,O)}function n(L,O,V,ba,ia,ja,la,va){const na=this.I,wa=this.j.wv().M();for(const xa of L.pY(na,wa)){if(!xa.Sb().XX)break;na.Pn(xa,{Xu:O,Yu:V,gs:ba,es:ia,Wu:ja,Zu:la,Zy:va})}}function v(L){const O=this.I,V=this.j.wv().M();for(const ba of L.pY(O,V))O.Yk(ba)}function y(){this.I.Tk()&&this.I.Ja().Yk(this.I)}function A(){return this.I.$z()}function E(L,O){L=Math.floor(L);O=Math.floor(O);const V=this.B();2>L||2>O||!isFinite(L)||!isFinite(O)?(V.UA(),V.ua()):V.AF(L,O)}function F(L,
O,V,ba,ia,ja,la,va){const na=this.B();na.QR(L,O,{mode:0===V?"absolute":"relative",x:ba,y:ia,vz:ja,mZ:la,nZ:va})&&na.ua()}function J(){const L=this.B();return L.eg()?L.Rk().xl:0}function M(){const L=this.B();return L.eg()?L.Rk().Ql:0}function P(L){const O=this.B();L=2===L?!O.kd():0!==L;O.kd()!==L&&O.Ng(L)}function S(L,O){this.O7(L,O)}function T(L,O){this.N7(L,""+O)}function X(L){this.V6(L)}function W(){this.XO()}function fa(){this.oO()}function da(){return this.rK}function aa(L){this.Ch(0!==L)}function ua(){return this.V}
function pa(L,O,V){return d.compare(this.Ia().uf(L),O,V)}function sa(L){return!!this.Ia().uf(L)}function ta(L,O){const V=this.ia(),ba=V.qa();if(!ba.length)return!1;let ia=ba[0],ja=ia,la=ia.uf(O);for(let va=1,na=ba.length;va<na;++va){ia=ba[va];const wa=ia.uf(O);if(0===L&&wa<la||1===L&&wa>la)la=wa,ja=ia}V.co(ja);return!0}function ra(L){if(this.j.Xf().Ki){{const ba=this.ia();if(ba.jc){ba.Ye(!1);ba.Cz();var O=this.qa();for(let ia=0,ja=O.length;ia<ja;++ia){var V=O[ia];V.ub===L?ba.uo(V):ba.Bq(V)}this.rc();
L=!!ba.J.length}else{O=ba.J;V=0;for(let ia=0,ja=O.length;ia<ja;++ia){const la=O[ia];O[V]=la;la.ub===L?ba.uo(la):++V}d.Qe(O,V);this.rc();L=!!O.length}}}else L=Da(this,L);return L}function Da(L,O){O=L.N().Te(O);if(!O)return!1;const V=L.ia();if(!V.jc&&!V.J.includes(O))return!1;if(L.gb){if(O.M().qF(L))return V.co(O),L.rc(),!0}else if(O.M()===L)return V.co(O),L.rc(),!0;return!1}function Ea(){this.j.Qn(this.I)}function Fa(){return!0}function Ga(){return!0}function Ia(L,O){this.Ia().no(L,O)}function Qa(L,
O){const V=this.Ia(),ba=V.uf(L);"number"===typeof ba&&"number"!==typeof O?O=parseFloat(O):"string"===typeof ba&&"string"!==typeof O&&(O=O.toString());V.no(L,ba+O)}function Ra(L,O){const V=this.Ia(),ba=V.uf(L);"number"===typeof ba&&("number"!==typeof O&&(O=parseFloat(O)),V.no(L,ba-O))}function Aa(L,O){this.Ia().no(L,O?1:0)}function Jb(L){const O=this.Ia();O.no(L,0===O.uf(L)?1:0)}function Kb(L){let O;try{O=JSON.parse(L)}catch(V){console.error("Failed to load from JSON string: ",V);return}L=this.Ia();
L.mt("state");L.ac(O,"state")}function pc(){return JSON.stringify(this.Ia().mc("state"))}function qc(){return this.Ia().M().Ha()}function rc(){const L=this.j.Yf().xK;let O=L.J.length;for(const V of this.j.tN(L))++O;return O}function sc(){return this.j.Yf().xK.ia().qa().length}function tc(){return this.I.Mp()}function uc(){return this.I.ub}d.xZ=function(L,O){const V=L[1],ba=L[4],ia=L[5],ja=L[6],la=L[7],va=L[8],na=L[10],wa=L[11],xa=L[12],Ha=L[13],La=L[14],Ca=L[15],ma=O.H,ea=O.Qa,oa=O.zd;L[3]&&(ma.Fma=
b,ma.Gma=e,ma.dpa=c,ma.fpa=f,ma.Yqa=k,ea.ye=g,ea.Ae=l,ea.m8=m,ea.Nua=q,ea.fqa=r,ea.eqa=p,oa.uS=u,oa.gI=t,oa.CY=w);ba&&(ma.Ema=x,ma.pma=z,ea.xe=D,ea.Ve=G,ea.Gc=N,oa.swa=B,oa.ioa=H,oa.sla=I,oa.ula=K,oa.tla=Q,oa.rla=R);ia&&(ma.OZ=U,ma.p4=Z,ma.n4=ca,ea.tc=Y,ea.n7=ha,ea.Ysa=ka,ea.Zsa=za,ea.$sa=Oa,ea.Sua=ab,oa.Yka=Ua);ja&&(ma.kd=mb,ma.tma=bb,ea.Ng=Va,ea.Dj=Pa,ea.Kta=fb,oa.Opacity=ub,oa.gma=cb);la&&(ma.bpa=vb,ma.gra=wb,ma.Hma=gb,ea.k5=xb,ea.gqa=yb,ea.j5=zb,ea.Fwa=Ab,ea.We=Bb,oa.ypa=Cb,oa.xpa=Db,oa.Ewa=hb,
oa.Dwa=Eb,oa.Gva=Fb);va&&(ea.Ota=Gb,ea.Pta=Hb);Ha&&(ma.Tk=ob,ma.dg=pb,ma.dra=qb,ma.Xqa=rb,ma.bra=db,ma.nma=h,ea.Pn=n,ea.Yk=v,ea.Tra=y,oa.dma=A);La&&(ea.Dua=E,ea.QR=F,oa.$pa=J,oa.aqa=M);na&&(ma.kd=mb,ea.Ng=P,ea.Fta=S,ea.Sta=T,ea.Sra=X);wa&&(ma.Poa=da,ea.Vta=W,ea.Ata=fa);xa&&(ma.ke=ua,ea.si=aa);Ca&&(ma.A5=Pb,ma.hpa=Rb,ma.ipa=Sb,O.v1=Ob);V||(ma.y_=pa,ma.Doa=sa,ma.Zqa=ta,ma.Wqa=ra,ea.cua=Ia,ea.CZ=Qa,ea.zva=Ra,ea.Bta=Aa,ea.Eva=Jb,ma.B5=Fa,ma.C5=Ga,ea.fna=Ea,ea.$G||(ea.$G=Kb),oa.WZ||(oa.WZ=pc),oa.Tma=rc,
oa.hra=sc,oa.loa=tc,oa.Pva=uc,oa.rqa=qc)}}
{"use strict";const d=self.C;d.xH=class extends d.oa{constructor(a){super();this.Ba=a;this.Ga="";this.gd=-1;this.yy="";this.mD=!1;this.dk=null;this.Pg=0;this.Mf=[];this.Ir=new Map;this.Sm=null;this.Yw=-1;this.EK=this.Lh=null;this.xy=!1}A(){this.Ga="";this.gd=-1;this.yy="";this.EK=this.Lh=this.Sm=this.dk=null;this.Yw=-1;d.G(this.Mf);for(const a of this.Ir.values())a.A();this.Ir.clear()}Mj(){var a=this.Ba,b=a.N().nd;const e=a.Yf();this.dk=e.Rb();this.Pg=e.Pg+1;if(a=a.LF(this.dk))this.Sm=a,this.Lh=a.l_(),
this.EK=a.TK.map(c=>c.Jd()),a.rh()&&(this.Yw=a.w6());for(const c of b)if(b=c.ia(),!b.jc||this.dk.i3(c))this.Mf.push(c),this.Ir.set(c,d.F(d.eS,b))}h4(a){this.Ga="timer";this.Mj();this.gd=this.Ba.N().mh()+a}f4(a){this.Ga="signal";this.Mj();this.yy=a.toLowerCase()}U3(a){this.Ga="promise";this.Mj();a.then(()=>this.MH()).catch(b=>{console.warn("[C3 runtime] Promise rejected in 'Wait for previous actions to complete': ",b);this.MH()})}H4(){return"timer"===this.Ga}F4(){return"signal"===this.Ga}A4(){return"promise"===
this.Ga}MH(){this.mD=!0}dV(){return this.H4()?this.gd<=this.Ba.N().mh():this.mD}BU(a){a.eJ(this.dk,this.Pg);for(const [b,e]of this.Ir.entries())e.eJ(b.ia());if(a=this.Sm)a.bw(this.Lh),a.TK.map((b,e)=>b.yh(this.EK[e])),a.rh()&&a.m7(this.Yw)}Bea(a){this.BU(a);this.dk.Aea(a);this.Sm&&this.Sm.rh()&&this.Sm.Sv(this.Yw);this.Ba.ls(this.Mf);this.xy=!0}async oaa(a){this.BU(a);for(const b of this.dk.naa(a))await this.Ba.N().ns(b);this.Sm&&this.Sm.rh()&&this.Sm.Sv(this.Yw);this.Ba.ls(this.Mf);this.xy=!0}jq(a){for(const b of this.Ir.values())b.jq(a)}wa(){const a=
{},b={t:this.gd,st:this.yy,s:this.mD,ev:this.dk.cb,sm:this.Mf.map(e=>e.cb),sols:a};this.dk.Tba(this.Pg)&&(b.act=this.dk.ZO(this.Pg).cb);for(const [e,c]of this.Ir)a[e.cb.toString()]=c.wa();return b}static P$(a,b){const e=a.N();var c=a.Q1(b.ev);if(!c)return null;let f=0;if(b.hasOwnProperty("act")){var k=a.z1(b.act);if(!k)return null;f=k.Ka()}k=d.F(d.xH,a);k.gd=b.t;k.Ga=-1===k.gd?"signal":"timer";k.yy=b.st;k.mD=b.s;k.dk=c;k.Pg=f;for(var g of b.sm)(c=e.lA(g))&&k.Mf.push(c);for(const [l,m]of Object.entries(b.sols))if(b=
e.lA(parseInt(l,10)))g=d.F(d.eS,null),g.Ca(a,m),k.Ir.set(b,g);return k}}}{"use strict";const d=self.C;d.eS=class extends d.oa{constructor(a){super();this.R=null;this.lD=!0;this.J=[];a&&(this.R=a.M(),this.lD=a.jc,d.jd(this.J,a.J))}A(){this.R=null;d.G(this.J)}eJ(a){a.Ye(this.lD);d.jd(a.J,this.J)}jq(a){d.ai(this.J,a)}wa(){return{sa:this.lD,insts:this.J.map(a=>a.ub)}}Ca(a,b){a=a.N();this.lD=!!b.sa;d.G(this.J);for(const e of b.insts)(b=a.Te(e))&&this.J.push(b)}}}
{"use strict";const d=self.C;function a(b,e){let c=b.get(e);c||(c=new Map,b.set(e,c));return c}d.Cj=class extends d.oa{constructor(b){super();this.j=b.Uc;this.Lo=!!b.KY;this.ng=!!b.nja;this.xha=!!b.mja;this.Hha=!!b.Bja;this.kha=!!b.$ia;this.XX=!!b.$ja;this.$ha=!!b.Zja;this.NX=null;this.CV=new Map;this.Rga=new Map;this.Sga=new Map;this.Tga=new Map}A(){this.j=null}N(){return this.j}Xb(){}Es(){return this.xha}bo(){return this.Hha}zG(){return this.kha}fl(b,e){if(!e)throw Error("missing 'this' binding");
let c=this.CV.get(b);if(c)return c;c=b.bind(e);this.CV.set(b,c);return c}mT(b,e,c){if(!e)throw Error("missing 'this' binding");const f=a(this.Rga,b);let k=f.get(c);if(k)return k;k=b.bind(e,c);f.set(c,k);return k}nT(b,e,c,f){if(!e)throw Error("missing 'this' binding");var k=a(this.Sga,b);k=a(k,c);let g=k.get(f);if(g)return g;g=b.bind(e,c,f);k.set(f,g);return g}oT(b,e,c,f,k){if(!e)throw Error("missing 'this' binding");var g=a(this.Tga,b);g=a(g,c);g=a(g,f);let l=g.get(k);if(l)return l;l=b.bind(e,c,f,
k);g.set(k,l);return l}Xfa(b){if(!this.Lo)throw Error("must be single-global plugin");this.NX=b}Qk(){if(!this.Lo)throw Error("must be single-global plugin");return this.NX.Qk()}}}
{"use strict";const d=self.C;d.dta=class extends d.Cj{constructor(a,b){super(a);this.Fo=b;this.Lha=0;this.UK=new Map;this.gO("elem-focused",e=>e.qda());this.gO("elem-blurred",e=>{e&&e.pda()})}A(){super.A()}Z9(a){const b=this.Lha++;this.UK.set(b,a);return b}qea(a){this.UK.delete(a)}gO(a,b){this.j.kj(this.Fo,a,e=>{const c=this.UK.get(e.elementId);b(c,e)})}}}{"use strict";const d=self.C;d.Cm=class extends d.oa{constructor(a){super();this.R=a;this.j=a.N();this.Qi=a.Sb()}A(){this.Qi=this.j=this.R=null}M(){return this.R}N(){return this.j}Sb(){return this.Qi}he(){return this.R.he()}qv(){}eq(){}ho(){}PA(){}jH(){}ag(){return null}}}
{"use strict";const d=self.C;d.jo=class extends d.oa{constructor(a,b){super();this.I=a;this.Fo=b;this.j=a.N();this.R=this.I.M();this.kb=this.R.kb;this.xn=this.zn=null;this.dn=this.cn=!1;this.rd=null;this.Wy=!1}A(){this.Wy=!0;this.nl();this.OB();this.xn=this.zn=null;this.rd&&(this.rd.A(),this.rd=null);this.kb=this.R=this.j=this.I=null}gB(){return this.Wy}Ia(){return this.I}N(){return this.j}M(){return this.R}Sb(){return this.kb.Sb()}qA(){return this.I.ji()}la(a){return this.j.la(a,this.I,null)}Cd(a){return this.j.Cd(a,
this.I,null)}lv(a,b){return this.j.lv(a,this.I,b)}DF(a,b){return this.j.DF(a,this.I,b)}hF(a,b){this.j.kj(this.Fo,a,b)}iF(a){for(const [b,e]of a)this.hF(b,e)}Wa(a,b){this.j.Am(this.Fo,a,b)}Xk(a,b){return this.j.gq(this.Fo,a,b)}hl(a,b){this.j.ff?this.Wa(a,b):window.c3_runtimeInterface._OnMessageFromRuntime({type:"event",component:this.Fo,handler:a,data:b,responseId:null})}Md(){}ct(){}De(){this.cn||(this.zn||(this.zn=()=>this.Md()),this.j.Fb().addEventListener("tick",this.zn),this.cn=!0)}nl(){this.cn&&
(this.j.Fb().removeEventListener("tick",this.zn),this.cn=!1)}tJ(){this.dn||(this.xn||(this.xn=()=>this.ct()),this.j.Fb().addEventListener("tick2",this.xn),this.dn=!0)}OB(){this.dn&&(this.j.Fb().removeEventListener("tick2",this.xn),this.dn=!1)}mc(){return null}ac(){}Wb(){}we(){}cH(a,b){if(0!==b){var e=this.Wb(a);if("number"!==typeof e)throw Error("expected number");this.we(a,e+b)}}ag(){return null}}}
{"use strict";const d=self.C;d.VA=class extends d.jo{constructor(a,b){super(a,b);this.wb=a.B();this.AE=this.Du=null}A(){if(this.Du){const a=this.j.Fb();a.removeEventListener("webglcontextlost",this.Du);a.removeEventListener("webglcontextrestored",this.AE);this.AE=this.Du=null}this.wb=null;super.A()}U2(){if(!this.Du){this.Du=()=>this.Is();this.AE=()=>this.SQ();var a=this.j.Fb();a.addEventListener("webglcontextlost",this.Du);a.addEventListener("webglcontextrestored",this.AE)}}Is(){}SQ(){}B(){return this.wb}$p(){return!1}Nk(){if(!this.$p())throw Error("original size not known");
const a=this.hi();if(a)return a.O()}Mk(){if(!this.$p())throw Error("original size not known");const a=this.hi();if(a)return a.P()}hi(){return null}bA(){var a=this.hi();return a&&(a=a.ue())?[a.O(),a.P()]:[100,100]}cA(){const a=this.hi();return a?a.bg():null}Ik(){const a=this.I.B();return[a.K(),a.L()]}Ks(){return!0}}}
{"use strict";const d=self.C,a=d.F(d.Rect);d.cta=class extends d.VA{constructor(b,e){super(b,e);this.xC=this.Sb().Z9(this);this.zW=!0;this.Nga=this.rK=!1;this.Zt=d.F(d.Rect,0,0,-1,-1);b=this.j.ea;this.RW=b.Tl;this.QW=b.Sl;this.De()}A(){this.Sb().qea(this.xC);this.Js("destroy");this.xC=-1;super.A()}Js(b,e){e||(e={});e.elementId=this.xC;this.Wa(b,e)}rU(b){b||(b={});b.elementId=this.xC;this.hl("focus",b)}ZA(b){b=!!b;this.zW!==b&&(this.zW=b,this.Js("set-visible",{isVisible:b}))}Md(){this.vga()}cga(){const b=
this.j.ea.hA();return"Android"===d.md.Hs&&("scale-inner"===b||"scale-outer"===b||"crop"===b)}vga(){var b=this.B();const e=b.ca();var c=b.K(),f=b.L();let [k,g]=e.cq(c,f),[l,m]=e.cq(c+b.O(),f+b.P());c=this.j.ea;f=c.qd;const q=c.bd;if(b.kd()&&e.kd()){if(!this.cga()){if(0>=l||0>=m||k>=f||g>=q){this.ZA(!1);return}1>k&&(k=1);1>g&&(g=1);l>=f&&(l=f-1);m>=q&&(m=q-1)}a.set(k,g,l,m);b=c.Tl;f=c.Sl;a.hd(this.Zt)&&this.RW===b&&this.QW===f?this.ZA(!0):(this.Zt.Aa(a),this.RW=b,this.QW=f,this.ZA(!0),b=null,this.Nga&&
(b=e.jm()-.2),this.Js("update-position",{left:Math.round(this.Zt.U)+c.gm(),top:Math.round(this.Zt.S)+c.hm(),width:Math.round(this.Zt.width()),height:Math.round(this.Zt.height()),fontSize:b}))}else this.ZA(!1)}XO(){this.rU({focus:!0})}oO(){this.rU({focus:!1})}qda(){this.rK=!0}pda(){this.rK=!1}O7(b,e){this.Js("set-css-style",{prop:d.f_(b),val:e})}N7(b,e){this.Js("set-attribute",{name:b,val:e})}V6(b){this.Js("remove-attribute",{name:b})}}}
{"use strict";const d=self.C,a=self.VP;d.kq=class extends d.oa{constructor(b){super();this.j=b.Uc;this.OL=d.F(d.oF);this.HD=d.F(d.oF);this.zx=null;this.Wha=b.Tja||null}A(){this.HD.A();this.OL.A();this.j=null}N(){return this.j}Xb(){}a$(b){this.OL.Jc(b)}iG(){return this.OL.OF()}Bh(b){this.HD.Jc(b)}Cq(b){this.HD.Ip(b)}qa(){return this.HD.OF()}g2(){if(null===this.zx){const b=this.Wha;if(b){if(this.zx=new b(this),!(this.zx instanceof a))throw new TypeError("script interface class must derive from IBehavior");
}else this.zx=new a(this)}return this.zx}}}{"use strict";const d=self.C;d.mq=class extends d.oa{constructor(a){super();this.j=a.N();this.od=a;this.R=a.M();this.Sj=a.rf();this.Sj.a$(this.R)}A(){this.Sj=this.R=this.od=this.j=null}fi(){return this.od}M(){return this.R}N(){return this.j}rf(){return this.Sj}}}
{"use strict";const d=self.C;d.lq=class extends d.oa{constructor(a,b){super();this.eC=a;this.Fo=b;this.I=a.I;this.j=a.N();this.od=a.fi();this.kb=this.od.kb;this.iD=this.dn=this.cn=!1;this.rd=null}A(){this.nl();this.OB();this.vJ();this.rd&&(this.rd.A(),this.rd=null);this.kb=this.od=this.j=this.I=this.eC=null}rf(){return this.od.rf()}M(){return this.I.M()}B(){return this.I.B()}N(){return this.j}fi(){return this.od}qA(){return this.eC.qA()}la(a){return this.j.la(a,this.I,this.od)}Cd(a){return this.j.Cd(a,
this.I,this.od)}RA(){}Md(){}ct(){}iH(){}De(){this.cn||(this.j.U9(this),this.cn=!0)}nl(){this.cn&&(this.j.nea(this),this.cn=!1)}tJ(){this.dn||(this.j.V9(this),this.dn=!0)}OB(){this.dn&&(this.j.oea(this),this.dn=!1)}sJ(){this.iD||(this.j.T9(this),this.iD=!0)}vJ(){this.iD&&(this.j.mea(this),this.iD=!1)}hF(a,b){this.j.kj(this.Fo,a,b)}mc(){return null}ac(){}Wb(){}we(){}cH(a,b){if(0!==b){var e=this.Wb(a);if("number"!==typeof e)throw Error("expected number");this.we(a,e+b)}}ag(){return null}}}
{"use strict";const d=self.C;d.D={};d.T={};d.y6=class extends d.oa{constructor(a){super();this.j=a;this.Mga=[];this.pX=new Map;this.de=null;this.Jga=[];this.XJ=new Map;this.IW=this.uM=null}O_(a){const b=this.j.ki(a[0]);if(!b)throw Error("missing plugin");d.xZ(a,b);a=d.F(b,{Uc:this.j,KY:a[1],nja:a[2],mja:a[5],$ia:a[8],Bja:a[9],$ja:a[13],Zja:a[14]});a.Xb();this.Mga.push(a);this.pX.set(b,a)}Q_(){this.de=d.F(d.D.ob,{Uc:this.j,KY:!0});this.de.Xb()}J_(a){a=this.j.ki(a[1]);if(!a)throw Error("missing behavior");
const b=d.F(a,{Uc:this.j});b.Xb();this.Jga.push(b);this.XJ.set(a,b);!this.uM&&d.T.Ep&&b instanceof d.T.Ep?this.uM=b:!this.IW&&d.T.pja&&b instanceof d.T.pja&&(this.IW=b)}F2(a){return this.pX.get(a)||null}a3(a){return this.XJ.has(a)}D1(a){return this.XJ.get(a)||null}Fv(){return this.de}rG(){return this.uM}}}
{"use strict";const d=self.C,a=new Set;d.BA=class extends d.oa{constructor(){super();this.Pl="";this.W=this.$=this.ku=this.ju=this.su=0;this.wx=this.kD=!1;this.Jf=null;this.wn="";this.Zg=d.F(d.Rect);this.Cr=d.F(d.Bd);a.add(this)}A(){this.oi();this.Jf=null;a.delete(this)}static Is(){for(const b of a)b.wn="",b.Zg.set(0,0,0,0),b.Cr.ij(b.Zg)}rQ(b){this.Pl=b[0];this.su=b[1];this.ju=b[2];this.ku=b[3];this.$=b[4];this.W=b[5];this.kD=b[6];this.wx=!0}U4(b,e){if(this.Jf)throw Error("already loaded asset");
this.Pl=e;const c={};d.HG(e)&&(c.hz="remote");this.ZG(b,c);return this.Jf.qQ()}e7(b){if(b===this)throw Error("cannot replace with self");this.oi();this.Pl=b.Pl;this.su=b.su;this.ju=b.ju;this.ku=b.ku;this.$=b.$;this.W=b.W;this.wx=b.wx;this.Jf=b.Jf;this.wn=b.wn;this.Zg=b.Zg;this.Cr=b.Cr}Vn(){return this.su}O(){return this.$}P(){return this.W}ZG(b,e){if(this.Jf)throw Error("already got asset");e=Object.assign({},e,{url:this.Pl,size:this.Vn()});this.Jf=b.NA(e)}TG(){return this.Jf&&this.Jf.TG()}async Fs(b,
e){if(!this.Jf)throw Error("no asset");if(this.wn)throw Error("already loaded texture");this.wn="loading";b=await this.Jf.Fs(b,e);if(!b)return this.wn="",null;this.wn="loaded";this.wx||(this.$=b.O(),this.W=b.P(),this.wx=!0);this.Zg.set(this.ju,this.ku,this.ju+(this.kD?this.W:this.$),this.ku+(this.kD?this.$:this.W));this.Zg.Xl(b.O(),b.P());this.Cr.ij(this.Zg);this.kD&&this.Cr.Pja();return b}oi(){this.wn&&(this.Jf&&this.Jf.oi(),this.wn="",this.Zg.set(0,0,0,0),this.Cr.ij(this.Zg))}ue(){return this.Jf?
this.Jf.ue():null}bg(){return this.Zg}rA(){return this.Cr}async q1(){const b=await this.Jf.Y4(),e=d.gh(this.$,this.W);e.getContext("2d").drawImage(b,this.ju,this.ku,this.$,this.W,0,0,this.$,this.W);return e}}}
{"use strict";const d=self.C;d.QZ=class extends d.oa{constructor(a){super();this.Pa=a[0];this.Cy=a[1];this.fD=!!a[2];this.ru=a[3];this.DX=a[4];this.wha=!!a[5];this.cb=a[6];this.oe=a[7].map(b=>d.F(d.PZ,b))}A(){for(const a of this.oe)a.A();d.G(this.oe)}R4(a){for(const b of this.oe)b.he().ZG(a)}S4(a,b){return Promise.all(this.oe.map(e=>e.he().Fs(a,b)))}S6(){for(const a of this.oe)a.he().oi()}Ha(){return this.Pa}Tn(a){a=Math.floor(a);if(0>a||a>=this.oe.length)throw new RangeError("invalid frame");return this.oe[a]}qm(){return this.Cy}Un(){return this.ru}}}
{"use strict";const d=self.C;d.PZ=class extends d.oa{constructor(a){super();this.Ug=d.F(d.BA);this.Ug.rQ(a);this.RV=a[7];this.lX=d.F(d.pw,a[8],a[9]);this.SC=a[10].map(b=>d.F(d.D3,this,b));this.rW=new Map;for(const b of this.SC)this.rW.set(b.Ha().toLowerCase(),b);this.Mq=null;a=a[11];6<=a.length&&(this.Mq=d.F(d.Hp,a))}A(){this.Mq&&(this.Mq.A(),this.Mq=null);this.Ug.A();this.Ug=null}he(){return this.Ug}Kk(){return this.lX.fa}Lk(){return this.lX.X}i2(a){return this.rW.get(a.toLowerCase())||null}h2(a){a=
Math.floor(a);return 0>a||a>=this.SC.length?null:this.SC[a]}cG(){return this.SC.length}}}{"use strict";const d=self.C;d.D3=class extends d.oa{constructor(a,b){super();this.Pa=b[0];this.eM=d.F(d.pw,b[1],b[2])}A(){}Ha(){return this.Pa}K(){return this.eM.fa}L(){return this.eM.X}Tp(){return this.eM}}}
{"use strict";const d=self.C,a=self.Dg,b=self.Nv;d.bH=class extends d.oa{constructor(e,c,f){super();const k=e.ki(f[1]);this.j=e;this.Qi=e.$o.F2(k);this.kb=null;this.WC=k.Instance;this.ab=c;this.cb=f[11];this.Pa=f[0];this.Sx=this.j.uj(f[14]);this.uha=!!f[9];this.gb=!!f[2];this.iL=!!f[10];this.mk=f[3].map(g=>({eZ:g[0],type:g[1],name:g[2],oja:e.uj(g[3])}));this.Pga=f[4];this.fha=f[5];this.ng=this.Qi.ng;this.Ya=null;this.lC=d.F(d.W8,e.Rh,e.Qh);this.PJ=!0;this.QJ=!1;this.AK=this.Go=null;this.gk=-1;this.zK=
this.CC=this.DC=this.yK=this.Ii=null;this.cL=!1;this.Hh=null;this.AV=f[8].map(g=>d.lO.$a(this,g));this.fC=[];this.YJ=new Map;this.WJ=new Map;this.fY=new Set;this.fp=d.F(d.T8,this);this.ZB=this.YB=this.me=this.Ug=this.Hh=this.Gt=null;this.yu=0;this.Pb=new Map;this.$i=new Map;this.J=[];this.QK=!0;this.Qi.zG()&&(this.Ya=d.F(d.dm,this,f[12]));f[6]&&(this.Ug=d.F(d.BA),this.Ug.rQ(f[6]));if(f[7]){this.me=f[7].map(g=>d.F(d.QZ,g));this.YB=new Map;this.ZB=new Map;for(const g of this.me)this.YB.set(g.Ha().toLowerCase(),
g),this.ZB.set(g.cb,g)}this.gb?(this.Go=[],this.AK=new Set,this.gk=this.j.Gba()):(this.Ii=[],this.yK=new Set,this.DC=[],this.CC=[],this.zK=[]);this.kb=d.F(k.Ce,this,f[15]);this.xW=this.Bx=null;this.Ne=d.F(d.Event.Fb);if(c=this.kb.ag()){if(this.Bx=new c(this),!(this.Bx instanceof b))throw new TypeError("script interface class must derive from IObjectClass");}else this.Bx=new b(this);this.j.wE&&!this.gb&&!this.iL&&this.ng||this.Xb();this.Qi.Lo&&(this.Qi.Xfa(this),this.baa(f))}static $a(e,c,f){return d.F(d.bH,
e,c,f)}A(){this.Ug&&(this.Ug.A(),this.Ug=null);if(this.me){for(const e of this.me)e.A();d.G(this.me);this.YB.clear();this.ZB.clear()}this.fp.A();this.fp=null;this.Pb.clear();this.$i.clear();this.j=this.Hh=null}Bca(e){for(let c=1,f=e.length;c<f;++c){const k=this.j.$f(e[c]);this.Go.push(k);this.AK.add(k);k.Ii.push(this);k.yK.add(this)}}pfa(e){this.cL=!0;this.Hh=e}lc(){return this.cL}hda(){var e=0;if(!this.gb)for(var c of this.Ii)for(var f of c.AV){const l=f.Ha().toLowerCase();this.YJ.set(l,f);this.WJ.set(l,
e);this.fC.push(f);++e}for(var k of this.AV)c=k.Ha().toLowerCase(),this.YJ.set(c,k),this.WJ.set(c,e),this.fC.push(k),++e;for(var g of this.fC)this.fY.add(g.rf().constructor);if(!this.gb&&this.Ii.length){e=this.j.WV;d.IE(this.DC,e,0);d.IE(this.CC,e,0);d.IE(this.zK,e,0);e=[];c=g=k=0;for(const l of this.Ii)if(f=l.gk,this.DC[f]=k,k+=l.mk.length,this.CC[f]=g,g+=l.Pga,this.zK[f]=c,c+=l.fha,(f=l.Ya)&&this.Ya)for(const m of f.ih())e.push(m.u_(this.Ya));this.Ya&&this.Ya.E6(e)}}baa(e){const c=this.j.Fba(),
f=d.F(d.Instance,{Uc:this.j,FN:this,uid:c});f.kB(e[16],[]);this.j.Uca(c,f);this.J.push(f)}Xb(){this.gb||this.kb.Xb()}f3(){return 0<this.yu}eq(e){if(this.gb)return Promise.resolve();this.yu++;return 1===this.yu?this.kb.eq(e)||Promise.resolve():Promise.resolve()}ho(){if(!this.gb){this.yu--;if(0>this.yu)throw Error("released textures too many times");0===this.yu&&this.kb.ho()}}PA(){if(this.gb)throw Error("not applicable to family");this.kb.PA()}jH(e){return this.gb?Promise.resolve():this.kb.jH(e)}N(){return this.j}Sb(){return this.Qi}Ha(){return this.Pa}uj(){return this.Sx}Ka(){return this.ab}uh(){return this.uha}oS(e){return e&&
this.fY.has(e)}o2(){return this.mk.map(e=>e.eZ)}n2(e){return this.mk.findIndex(c=>c.eZ===e)}m2(e){return this.mk.findIndex(c=>c.name===e)}sba(){return this.mk.map(e=>e.oja)}Av(e){e=Math.floor(e);if(0>e||e>=this.mk.length)throw new RangeError("invalid instance variable index");return this.mk[e].type}qP(e){e=Math.floor(e);if(0>e||e>=this.mk.length)throw new RangeError("invalid instance variable index");return this.mk[e].name}Wz(e){return this.YJ.get(e.toLowerCase())||null}uv(e){e=this.WJ.get(e.toLowerCase());
return"undefined"===typeof e?-1:e}zG(){return this.Qi.zG()}pS(){return this.Ya&&this.Ya.W2()}ia(){return this.fp.ia()}he(){return this.Ug}AR(e){this.Gt=e}qF(e){return this.yK.has(e)}UO(e){return this.AK.has(e)}Lp(e){return this.CC[e]}mP(e){return this.DC[e]}aP(e){if(!this.me)throw Error("no animations");return this.YB.get(e.toLowerCase())||null}B1(e){if(!this.me)throw Error("no animations");return this.ZB.get(e)||null}Y1(){if(!this.me)throw Error("no animations");return this.me[0].Tn(0)}M1(){if(this.me){const e=
this.Y1().he();return[e.O(),e.P()]}return this.Ug?[this.Ug.O(),this.Ug.P()]:[100,100]}Qk(){if(!this.Qi.Lo)throw Error("not a single-global plugin");return this.J[0]}qa(){return this.J}*IY(){yield*this.J}*eja(){yield*this.J;for(const e of this.j.Zm)e.M()===this&&(yield e)}Bh(e){this.J.push(e)}Ow(){this.QK=!0}RB(){if(this.QK&&!this.gb){var e=this.J,c=0;for(let f=e.length;c<f;++c)e[c].UU(c);e=this.j.Zm;for(const f of e)f.M()===this&&f.UU(c++);this.QK=!1}}pP(e){var c=this.J;if(e<c.length)return c[e];
e-=c.length;c=this.j.Zm;for(const f of c)if(f.M()===this){if(0===e)return f;--e}return null}ii(e){if(e&&e.lc()&&e.M()!==this)for(const c of e.ae)if(c.M()===this)return c;e=this.ia().qa();return e.length?e[0]:null}D2(e){const c=this.ia().qa();return 0<c.length?c[e.Mp()%c.length]:null}*pY(e,c){const f=this.ia().qa();var k=f.length;const g=c.ia(),l=c.ia().qa(),m=l.length;var q=e.Mp();if(c.gb||!g.jc)q=l.indexOf(e);e=Math.ceil(k/m);k%=m;0===k||q<k?(q*=e,k=e):(q=k*e+(q-k)*(e-1),k=e-1);for(let r=q,p=q+k;r<
p;++r)yield f[r]}qv(e){this.kb.qv(e)}rc(){if(this.cL&&!this.gb){this.RB();var e=this.ia(),c=e.J,f=e.jc,k=this.j.Yf();k=k&&k.Rb()&&k.Rb().pe;for(const m of this.Hh.nn)if(m!==this){m.RB();var g=m.ia();g.Ye(f);if(!f){var l=g.J;d.G(l);for(const q of c)l.push(m.pP(q.Mp()));if(k){l=e.yc;g=g.yc;d.G(g);for(const q of l)g.push(m.pP(q.Mp()))}}}}}pga(e,c){for(const f of this.Hh.nn){const k=f.ia();e?d.Qe(k.yc,c):d.Qe(k.J,c)}}NU(){this.PJ=!0}iJ(e){this.QJ=!!e}kV(){if(this.PJ&&this.ng){for(const e of this.J)e.B().nV();
for(const e of this.j.Zm)e.M()===this&&e.B().nV();this.PJ=!1}}xf(){this.Pb||(this.Pb=new Map);return this.Pb}Hv(){this.$i||(this.$i=new Map);return this.$i}SP(){return this.oS(d.T.nqa)}AG(){return this.oS(d.T.Rqa)}wa(){const e={instances:this.J.map(c=>c.mc())};this.Pb&&this.Pb.size&&(e.ex=d.cI(this.Pb));return e}Ca(e){this.Pb&&(this.Pb.clear(),this.Pb=null);var c=e.ex;c&&(this.Pb=d.MF(c));c=this.J;e=e.instances;for(let f=0,k=Math.min(c.length,e.length);f<k;++f)c[f].ac(e[f]);for(let f=e.length,k=c.length;f<
k;++f)this.j.Qn(c[f]);for(let f=c.length,k=e.length;f<k;++f){c=e[f];let g=null;if(this.ng&&(g=this.j.Nb().kA(c.w.l),!g))continue;this.j.oj(this.Gt||this,g,!1,0,0,!0).ac(c)}this.Ow()}ei(e){var c=this.j;(c=c.Bb&&!c.ta().FA())&&a.ZH();this.Ne.dispatchEvent(e);c&&a.mF()}}}{"use strict";const d=self.C;d.D_=class extends d.oa{constructor(a,b){super();this.j=a;this.nn=b;for(const e of this.nn)e.pfa(this)}A(){this.j=null}N(){return this.j}Z2(){return this.nn.some(a=>a.ng)}}}
{"use strict";const d=self.C,a=self.Dg,b=self.zs,e=[];let c=0;const f=new WeakMap,k=new WeakMap;d.Instance=class extends d.oa{constructor(g){super();this.j=g.Uc;this.He=g.FN;this.cf=this.ra=this.wb=null;this.pW=0;this.ub=g.uid;this.wX=c++;this.ya=0;this.$c=this.Kf=e;var l=this.He.fC;0<l.length&&(this.$c=l.map((m,q)=>d.F(d.xz,{Uc:this.j,fN:m,instance:this,index:q})));this.ae=this.He.lc()?[]:null;this.Qd=-1;this.ec=null;l=this.Sb();l.bo()&&(this.ya|=4);if(l.ng)if(this.wb=d.F(d.M9,this,g.se),g.oZ)this.wb.ph(g.oZ);
else{this.wb.T3();const [m,q]=this.He.M1();this.wb.Gc(m,q);this.M().pS()&&this.wb.df.T4()}g.HY?this.Fca(g.HY):this.zca()}A(){this.cf&&(this.cf.Nw(),this.cf=null);if(0<this.$c.length){for(var g of this.$c)g.A();d.G(this.$c)}this.ra.A();this.ra=null;if(g=f.get(this))g.clear(),f.delete(this);if(g=k.get(this))g.clear(),k.delete(this);this.ae&&d.G(this.ae);this.ec&&(this.ec.A(),this.ec=null);this.He=this.j=null;0<this.Kf.length&&d.G(this.Kf);this.wb&&(this.wb.A(),this.wb=null)}Fca(g){0<g.length&&(this.Kf=
[],d.jd(this.Kf,g))}zca(){const g=this.He.mk.length;if(0!==g){this.Kf=[];var l=[0,0,""];for(let m=0;m<g;++m)this.Kf.push(l[this.He.Av(m)])}}kB(g,l){if(this.ra)throw Error("already got sdk instance");for(let m=0,q=this.$c.length;m<q;++m)this.$c[m].kB(l?l[m]:null);this.ra=d.F(this.He.WC,this,g);if(!(this.ra instanceof d.jo))throw Error("sdk type must derive from SDKInstanceBase");for(let m=0,q=this.$c.length;m<q;++m)this.$c[m].RA();this.He.xW&&this.QT()}B(){return this.wb}N(){return this.j}$O(){const g=
this.Qd;return-1===g?this.N().Qd:g}QH(g){g=+g;if(0>g||!isFinite(g))g=0;this.Qd=g}l7(){this.Qd=-1}Fb(){this.ec||(this.ec=d.F(d.Event.Fb));return this.ec}Se(g){this.ra.Se(g)}Xb(g){this.ra.Xb(g)}Dfa(){this.ya|=2}yj(){return 0!==(this.ya&2)}UI(){this.ya|=1}KG(){return 0!==(this.ya&1)}bo(){return 0!==(this.ya&4)}h8(){this.ya|=32}yQ(){return 0!==(this.ya&32)}VT(){return 0!==(this.ya&8)}Yfa(g){this.ya=g?this.ya|8:this.ya&-9}aw(g,l){g<<=16;this.ya=l?this.ya|g:this.ya&~g}$F(g){return 0!==(this.ya&g<<16)}hi(){return this.ra.hi()}bA(){return this.ra.bA()}cA(){return this.ra.cA()}Ik(g){return this.ra.Ik(g)}M(){return this.He}Ks(){return this.ra.Ks()}ks(g){return g.gb?
g.UO(this.M()):this.M()===g}qS(){if(!this.Sb().XX)throw Error("object does not support scene graph");}Tk(){return null!==this.Ja()}Ja(){var g=this.B();return g?(g=g.Ja())?g.Ia():null:null}tA(){var g=this.B();return g?(g=g.tA())?g.Ia():null:null}*kz(){const g=this.B();if(g)for(const l of g.kz())yield l.Ia()}dg(){const g=this.B();return g?g.dg():!1}Wf(){const g=this.B();return g?g.Wf().map(l=>l.Ia()):[]}*children(){const g=this.B();if(g)for(const l of g.children())yield l.Ia()}*Vl(){const g=this.B();
if(g)for(const l of g.Vl())yield l.Ia()}$z(){const g=this.B();return g?g.$z():0}SF(g){const l=this.B();return l?(g=l.SF(g))?g.Ia():null:null}Pn(g,l){this.qS();g.qS();this.B().Pn(g.B(),l||{})}Yk(g){const l=this.B();l&&l.Yk(g.B())}eA(){const g=this.B();return g?g.eA():!1}N8(){var g=this.B();if(g&&(g=g.pM))for(const l of g)if(g=this.j.Te(l[2])){const m=l[3];this.Pn(g,{Xu:!!(m>>0&1),Yu:!!(m>>1&1),gs:!!(m>>2&1),es:!!(m>>3&1),Wu:!!(m>>4&1),Zy:!!(m>>5&1),Zu:!!(m>>6&1)})}}lc(){return null!==this.ae}ft(g){this.ae.push(g)}h3(g){return!!this.KP(g)}KP(g){const l=
this.ae;if(null===l||0===l.length)return!1;for(const m of l)if(m.M()===g)return m;return null}Gj(){for(const g of this.ae)g.M().ia().al(g)}bea(){for(const g of this.ae)g.M().ia().Bq(g)}Wfa(g){for(const l of this.ae)l.M().ia().J[g]=l}aea(){for(const g of this.ae)g.M().ia().uo(g)}Vfa(g){for(const l of this.ae)l.M().ia().yc[g]=l}Sb(){return this.He.Sb()}UU(g){this.pW=g}Mp(){this.He.RB();return this.pW}E1(g){if(!g)return null;for(const l of this.$c)if(l.rf()instanceof g)return l;return null}RF(g){return g?
(g=this.E1(g))?g.ra:null:null}bP(g){const l=this.$c;for(let m=0,q=l.length;m<q;++m)if(l[m].fi().cb===g)return m;return-1}uf(g){g|=0;const l=this.Kf;if(0>g||g>=l.length)throw new RangeError("invalid instance variable");return l[g]}Dba(g){return this.Kf[g]}Cba(g){const l=this.Kf[g];return 0===this.He.Av(g)?!!l:l}no(g,l){g|=0;const m=this.Kf;if(0>g||g>=m.length)throw new RangeError("invalid instance variable");switch(this.He.Av(g)){case 0:m[g]=l?1:0;break;case 1:m[g]="number"===typeof l?l:parseFloat(l);
break;case 2:m[g]="string"===typeof l?l:l.toString();break;default:throw Error("unknown instance variable type");}}c8(g,l){if(0!==l){g|=0;var m=this.Kf;if(0>g||g>=m.length)throw new RangeError("invalid instance variable");var q=m[g];if("number"===typeof q)m[g]="number"===typeof l?m[g]+l:m[g]+parseFloat(l);else{if("boolean"===typeof q)throw Error("can not set offset of boolean variable");if("string"===typeof q)throw Error("can not set offset of string variable");throw Error("unknown instance variable type");
}}}xf(){let g=f.get(this);if(g)return g;g=new Map;f.set(this,g);return g}Hv(){let g=k.get(this);if(g)return g;g=new Map;k.set(this,g);return g}KT(g){const l=this.M();if(l.Ne.xG(g))return!0;for(const m of l.Ii)if(m.Ne.xG(g))return!0;return this.j.Ne.xG(g)?!0:!1}QB(){const g=new Set;g.add(this);const l=this.B();if(l&&l.dg())for(const m of this.Vl())if(g.add(m),m.lc())for(const q of m.ae)g.add(q);if(this.lc())for(const m of this.ae)g.add(m);for(const m of g.values())m.hV()}hV(){if(this.KT("instancecreate")){const g=
this.M(),l=new d.Event("instancecreate");l.instance=this.ji();g.ei(l);for(const m of g.Ii)m.ei(l);this.j.ei(l)}this.j.la(this.Sb().constructor.H.B5,this,null)}nga(){this.j.la(this.Sb().constructor.H.C5,this,null)}kba(g){if(this.cf){var l=new d.Event("destroy");l.ija=g;this.ei(l)}if(this.KT("instancedestroy")){l=this.M();var m=new d.Event("instancedestroy");m.instance=this.ji();m.ija=g;l.ei(m);for(const q of l.Ii)q.ei(m);this.j.ei(m)}}mc(g="full"){const l={};"full"===g?l.uid=this.ub:l.c3=!0;if("visual-state"!==
g){var m=f.get(this);m&&m.size&&(l.ex=d.cI(m));-1!==this.Qd&&(l.mts=this.Qd);if(0<this.He.mk.length){m={};var q=this.He.o2();for(let r=0,p=this.Kf.length;r<p;++r)m[q[r].toString()]=this.Kf[r];l.ivs=m}if(this.$c.length){m={};for(const r of this.$c)(q=r.mc())&&(m[r.fi().cb.toString()]=q);l.behs=m}}this.wb&&(l.w=this.wb.wa(g));(g=this.ra.mc())&&(l.data=g);return l}mt(g="full"){this.wb&&this.wb.mt(g)}ac(g,l="full"){if("full"===l)this.ub=g.uid;else if(!g.c3)return;if("visual-state"!==l){var m=f.get(this);
m&&(m.clear(),f.delete(this));if(m=g.ex)m=d.MF(m),f.set(this,m);this.Qd=g.hasOwnProperty("mts")?g.mts:-1;if(m=g.ivs)for(const [p,u]of Object.entries(m))if(m=this.He.n2(parseInt(p,10)),!(0>m||m>=this.Kf.length)){var q=u;null===q&&(q=NaN);this.Kf[m]=q}}if(this.Sb().ng){m=g.w;var r=m.l;this.wb.ca().cb!==r&&(q=this.wb.ca(),(r=q.sc().kA(r))?(this.wb.Pw(r),q.Cq(this,!0),r.Bh(this,!0),r.zh(),this.wb.ua()):"full"===l&&this.j.Qn(this));this.wb.Ca(m,l)}if("visual-state"!==l&&(l=g.behs))for(const [p,u]of Object.entries(l))l=
this.bP(parseInt(p,10)),0>l||l>=this.$c.length||this.$c[l].ac(u);(g=g.data)&&this.ra.ac(g)}ji(){return this.cf||this.QT()}QT(){var g=this.wb?self.Ov:b;const l=this.ra.ag(),m=this.He.xW,q=m||l||g;b.Mj(this);this.cf=new q;b.Mj(null);if(l&&!(this.cf instanceof g))throw new TypeError(`script interface class '${l.name}' does not extend the right base class '${g.name}'`);if(m&&(g=l||g,!(this.cf instanceof g)))throw new TypeError(`setInstanceClass(): class '${m.name}' does not extend the right base class '${g.name}'`);
return this.cf}Bba(g){if(0!==this.Kf.length){var l={},m=this.He.sba();for(let q=0,r=m.length;q<r;++q)l[m[q]]={configurable:!1,enumerable:!0,get:d.Instance.prototype.Cba.bind(this,q),set:d.Instance.prototype.no.bind(this,q)};l=Object.create(Object.prototype,l);g.Uxa={value:l,writable:!1}}}uba(g){var l=this.$c;if(0!==l.length){var m={};for(const q of l)m[q.fi().uj()]={value:q.qA(),writable:!1};l=Object.create(Object.prototype,m);g.Xy={value:l,writable:!1}}}ei(g){g.instance=this.ji();var l=this.j;(l=
l.Bb&&!l.ta().FA())&&a.ZH();this.ji().dispatchEvent(g);l&&a.mF()}}}
{"use strict";const d=self.C;d.v7=class extends d.oa{constructor(a){super();this.qc=a;this.Rc=null;this.jC=[];this.gE=a.O();this.fE=a.P();this.CM=this.BM=1;this.KD=0}A(){this.Rc=null;d.G(this.jC)}UR(a){this.KD=(this.Rc=a)?a.Y():0}Ja(){return this.Rc}dg(){return 0<this.jC.length}Wf(){return this.jC}t8(a){this.BM=a}u8(a){this.CM=a}Ok(){return this.qc.Qp()?this.Rc.O()/this.Rc.Ub.gE:1}Pk(){return this.qc.Pp()?this.Rc.P()/this.Rc.Ub.fE:1}wa(){return{sw:this.gE,sh:this.fE,sx:this.BM,sy:this.CM,psa:this.KD,
c:this.jC.map(a=>{let b="";a.Rp()&&(b+="x");a.Sp()&&(b+="y");a.Qp()&&(b+="w");a.Pp()&&(b+="h");a.vA()&&(b+="a");a.wA()&&(b+="z");a.eA()&&(b+="d");return{uid:a.Ia().ub,f:b}})}}Ca(a){this.gE=a.sw;this.fE=a.sh;this.BM=a.sx;this.CM=a.sy;this.KD=a.psa}Lm(a){const b=this.qc,e=b.N();for(const c of a.c){a=e.Te(c.uid).B();const f=c.f,k={};k.Xu=f.includes("x");k.Yu=f.includes("y");k.gs=f.includes("w");k.es=f.includes("h");k.Wu=f.includes("a");k.Zu=f.includes("z");k.Zy=f.includes("d");b.Pn(a,k)}}}}
{"use strict";const d=self.C,a=d.F(d.Rect),b=d.F(d.Bd),e=d.F(d.Event,"bboxchange",!1),c=d.F(d.jb,0,0,0,0),f=d.F(d.Hp),k=d.F(d.jb,1,1,1,1),g=d.F(d.Rect,0,0,-1,-1),l=d.F(d.Rect,0,0,-1,-1),m=new Set(["absolute","relative"]),q=[];let r=!0;d.M9=class extends d.oa{constructor(p,u){super();this.I=p;this.R=p.M();this.j=p.N();this.Gl=u;this.Ul=-1;this.ya=196635;this.R.Sb().Es()&&(this.ya|=128);this.mu=this.lu=this.hK=this.rM=this.bb=this.Hf=this.kk=this.Bk=this.ud=this.X=this.fa=NaN;this.bK=d.F(d.Rect);this.cK=
d.F(d.Bd);this.kC=l;this.oy=g;this.Xi=this.Au=this.cE=null;this.Oq=this.Ua=k;this.df=this.Lr=null;this.I.M().pS()&&(this.df=d.F(d.j4,this.I,this));this.pM=this.Ub=null;this.Hr=this.IX=NaN;this.Pi=null}UI(){this.ya|=256}A(){this.Lr&&(this.j.Hb().cR(this.Lr),this.Lr=null);this.cE=null;this.Au&&(this.Au.XY.A(),this.Au=null);this.Xi&&(this.Xi.clear(),this.Xi=null);this.UA();this.Tk()&&this.Ja().Yk(this);if(this.dg()){const p=[...this.Wf()];for(const u of p)this.Yk(u)}this.GB();this.Gl=this.j=this.R=this.I=
null}ph(p){r=!1;this.Lc(p[0],p[1]);this.We(p[2]);this.Gc(p[3],p[4]);this.Hf=0;this.Es()?this.tc(p[6]):this.bb=0;c.Mn(p[7]);this.IB(c);this.Ts(p[8]);this.Us(p[9]);this.fg(p[10]);this.df&&this.df.Aca(p[12]);p[14]&&(this.pM=p[14][1],this.IX=p[14][2]);if(p[15]){var u=p[15];this.AF(u[0],u[1]);p=this.Rk();u=u[2];for(let t=0,w=u.length;t<w;++t){const x=u[t];for(let z=0,D=x.length;z<D;++z){const G=x[z],N=p.us(z,t);N.ye(G[0]);N.Ae(G[1]);N.We(G[2]);N.RH(G[3]);N.SH(G[4])}}}r=!0;this.ot()}T3(){this.rM=this.bb=
this.Hf=this.kk=this.Bk=this.ud=this.X=this.fa=0;this.hK=1;this.mu=this.lu=0;this.ot()}N(){return this.j}M(){return this.R}Ia(){return this.I}Aw(){return this.vA()?this.Ja().Y()-this.Ub.KD:0}ye(p){p=+p;if(this.Rp()){const u=this.Ub;p-=this.K();const t=-this.Aw();0===t?this.fa+=p/u.Ok():(this.fa+=Math.cos(t)*p/u.Ok(),this.Sp()&&(this.X+=Math.sin(t)*p/u.Pk()))}else this.fa=p}dH(p){p=+p;this.Rp()?this.ye(this.K()+p):this.fa+=p}K(){if(this.Rp()){let p=this.fa;const u=this.Ub,t=this.Ja(),w=this.Aw();0===
w?p*=u.Ok():(p=p*u.Ok()*Math.cos(w),this.Sp()&&(p-=this.X*u.Pk()*Math.sin(w)));return t.K()+p}return this.fa}Ae(p){p=+p;if(this.Sp()){const u=this.Ub;p-=this.L();const t=-this.Aw();0===t?this.X+=p/u.Pk():(this.Rp()&&(this.fa-=Math.sin(t)*p/u.Ok()),this.X+=Math.cos(t)*p/u.Pk())}else this.X=p}eH(p){p=+p;this.Sp()?this.Ae(this.L()+p):this.X+=p}L(){if(this.Sp()){let p=this.X;const u=this.Ub,t=this.Ja(),w=this.Aw();0===w?p*=u.Pk():(p=p*u.Pk()*Math.cos(w),this.Rp()&&(p+=this.fa*u.Ok()*Math.sin(w)));return t.L()+
p}return this.X}Lc(p,u){p=+p;u=+u;if(this.PP()){const w=this.Rp(),x=this.Sp(),z=this.Ub,D=p-this.K(),G=u-this.L();var t=-this.Aw();if(0===t)this.fa=w?this.fa+D/z.Ok():p,this.X=x?this.X+G/z.Pk():u;else{const N=Math.sin(t);t=Math.cos(t);this.fa=w?x?this.fa+(t*D-N*G)/z.Ok():this.fa+t*D/z.Ok():p;this.X=x?w?this.X+(N*D+t*G)/z.Pk():this.X+t*G/z.Pk():u}}else this.fa=p,this.X=u}ym(p,u){p=+p;u=+u;this.PP()?this.Lc(this.K()+p,this.L()+u):(this.fa+=p,this.X+=u)}KF(p,u){return this.K()===p&&this.L()===u}We(p){p=
+p;this.wA()&&(p-=this.Ja().Va());this.ud!==p&&(this.ud=p,this.tV(),p=this.ca(),0!==this.ud&&p.OU(),p.zh())}tV(){this.ot();if(this.dg()){const p=this.Wf();for(let u=0,t=p.length;u<t;u++){const w=p[u];w.wA()&&w.tV()}}}u5(p){this.We(this.Va()+p)}Va(){return this.wA()?this.Ja().Va()+this.ud:this.ud}ve(){return this.ca().Va()+this.Va()}xe(p){p=+p;this.Bk=this.Qp()?this.Bk*(p/this.O()):p}BQ(p){p=+p;this.Qp()?this.xe(this.O()+p):this.Bk+=p}O(){return this.Qp()?this.Ja().O()*this.Bk:this.Bk}Ve(p){p=+p;this.kk=
this.Pp()?this.kk*(p/this.P()):p}AQ(p){p=+p;this.Pp()?this.Ve(this.P()+p):this.kk+=p}P(){return this.Pp()?this.Ja().P()*this.kk:this.kk}Gc(p,u){p=+p;u=+u;this.Bk=this.Qp()?this.Bk*(p/this.O()):p;this.kk=this.Pp()?this.kk*(u/this.P()):u}nG(){if(this.Tk()){const p=this.Ub;return Math.min(p.Ok(),p.Pk())}return 1}Es(){return 0!==(this.ya&128)}tc(p){p=+p;this.Es()&&(this.vA()&&(p-=this.Ja().Y()),p=d.Tc(p),this.bb!==p&&(this.bb=p,this.VI()))}q5(p){p=+p;0!==p&&this.Es()&&(this.bb=d.Tc(this.bb+p),this.VI())}VI(){this.ya|=
262144;if(this.dg()){const p=this.Wf();for(let u=0,t=p.length;u<t;u++)p[u].VI()}}Y(){return this.vA()?d.Tc(this.Ja().Y()+this.bb):this.bb}gU(){const p=this.ya;if(0!==(p&262144)){var u=this.Y();this.rM=Math.sin(u);this.hK=Math.cos(u);this.ya=p&-262145}}qG(){this.gU();return this.rM}TF(){this.gU();return this.hK}Ts(p){this.lu=+p}s5(p){this.lu+=+p}Kk(){return this.lu}Us(p){this.mu=+p}t5(p){this.mu+=+p}Lk(){return this.mu}IB(p){this.Ua.hd(p)||(this.Ua===k?(this.Ua=d.F(d.jb,p),this.Oq=d.F(d.jb,p),this.Oq.TE()):
p.az(1,1,1,1)?this.Oq=this.Ua=k:(this.Ua.set(p),this.Oq.set(p),this.Oq.TE()),this.ot())}Dj(p){p=d.ja(+p,0,1);this.Ua.up!==p&&(c.Wl(this.Ua),c.up=p,this.IB(c))}r5(p){this.Dj(this.vf()+p)}vf(){return this.Ua.up}aS(p){this.Ua.In(p)||(c.Wl(p),c.up=this.Ua.up,this.IB(c))}G8(p,u,t){c.Tu(p,u,t);this.aS(c)}jG(){return this.Oq}eA(){return 0!==(this.ya&512)}K7(p){this.Cf(512,p)}Rp(){return 0!==(this.ya&1024)}B8(p){this.Cf(1024,p)}Sp(){return 0!==(this.ya&2048)}PP(){return 0!==(this.ya&3072)}C8(p){this.Cf(2048,
p)}Qp(){return 0!==(this.ya&4096)}A8(p){this.Cf(4096,p)}Pp(){return 0!==(this.ya&8192)}z8(p){this.Cf(8192,p)}vA(){return 0!==(this.ya&16384)}y8(p){this.Cf(16384,p)}wA(){return 0!==(this.ya&32768)}D8(p){this.Cf(32768,p)}GS(){this.ya&=-65025}Pn(p,u){if(p!==this&&!p.Tk()&&!this.MT(p)&&!this.LT(p)){var t=p.K(),w=p.L(),x=p.O(),z=p.P(),D=p.Y(),G=p.Va();p.XU(this);p.B8(u.Xu);p.C8(u.Yu);p.A8(u.gs);p.z8(u.es);p.y8(u.Wu);p.D8(u.Zu);p.K7(u.Zy);u.Xu&&(p.fa=t-this.K(),u.gs&&(p.fa/=this.O()/this.Ub.gE));u.Yu&&
(p.X=w-this.L(),u.es&&(p.X/=this.P()/this.Ub.fE));u.gs&&(p.Bk=x/this.O(),p.Ub.t8(p.Bk));u.es&&(p.kk=z/this.P(),p.Ub.u8(p.kk));u.Wu&&(p.bb=D-this.Y());u.Zu&&(p.ud=G-this.Va());this.W9(p);this.ua()}}Yk(p){if(p.Ja()===this){var u=p.K(),t=p.L(),w=p.O(),x=p.P(),z=p.Y(),D=p.Va();p.XU(null);p.GS();p.Lc(u,t);p.Gc(w,x);p.tc(z);p.We(D);this.pea(p);this.ua()}}yea(){for(var p of this.children())this.Yk(p);(p=this.Ja())&&p.Yk(this);this.GS()}Tk(){return null!==this.Ja()}Ja(){const p=this.Ub;return null!==p?p.Ja():
null}tA(){let p=this;for(;p.Tk();)p=p.Ja();return p}*kz(){let p=this.Ja();for(;p;)yield p,p=p.Ja()}b3(p){return this.Wf().includes(p)}dg(){const p=this.Ub;return null!==p?p.dg():!1}Wf(){const p=this.Ub;return null!==p?p.Wf():q}children(){return this.Wf()}*Vl(){for(const p of this.children())yield p,yield*p.Vl()}$z(){return this.Wf().length}SF(p){const u=this.Wf();p=Math.floor(+p);return 0>p||p>=u.length?null:u[p]}qI(p){this.Ub||(this.Ub=d.F(d.v7,this));p&&this.Ub.UR(p)}GB(){this.Ub&&(this.Ub.A(),
this.Ub=null)}XU(p){p?(p.qI(null),this.qI(p)):(this.Ub&&this.Ub.UR(null),this.dg()||this.GB())}LT(p){if(!this.Tk())return!1;const u=this.Ja();return u===p?!0:u.LT(p)}MT(p){if(this.b3(p))return!0;for(const u of this.Wf())if(u.MT(p))return!0;return!1}W9(p){this.Ub.Wf().push(p)}pea(p){const u=this.Ub.Wf(),t=u.indexOf(p);-1!==t&&u.splice(t,1);0!==u.length||this.Tk()||this.GB();p.dg()||p.GB()}LH(p){this.Hr=p}ot(){if(r){var p=this.j.Hb();this.Lr&&p.cR(this.Lr);this.Lr=p.vZ(0!==(this.ya&524288)?p.dE||"<point>":
p.eE||"<default>",this.rj(),this.Oq,this.Va())}}Wn(){return this.Ua===k}fg(p){p|=0;if(0>p||31<p)throw new RangeError("invalid blend mode");this.rj()!==p&&(this.ya=this.ya&-2080374785|p<<26,this.ot())}rj(){return(this.ya&2080374784)>>26}Pw(p){this.Gl=p;0!==this.Va()&&this.Gl.OU()}ca(){return this.Gl}sc(){return this.ca().sc()}NB(p){this.Ul=p|0}li(){this.Gl.Vw();return this.Ul}Cf(p,u){this.ya=u?this.ya|p:this.ya&~p}kd(){return 0!==(this.ya&1)}Ng(p){this.Cf(1,p)}th(){return 0!==(this.ya&8)}$v(p){p=!!p;
this.th()!==p&&(this.Cf(8,p),p?this.ua():this.wU())}NH(p,u){this.Cf(32,p);this.Xi&&this.Xi.clear();if(u.trim()){this.Xi||(this.Xi=new Set);for(const t of u.split(" "))t&&this.Xi.add(t.toLowerCase())}else this.Xi=null}XG(p){const u=0!==(this.ya&32),t=this.Xi;if(!p||!t)return!u;for(const w of t)if(p.has(w))return u;return!u}ua(){this.ya|=65554;this.R.NU();this.j.Z();this.Gl.vq()&&(this.bv(this.bK,this.cK,!0),this.ya&=-3,this.wga());0!==(this.ya&4)&&this.I.Fb().dispatchEvent(e);if(null!==this.Ub){const p=
this.Ub.Wf();for(let u=0,t=p.length;u<t;++u)p[u].ua()}}bv(p,u,t){const w=this.K(),x=this.L(),z=this.O(),D=this.P(),G=this.Y();p.jj(w-this.lu*z,x-this.mu*D,z,D);t&&this.eg()&&this.fba(p);0===G?u.ij(p):(p.offset(-w,-x),u.WE(p,this.qG(),this.TF()),u.offset(w,x),u.rN(p));p.normalize()}mV(){const p=this.ya;0!==(p&2)&&(this.bv(this.bK,this.cK,!0),this.ya=p&-3)}Kc(){this.mV();return this.bK}gi(){this.mV();return this.cK}hH(p){var u=this.K(),t=this.L();u=Math.round(u)-u;t=Math.round(t)-t;if(0===u&&0===t)return p;
b.Aa(p);b.offset(u,t);return b}D7(p){this.Cf(4,p)}$P(){return 0!==(this.ya&4)}hQ(p,u,t){return u&&0!==this.Hf?this.Cs(this.ca().Bw()):0===this.Va()||t?p.ME(this.Kc()):this.oca()}oca(){const p=this.ca(),u=this.ve();if(u>=p.Yz())return!1;p.RP(u,a);return a.ME(this.Kc())}Cs(p){var u=this.Kc();const t=u.U,w=u.ba,x=u.S;u=u.aa;const z=this.ve();return p.E_(t,x,z,w,u,z+this.Hf)}JB(p){this.Cf(1048576,p)}LB(p){this.Cf(2097152,p)}OH(p){this.cE=p;this.yI();this.eg()&&(this.Pi.zN=null)}Lv(){return null!==this.cE||
this.eg()}rm(){return this.rT(this.O(),this.P(),this.Y(),this.qG(),this.TF())}L1(p,u){return this.rT(p,u,0,0,1)}rT(p,u,t,w,x){let z=this.Au;null===z&&(this.Au=z={XY:d.F(d.Hp),width:NaN,height:NaN,angle:NaN});const D=z.XY;if(z.width===p&&z.height===u&&z.angle===t)return D;const G=this.cE;if(this.eg()){const N=this.Kk(),B=this.Lk(),H=this.Rk();let I=this.Pi.zN;I||(G?(f.Aa(G),f.offset(N,B)):f.Uja(),I=H.i4(f),this.Pi.zN=I);H.o9(I,D);D.offset(-N,-B);D.eO(p,u,w,x)}else G?(D.Aa(G),D.eO(p,u,w,x)):D.XN(this.gi(),
-this.K(),-this.L());z.width=p;z.height=u;z.angle=t;return D}yI(){this.WR(!0);const p=this.Au;null!==p&&(p.width=NaN)}AF(p,u){p=Math.floor(p);u=Math.floor(u);if(!this.Ia().Sb().$ha)throw Error("object does not support mesh");this.UA();this.Pi={$N:d.F(d.ka.xQ,p,u),iZ:d.F(d.ka.xQ,p,u),zN:null}}eg(){return null!==this.Pi}Rk(){if(!this.eg())throw Error("no mesh");return this.Pi.$N}QP(){if(!this.eg())throw Error("no mesh");return this.Pi.iZ}JH(p){this.Cf(65536,p)}jQ(){return 0!==(this.ya&65536)}WR(p){this.Cf(131072,
p)}z4(){return 0!==(this.ya&131072)}fba(p){const u=this.Pi.$N,t=Math.min(u.z2(),0),w=Math.min(u.A2(),0),x=Math.max(u.w2(),1),z=Math.max(u.x2(),1),D=p.width(),G=p.height();p.offsetLeft(t*D);p.offsetTop(w*G);p.Eja((x-1)*D);p.Dja((z-1)*G);this.Hf=u.y2()}UA(){this.Pi&&(this.Pi.$N.A(),this.Pi.iZ.A(),this.Pi=null,this.yI())}QR(p,u,t){p=Math.floor(p);u=Math.floor(u);var w=t.mode||"absolute";if(!m.has(w))throw Error("invalid mode");w="relative"===w;let x=t.x,z=t.y;const D=t.vz;let G="number"===typeof t.mZ?
t.mZ:w?0:-1;t="number"===typeof t.nZ?t.nZ:w?0:-1;if(!this.eg())return!1;const N=this.Rk(),B=N.us(p,u);if(null===B)return!1;let H=!1;"number"===typeof D&&B.Va()!==D&&(B.We(D),H=!0);w&&(x+=p/(N.xl-1),z+=u/(N.Ql-1));-1!==G||w?(w&&(G+=p/(N.xl-1)),G=d.ja(G,0,1)):G=B.Yh;-1!==t||w?(w&&(t+=u/(N.Ql-1)),t=d.ja(t,0,1)):t=B.$h;if(B.K()===x&&B.L()===z&&B.Yh===G&&B.$h===t)return H;B.ye(x);B.Ae(z);B.RH(G);B.SH(t);this.yI();return!0}yj(){return this.I.yj()}ms(p,u){return this.Kc().yg(p,u)&&this.gi().yg(p,u)?this.yj()?
void 0:this.Lv()?this.rm().yg(p-this.K(),u-this.L()):!0:!1}lca(){return 0!==(this.ya&16)}nV(){if(this.lca()&&this.th()&&0===(this.ya&256)){var p=this.Kc(),u=this.R.lC,t=this.kC;a.set(u.Ij(p.U),u.Jj(p.S),u.Ij(p.ba),u.Jj(p.aa));t.hd(a)||(p=this.I,t===l?(u.Fm(p,null,a),this.kC=d.F(d.Rect,a)):(u.Fm(p,t,a),t.Aa(a)),this.ya&=-17)}}wU(){const p=this.kC;p!==l&&(this.R.lC.Fm(this.I,p,null),this.kC=l)}wga(){const p=this.ca();if(p.vq()&&0===(this.ya&256)){var u=p.qu,t=this.Kc(),w=this.oy;a.set(u.Ij(t.U),u.Jj(t.S),
u.Ij(t.ba),u.Jj(t.aa));w.hd(a)||(t=this.I,w===g?(u.Fm(t,null,a),this.oy=d.F(d.Rect,a)):(u.Fm(t,w,a),w.Aa(a)),p.o8())}}xU(){const p=this.oy;p!==g&&(this.ca().qu.Fm(this.I,p,null),this.oy=g)}S9(){const p=this.I,u=this.Gl,t=u.J;t.length&&t.Pe(-1)===p||(u.Cq(p,!1),u.Bh(p,!1),this.j.Z())}Q9(){const p=this.I,u=this.Gl,t=u.J;t.length&&t[0]===p||(u.Cq(p,!1),u.Yda(p),this.j.Z())}R9(p){const u=this.I,t=this.Gl;if(t.sc()!==p.sc())throw Error("layer from different layout");p!==t&&(t.Cq(u,!0),this.Pw(p),p.Bh(u,
!0),this.j.Z())}P9(p,u){const t=this.I;let w=!1;const x=this.Gl;if(p.ub!==t.ub){var z=p.B();if(!z)throw Error("expected world instance");z=z.ca();x.Ka()!==z.Ka()&&(x.Cq(t,!0),this.Pw(z),z.Bh(t,!0),w=!0);p=z.i5(t,p,!!u);(w||p)&&this.j.Z()}}Cfa(p){this.Cf(64,p)}Kv(){return 0!==(this.ya&64)}wa(p){const u={x:this.K(),y:this.L(),w:this.O(),h:this.P(),l:this.ca().cb,zi:this.li()};0!==this.Va()&&(u.ze=this.Va());0!==this.Y()&&(u.a=this.Y());this.Wn()||(u.c=this.Ua.toJSON());.5!==this.Kk()&&(u.oX=this.Kk());
.5!==this.Lk()&&(u.oY=this.Lk());0!==this.rj()&&(u.bm=this.rj());this.kd()||(u.v=this.kd());this.th()||(u.ce=this.th());this.$P()&&(u.be=this.$P());this.df&&(u.fx=this.df.wa());const t=0!==(this.ya&32);t&&(u.sfi=t);this.Xi&&(u.sft=[...this.Xi].join(" "));this.Ub&&"visual-state"!==p&&(u.sgi=this.Ub.wa());this.eg()&&(u.mesh=this.Rk().mc());return u}mt(p){"visual-state"!==p&&this.yea()}Ca(p,u){r=!1;this.ye(p.x);this.Ae(p.y);this.xe(p.w);this.Ve(p.h);this.NB(p.zi);this.We(p.hasOwnProperty("ze")?p.ze:
0);this.tc(p.hasOwnProperty("a")?p.a:0);p.hasOwnProperty("c")?c.Mn(p.c):p.hasOwnProperty("o")?(c.Wl(this.Ua),c.up=p.o):c.Dp(1,1,1,1);this.IB(c);this.Ts(p.hasOwnProperty("oX")?p.oX:.5);this.Us(p.hasOwnProperty("oY")?p.oY:.5);this.fg(p.hasOwnProperty("bm")?p.bm:0);this.Ng(p.hasOwnProperty("v")?p.v:!0);this.$v(p.hasOwnProperty("ce")?p.ce:!0);this.D7(p.hasOwnProperty("be")?p.be:!1);this.NH(p.hasOwnProperty("sfi")?p.sfi:!1,p.hasOwnProperty("sft")?p.sft:"");this.df&&p.hasOwnProperty("fx")&&this.df.Ca(p.fx);
if(p.hasOwnProperty("sgi")&&"visual-state"!==u){this.qI(null);const t=this.Ub,w=p.sgi;t.Ca(w);const x=this.N().Fb(),z=()=>{x.removeEventListener("afterload",z);0===(this.ya&256)&&t.Lm(w)};x.addEventListener("afterload",z)}p.hasOwnProperty("mesh")?(p=p.mesh,this.AF(p.cols,p.rows),this.Rk().ac(p)):this.UA();this.ua();r=!0;this.ot()}}}
{"use strict";const d=self.C;d.lO=class extends d.oa{constructor(a,b){super();const e=a.N(),c=e.$o,f=e.ki(b[1]);c.a3(f)||c.J_(b);this.j=e;this.R=a;this.Sj=c.D1(f);this.kb=null;this.WC=f.Instance;this.cb=b[2];this.Pa=b[0];this.Sx=this.j.uj(b[3]);this.kb=d.F(f.Ce,this);this.Xb()}static $a(a,b){return d.F(d.lO,a,b)}A(){this.Sj=this.j=null;this.kb.A();this.WC=this.kb=null}Xb(){this.kb.Xb()}N(){return this.j}M(){return this.R}rf(){return this.Sj}Ha(){return this.Pa}uj(){return this.Sx}}}
{"use strict";const d=self.C,a=self.AA;d.xz=class extends d.oa{constructor(b){super();this.j=b.Uc;this.od=b.fN;this.Sj=this.od.rf();this.I=b.instance;this.ab=b.index;this.cf=this.ra=null;this.Sj.Bh(this.I)}A(){this.cf&&(this.cf.Nw(),this.cf=null);this.Sj.Cq(this.I);this.ra.A();this.I=this.Sj=this.od=this.j=this.cf=this.ra=null}kB(b){if(this.ra)throw Error("already got sdk instance");this.ra=d.F(this.od.WC,this,b);this.cca()}N(){return this.j}fi(){return this.od}rf(){return this.Sj}xi(){return this.ab}RA(){this.ra.RA()}mc(){return this.ra.mc()}ac(b){return this.ra.ac(b)}static XH(b,
e){var c=b.I,f=e.I;const k=c.M().Ka(),g=f.M().Ka();if(k!==g)return k-g;c=c.wX;f=f.wX;return c!==f?c-f:b.eC.xi()-e.eC.xi()}cca(){const b=this.ra.ag(),e=b||a;a.Mj(this);this.cf=new e;a.Mj(null);if(b&&!(this.cf instanceof a))throw new TypeError(`script interface class '${b.name}' does not extend the right base class '${a.name}'`);}qA(){return this.cf}}}
{"use strict";const d=self.C;d.dm=class extends d.oa{constructor(a,b){super();this.qc=a;this.Gh=[];this.Oj=[];this.wC=new Map;this.Hi=[];this.nu=!0;for(const e of b)a=d.F(d.PO,this,e,this.Gh.length),this.Gh.push(a),this.wC.set(a.Ha().toLowerCase(),a),3<=e.length&&this.Hi.push(this.SI(e[2]));this.N().Y9(this)}A(){d.G(this.Gh);d.G(this.Oj);this.wC.clear();d.G(this.Hi);this.qc=null}E6(a){if(a.length){this.Gh=a.concat(this.Gh);for(const b of a)this.wC.set(b.Ha().toLowerCase(),b);for(let b=0,e=this.Gh.length;b<
e;++b)this.Gh[b].Gfa(b)}}SI(a){a=a.slice(0);for(let b=0,e=a.length;b<e;++b){const c=a[b];if(Array.isArray(c)){const f=d.F(d.jb);f.Mn(c);a[b]=f}}return a}N(){return this.qc.N()}ro(){d.G(this.Oj);let a=!0;for(const b of this.Gh)b.Tb&&(this.Oj.push(b),b.sb.nu||(a=!1));this.nu=a}ih(){return this.Gh}W2(){return 0<this.Gh.length}km(a){return this.wC.get(a.toLowerCase())||null}iP(a){a=Math.floor(+a);if(0>a||a>=this.Gh.length)throw new RangeError("invalid effect type index");return this.Gh[a]}Pv(a){return this.iP(a).Tb}ER(a,
b){this.iP(a).XA(b)}Kv(){return 0<this.Oj.length}kh(a){return this.Hi[a]}static t7(a){return a&&a instanceof d.jb?{t:"color",v:a.toJSON()}:a}static W4(a){if("object"===typeof a){if("color"===a.t){const b=d.F(d.jb);b.Mn(a.v);return b}throw Error("invalid effect parameter type");}return a}static rR(a){return a.map(d.dm.t7)}static sQ(a){return a.map(d.dm.W4)}mc(){return this.Gh.map(a=>({name:a.Ha(),active:a.Tb,params:d.dm.rR(this.Hi[a.Ka()])}))}ac(a){for(const b of a)if(a=this.km(b.name))a.XA(b.active),
this.Hi[a.Ka()]=d.dm.sQ(b.params);this.ro()}}}
{"use strict";const d=self.C;d.PO=class extends d.oa{constructor(a,b,e){super();this.Ya=a;this.If=b[0];this.Pa=b[1];this.ab=e;this.sb=null;this.Tb=!0}A(){this.sb=this.Ya=null}u_(a){a=d.F(d.PO,a,[this.If,this.Pa],-1);a.sb=this.sb;a.Tb=this.Tb;return a}OT(a){a=a.JP(this.If);if(!a)throw Error("failed to find shader program '"+this.If+"'");this.sb=a}Ha(){return this.Pa}Gfa(a){this.ab=a}Ka(){return this.ab}N(){return this.Ya.N()}XA(a){this.Tb=!!a}N1(){const a=[];for(let b=0,e=this.sb.Vr.length;b<e;++b){const c=
this.sb.mA(b);if("float"===c||"percent"===c)a.push(0);else if("color"===c)a.push(d.F(d.jb,1,1,1,1));else throw new TypeError("unknown effect parameter type");}return a}}}
{"use strict";const d=self.C;d.j4=class extends d.oa{constructor(a,b){super();this.I=a;this.gia=b;this.Ya=a.M().Ya;this.Eq=[];this.Oj=[];this.nu=!0;this.Hi=[];for(const e of this.Ya.ih())this.Eq.push(!0);this.ro()}A(){d.G(this.Eq);d.G(this.Oj);d.G(this.Hi);this.Ya=this.I=null}Aca(a){for(const b of a)this.Hi.push(this.SI(b))}SI(a){a=a.slice(0);for(let b=0,e=a.length;b<e;++b){const c=a[b];if(Array.isArray(c)){const f=d.F(d.jb);f.Mn(c);a[b]=f}}return a}T4(){for(const a of this.Ya.ih())this.Hi.push(a.N1())}N(){return this.I.N()}ro(){d.G(this.Oj);
const a=this.Ya.ih(),b=this.Oj,e=this.Eq;let c=!0;for(let f=0,k=a.length;f<k;++f)if(e[f]){const g=a[f];b.push(g);g.sb.nu||(c=!1)}this.nu=c;this.gia.Cfa(!!b.length)}kh(a){return this.Hi[a]}Pv(a){return this.Eq[a]}ER(a,b){this.Eq[a]=!!b}ih(){return this.Ya.ih()}wa(){return this.Ya.ih().map(a=>({name:a.Ha(),active:this.Eq[a.Ka()],params:d.dm.rR(this.Hi[a.Ka()])}))}Ca(a){for(const b of a)if(a=this.Ya.km(b.name))this.Eq[a.Ka()]=b.active,this.Hi[a.Ka()]=d.dm.sQ(b.params);this.ro()}}}
{"use strict";const d=self.C,a=[],b=[],e=d.F(d.Hp),c=d.F(d.Hp),f=d.F(d.Bd);d.F(d.Rect);d.F(d.Rect);let k=null,g=null,l=null;d.w_=class extends d.oa{constructor(m){super();this.j=m;this.ny=[]}A(){this.j=null}bR(m,q){const r=m.B(),p=q.B();r&&p&&r.th()&&p.th()&&this.ny.push([m,q])}iO(m,q,r){for(const [p,u]of this.ny){let t;if(m===p)t=u;else if(m===u)t=p;else continue;t.ks(q)&&(r.includes(t)||r.push(t))}}zO(m,q){if(!this.ny.length)return!1;for(const [r,p]of this.ny)if(m===r&&q===p||m===p&&q===r)return!0;
return!1}AO(){d.G(this.ny)}dl(m,q){if(!m||!q||m===q)return!1;m=m.B();q=q.B();if(!m.th()||!q.th())return!1;const r=m.ca(),p=q.ca();return r.I4(p)?this.kga(m,q):this.jga(m,q)}kga(m,q){if(!m.Kc().ME(q.Kc())||!m.gi().uN(q.gi())||m.yj()&&q.yj())return!1;if(m.yj())return this.bI(m,q);if(q.yj())return this.bI(q,m);if(!m.Lv()&&!q.Lv())return!0;const r=m.rm(),p=q.rm();return r.ez(p,q.K()-m.K(),q.L()-m.L())}jga(m,q){var r=m.yj(),p=q.yj();if(r&&!p)return this.fS(m,q);if(p&&!r)return this.fS(q,m);if(p||r)return!1;
p=m.ca();r=q.ca();e.Aa(m.rm());c.Aa(q.rm());var u=e.Pd;for(let t=0,w=u.length;t<w;t+=2){const x=t+1,z=u[x],[D,G]=p.cq(u[t]+m.K(),z+m.L());u[t]=D;u[x]=G}m=c.Pd;for(let t=0,w=m.length;t<w;t+=2){p=t+1;u=m[p];const [x,z]=r.cq(m[t]+q.K(),u+q.L());m[t]=x;m[p]=z}e.WN();c.WN();return e.ez(c,0,0)}fS(m,q){var r=m.ca(),p=q.ca();k||(k=d.F(d.Hp));g||(g=d.F(d.Rect));l||(l=d.F(d.Bd));var u=q.K(),t=q.L();const [w,x]=p.cq(u,t),[z,D]=r.Vf(w,x);r=z-u;t=D-t;g.Aa(q.Kc());g.offset(r,t);if(!m.Kc().ME(g))return!1;l.Aa(q.gi());
l.offset(r,t);if(!m.gi().uN(l))return!1;k.Aa(q.rm());p=k.Pd;for(let G=0,N=p.length;G<N;G+=2)u=G+1,p[G]+=r,p[u]+=t;k.WN();return this.bI(m,q,z,D,k,g,l)}bI(m,q,r,p,u,t,w){t=void 0!==t?t:q.Kc();const x=m.K(),z=m.L();var D=m.Ia().ra;r=void 0!==r?r:q.K();p=void 0!==p?p:q.L();m=q.Lv();w=void 0!==w?w:q.gi();D.Tna(t,b);for(let B=0,H=b.length;B<H;++B){var G=b[B];D=G.H2();if(t.fja(D,x,z)&&(f.ij(D),f.offset(x,z),f.uN(w)))if(m){var N=void 0!==u?u:q.rm();if(G=G.zP()){if(G.ez(N,r-(x+D.U),p-(z+D.S)))return d.G(b),
!0}else if(e.XN(f,0,0),e.ez(N,r,p))return d.G(b),!0}else if(N=G.zP()){if(e.XN(w,0,0),N.ez(e,-(x+D.U),-(z+D.S)))return d.G(b),!0}else return d.G(b),!0}d.G(b);return!1}bt(m,q,r,p){const u=m.ia();var t=this.j.Rb();if(!t)throw Error("cannot call outside event");t=t.pe;if(u.jc){p||(u.Ye(!1),d.G(u.J));for(var w of m.qa()){var x=w.B(),z=x.ca();const [D,G]=z.Vf(q,r,x.ve());if(x.ms(D,G)){if(p)return!1;u.Bq(w)}else t&&u.uo(w)}}else{w=t?u.yc:u.J;x=0;for(let D=0,G=w.length;D<G;++D){z=w[D];const N=z.B(),B=N.ca(),
[H,I]=B.Vf(q,r,N.ve());if(N.ms(H,I)){if(p)return!1;t?u.Bq(z):w[x++]=z}else t&&(w[x++]=z)}p||(w.length=x)}m.rc();return p?!0:u.yG()}aA(m,q,r,p){m=m?1!==m.Ie||1!==m.Je:!1;if(q.gb)for(const u of q.Go)m||u.QJ?d.Gn(p,u.qa()):(u.kV(),u.lC.TA(r,p));else m||q.QJ?d.Gn(p,q.qa()):(q.kV(),q.lC.TA(r,p))}B2(m,q,r,p){for(const u of q)this.aA(m,u,r,p)}I2(m,q,r){const p=this.j.rG();p&&this.B2(m,p.iG(),q,r)}XG(m,q){return m.VT()&&(!q||q.B().XG(m.xf().get("solidTags")))}qo(m){const q=m.B();this.I2(q.ca(),q.Kc(),a);
for(const r of a)if(this.XG(r,m)&&this.dl(m,r))return d.G(a),r;d.G(a);return null}L6(m,q,r,p,u){p=p||50;const t=m.B(),w=t.K(),x=t.L();for(let z=0;z<p;++z)if(t.Lc(w+q*z,x+r*z),t.ua(),!this.dl(m,u))return;t.Lc(w,x);t.ua()}YQ(m,q,r,p){p=p||50;const u=m.B(),t=u.K(),w=u.L();let x=null,z=null;for(let D=0;D<p;++D)if(u.Lc(t+q*D,w+r*D),u.ua(),!this.dl(m,x))if(x=this.qo(m))z=x;else if(!x)return z&&this.K6(m,q,r,z),!0;u.Lc(t,w);u.ua();return!1}K6(m,q,r,p){let u=2,t=!1;var w=!1;const x=m.B();let z=x.K(),D=x.L();
for(;16>=u;)w=1/u,u*=2,x.ym(q*w*(t?1:-1),r*w*(t?1:-1)),x.ua(),this.dl(m,p)||this.qo(m)?w=t=!0:(w=t=!1,z=x.K(),D=x.L());w&&(x.Lc(z,D),x.ua())}ZQ(m){let q=0;const r=m.B(),p=r.K(),u=r.L();let t=0,w=this.qo(m);if(w){for(;100>=q;){let x=0,z=0;switch(t){case 0:x=0;z=-1;q++;break;case 1:x=1;z=-1;break;case 2:x=1;z=0;break;case 3:z=x=1;break;case 4:x=0;z=1;break;case 5:x=-1;z=1;break;case 6:x=-1;z=0;break;case 7:z=x=-1}t=(t+1)%8;r.Lc(Math.floor(p+x*q),Math.floor(u+z*q));r.ua();if(!this.dl(m,w)&&(w=this.qo(m),
!w))return}r.Lc(p,u);r.ua()}}rO(m,q,r,p){const u=m.B(),t=u.K(),w=u.L(),x=Math.max(10,d.pf(q,r,t,w));var z=d.wg(q,r,t,w),D=p||this.qo(m);if(!D)return d.Tc(z+Math.PI);let G=D;var N=0,B=0;const H=d.Ea(5);let I;for(I=1;36>I;++I){const K=z-I*H;u.Lc(q+Math.cos(K)*x,r+Math.sin(K)*x);u.ua();if(!this.dl(m,G)&&(G=p?null:this.qo(m),!G)){N=K;break}}36===I&&(N=d.Tc(z+Math.PI));G=D;for(I=1;36>I;++I)if(D=z+I*H,u.Lc(q+Math.cos(D)*x,r+Math.sin(D)*x),u.ua(),!this.dl(m,G)&&(G=p?null:this.qo(m),!G)){B=D;break}36===I&&
(B=d.Tc(z+Math.PI));u.Lc(t,w);u.ua();if(B===N)return B;m=d.Xr(B,N)/2;m=d.Oe(B,N)?d.Tc(N+m+Math.PI):d.Tc(B+m);N=Math.cos(z);z=Math.sin(z);B=Math.cos(m);m=Math.sin(m);q=N*B+z*m;return d.wg(0,0,N-2*q*B,z-2*q*m)}}}
{"use strict";const d=self.C;d.W8=class extends d.oa{constructor(a,b){super();this.eK=a;this.dK=b;this.Vj=d.F(d.Vv)}A(){this.Vj.A();this.Vj=null}Rn(a,b,e){let c=this.Vj.na(a,b);return c?c:e?(c=d.F(d.S2,this,a,b),this.Vj.Set(a,b,c),c):null}Ij(a){a=Math.floor(a/this.eK);return isFinite(a)?a:0}Jj(a){a=Math.floor(a/this.dK);return isFinite(a)?a:0}Fm(a,b,e){if(b)for(let c=b.U,f=b.ba;c<=f;++c)for(let k=b.S,g=b.aa;k<=g;++k){if(e&&e.yg(c,k))continue;const l=this.Rn(c,k,!1);l&&(l.pi(a),l.Zp()&&this.Vj.Ip(c,
k))}if(e)for(let c=e.U,f=e.ba;c<=f;++c)for(let k=e.S,g=e.aa;k<=g;++k)b&&b.yg(c,k)||this.Rn(c,k,!0).FG(a)}TA(a,b){let e=this.Ij(a.U);const c=this.Jj(a.S),f=this.Ij(a.ba);a=this.Jj(a.aa);if(isFinite(f)&&isFinite(a))for(;e<=f;++e)for(let k=c;k<=a;++k){const g=this.Rn(e,k,!1);g&&g.GF(b)}}}}
{"use strict";const d=self.C;d.S2=class extends d.oa{constructor(a,b,e){super();this.fa=b;this.X=e;this.J=d.F(d.oF)}A(){this.J.A();this.J=null}Zp(){return this.J.Zp()}FG(a){this.J.Jc(a)}pi(a){this.J.Ip(a)}GF(a){d.Gn(a,this.J.OF())}}}{"use strict";const d=self.C;d.Mra=class{constructor(){this.Oia=this.Nia=0;this.rect=new d.Rect;this.$y=0}Set(a,b,e,c){this.Nia=e-a;this.Oia=c-b;this.rect.set(a,b,e,c);this.rect.normalize();this.$y=0;return this}}}
{"use strict";const d=self.C,a=new Set("off crop scale-inner scale-outer letterbox-scale letterbox-integer-scale".split(" ")),b=new Set(["high","low"]),e=self.Zl.zp,c=e.create(),f=d.F(d.Bd),k=d.F(d.Rect);d.tF=class extends d.oa{constructor(g){super();this.j=g;this.ql=null;this.FW=!1;this.Ck=this.mb=null;this.IK="high-performance";this.Co=this.Bo=this.Di=this.Ei=this.bd=this.qd=this.Sl=this.Tl=0;this.Jt=!0;this.ak=this.tl=this.YX=0;this.QV=this.ZV="letterbox-scale";this.dha=this.cha=0;this.qC=e.create();
this.jk=this.YM="high";this.gr=!1;this.$w=[];this.vE=new Set;this.YD=self.C3_Shaders;this.Tg=this.Io=0;this.Pt=NaN;this.OC=null;this.wL=new Map;this.tx=NaN;this.BE=new Map;this.aE="";this.sM=1;this.OX=d.F(d.Rect);this.tM="";this.PX=this.zy=null;this.Zx=0;this.lf=-1;this.To=0;this.CL=l=>this.To=l.progress;this.rg=null;this.sg={iz:null,lz:null,uz:null};this.xM=this.RX=this.yM=0;this.yk="fade-in";this.wM=null;this.QX=new Promise(l=>this.wM=l)}Afa(g){this.IK=g}bga(g){this.FW=!!g}async gh(g){this.ql=g.canvas;
this.j.kj("runtime","window-resize",q=>this.bJ(q));this.j.kj("runtime","fullscreenchange",q=>this.rda(q));this.j.kj("runtime","fullscreenerror",q=>this.sda(q));this.ql.addEventListener("webglcontextlost",q=>this.Mw(q));this.ql.addEventListener("webglcontextrestored",()=>this.$I());this.gr=!!g.isFullscreen;var l=navigator.gpu&&this.FW;let m=!1;if(l)try{await this.ST(!0)}catch(q){this.Ck=null}if(!this.Hb())try{await this.RT(!0)}catch(q){this.mb=null}this.Hb()||(m=!0);if(!this.Hb()&&l)try{await this.ST(!1)}catch(q){this.Ck=
null}if(!this.Hb())try{await this.RT(!1)}catch(q){this.mb=null}l=this.Hb();if(!l)throw Error("failed to acquire a renderer - check WebGL or WebGPU is supported");l.Y7(m);this.Gc(g.windowInnerWidth,g.windowInnerHeight,!0);this.Ck?await this.fca():this.mb&&await this.eca();l.KH(this.Jt);l.cl()&&(this.Pt=0);g=!1;for(const q of this.j.KJ){for(const r of q.ih())r.OT(l),r.sb.Ry&&(g=!0);q.ro()}this.j.$fa(g)}async ST(g){g={powerPreference:this.IK,depth:this.j.Fn,failIfMajorPerformanceCaveat:g};this.Ck=d.F(d.ka.owa);
await this.Ck.$a(this.ql,g)}async RT(g){g={powerPreference:this.IK,EY:!0,depth:this.j.Fn,failIfMajorPerformanceCaveat:g};"Android"===d.md.Hs&&"Chromium"===d.md.zz&&75>d.md.rF&&(console.warn("[Construct 3] Disabling WebGL 2 because this device appears to be affected by crbug.com/934823. Install software updates to avoid this."),g.OY=1);"standard"===this.j.zt?g.alpha=!0:(g.alpha=!1,g.yN=!0);this.mb=d.F(d.ka.K9,this.ql,g);await this.mb.CA()}async fca(){if(this.YD){const g=[];for(const [l,m]of Object.entries(this.YD))g.push(this.Ck.CF(l,
m.Yza,d.ka.pwa.dA()));await Promise.all(g)}}async eca(){if(this.YD){const g=[];for(const [l,m]of Object.entries(this.YD))m.src=m.Nxa,g.push(this.mb.CF(m,d.ka.qw.dA(),l));await Promise.all(g);this.mb.i7();this.mb.vi()}this.mb.cl()&&(this.OC=d.F(d.ka.tS,this.mb))}A(){this.ql=this.mb=this.j=null}bJ(g){const l=this.j,m=g.devicePixelRatio;l.ff&&(self.devicePixelRatio=m);l.sfa(m);this.gr=!!g.isFullscreen;this.Gc(g.innerWidth,g.innerHeight);l.Z();l.Bb&&(l.Mv()||self.Dg.Hoa())&&l.nH()}rda(g){this.gr=!!g.isFullscreen;
this.Gc(g.innerWidth,g.innerHeight,!0);this.j.Z()}sda(g){this.gr=!!g.isFullscreen;this.Gc(g.innerWidth,g.innerHeight,!0);this.j.Z()}Gc(g,l,m=!1){g=Math.floor(g);l=Math.floor(l);if(0>=g||0>=l)throw Error("invalid size");if(this.Tl!==g||this.Sl!==l||m){this.Tl=g;this.Sl=l;m=this.xv();"letterbox-scale"===m?this.x$(g,l):"letterbox-integer-scale"===m?this.w$(g,l):"off"===m?this.u$(g,l):this.v$(g,l);this.uga(m);this.ql.width=this.Ei;this.ql.height=this.Di;this.j.Am("canvas","update-size",{marginLeft:this.Bo,
marginTop:this.Co,styleWidth:this.qd,styleHeight:this.bd});g=this.Hb();g.Gc(this.Ei,this.Di,!0);for(var q of this.$w)g.c0(q);d.G(this.$w);g.dv(this.qC,this.jh()/this.Fg());q=this.j.hb;q.pq();q.oq()}}x$(g,l){const m=this.j.im(),q=this.j.Rh,r=this.j.Qh,p=q/r;g/l>p?(this.qd=Math.round(l*p),this.bd=l,this.Bo=Math.floor((g-this.qd)/2),this.Co=0):(this.qd=g,this.bd=Math.round(g/p),this.Bo=0,this.Co=Math.floor((l-this.bd)/2));this.Ei=Math.round(this.qd*m);this.Di=Math.round(this.bd*m);this.j.mw(q,r)}w$(g,
l){const m=this.j.im();1!==m&&(g+=1,l+=1);const q=this.j.Rh,r=this.j.Qh;var p=q/r;p=g/l>p?l*p*m/q:g/p*m/r;1<p?p=Math.floor(p):1>p&&(p=1/Math.ceil(1/p));this.Ei=Math.round(q*p);this.Di=Math.round(r*p);this.qd=this.Ei/m;this.bd=this.Di/m;this.Bo=Math.max(Math.floor((g-this.qd)/2),0);this.Co=Math.max(Math.floor((l-this.bd)/2),0);this.j.mw(q,r)}v$(g,l){const m=this.j.im();this.qd=g;this.bd=l;this.Ei=Math.round(this.qd*m);this.Di=Math.round(this.bd*m);this.Co=this.Bo=0;g=this.jm();this.j.mw(this.qd/g,
this.bd/g)}u$(g,l){const m=this.j.im();this.qd=this.j.vg;this.bd=this.j.ug;this.Ei=Math.round(this.qd*m);this.Di=Math.round(this.bd*m);this.gr?(this.Bo=Math.floor((g-this.qd)/2),this.Co=Math.floor((l-this.bd)/2)):this.Co=this.Bo=0;this.j.mw(this.j.vg,this.j.ug)}uga(g){if("high"===this.YM)this.tl=this.Ei,this.ak=this.Di,this.jk="high";else{let m;if("off"===this.xv()){var l=this.j.vg;m=this.j.ug}else l=this.j.Rh,m=this.j.Qh;this.Ei<l&&this.Di<m?(this.tl=this.Ei,this.ak=this.Di,this.jk="high"):(this.tl=
l,this.ak=m,this.jk="low","scale-inner"===g?(g=l/m,l=this.Tl/this.Sl,l<g?this.tl=this.ak*l:l>g&&(this.ak=this.tl/l)):"scale-outer"===g&&(g=l/m,l=this.Tl/this.Sl,l>g?this.tl=this.ak*l:l<g&&(this.ak=this.tl/l)))}}V7(g){if(!a.has(g))throw Error("invalid fullscreen mode");this.ZV=g;g=this.j.hb;g.pq();g.oq()}hA(){return this.ZV}M7(g){if(!a.has(g))throw Error("invalid fullscreen mode");this.QV=g;g=this.j.hb;g.pq();g.oq()}xv(){return this.gr?this.QV:this.hA()}FR(g){if(!b.has(g))throw Error("invalid fullscreen scaling quality");
this.YM=g;this.j.hb.pq()}static hT(g){switch(g){case 0:return"off";case 1:return"crop";case 2:return"scale-inner";case 3:return"scale-outer";case 4:return"letterbox-scale";case 5:return"letterbox-integer-scale";default:throw Error("invalid fullscreen mode");}}jh(){return this.tl}Fg(){return this.ak}KH(g){this.Jt=!!g}Zfa(g){this.YX=g}B4(){return this.Hb().Xp()}Mw(g){console.log("[Construct 3] WebGL context lost");g.preventDefault();this.$w=[];this.vE.clear();this.mb.zm();this.j.Mw()}async $I(){await this.mb.fH();
await this.Hwa();for(const g of this.j.KJ)for(const l of g.ih())l.OT(this.mb);await this.j.$I();console.log("[Construct 3] WebGL context restored")}Up(){return this.mb}Jv(){return this.Ck}Hb(){return this.Ck||this.mb}pm(){return"low"===this.jk?1/this.j.im():this.jm()}jm(){const g=this.xv();if("off"===g||"crop"===g)return 1;const l=this.j.Rh,m=this.j.Qh,q=l/m,r=this.Ei/this.Di;return"scale-inner"!==g&&r>q||"scale-inner"===g&&r<q?this.bd/m:this.qd/l}EH(g,l,m){l=l||this.tl;m=m||this.ak;const q=l/2+this.cha,
r=m/2+this.dha;{let p=this.qC;if(l!==this.tl||m!==this.ak)g.dv(c,l/m),p=c;g.Ws(p)}l=g.cv(q,r,100*this.j.im(),q,r,m||this.ak);g.Ss(l)}H7(g){var l=this.qd/2;const m=this.bd/2;g.Ws(this.qC);l=g.cv(l,m,100,l,m);g.Ss(l)}gm(){return this.Bo}hm(){return this.Co}sv(g){g.depth=this.j.Fn;const l=this.$w,m=l.findIndex(r=>r.q4(g));let q;-1!==m?(q=l[m],l.splice(m,1)):q=this.Hb().P_(g);this.vE.add(q);return q}fo(g){if(!this.vE.has(g))throw Error("render target not in use");this.vE.delete(g);this.$w.push(g)}*CE(){for(const g of this.j.hb.pz())for(const l of g.pc){const m=
this.wL.get(l);m&&(yield m)}}tP(g){if(!this.Hb().cl())return null;let l=this.wL.get(g);l||(l={name:g.Ha(),aO:d.F(d.ka.tS,this.mb),EE:0,NY:0},this.wL.set(g,l));return l.aO}rga(){const g=this.Hb();if(g.cl()&&0===this.Tg){this.Tg=g.Ji;this.tx=NaN;for(const l of this.CE())l.EE=NaN}}yga(){this.mb&&this.mb.cl()&&this.zga();this.Ck&&this.Ck.cl()&&this.Aga()}zga(){if(isNaN(this.tx)&&(this.tx=this.OC.oP(this.Io,this.Tg),!isNaN(this.tx))){if(this.j.Bb)for(const g of this.CE())if(g.EE=g.aO.oP(this.Io,this.Tg),
isNaN(g.EE))return;this.OC.LO(this.Tg);this.Pt=Math.min(this.tx,1);if(this.j.Bb){for(const g of this.CE())g.aO.LO(this.Tg),g.NY=Math.min(g.EE,1);self.Dg.y9(this.Pt,[...this.CE()])}this.Io=this.Tg;this.Tg=0}}Aga(){if(0!==this.Tg){for(var g=this.Io;g<this.Tg;++g){var l=this.BE.get(g);if(l&&!l.zA())return}l=this.j.Nb();g=d.c5(l.pc.length+1);for(var m=this.Io;m<this.Tg;++m){var q=this.BE.get(m);if(q){q=q.pA();for(let r=0,p=Math.min(g.length,q.length/2);r<p;++r){const u=q[2*r],t=q[2*r+1];g[r]=0===Number(u)||
0===Number(t)?NaN:g[r]+Number(t-u)/1E9}}}this.Pt=d.ja(g[0],0,1);if(this.j.Bb){m=[];l=l.pc;for(let r=0,p=Math.min(l.length,g.length-1);r<p;++r)m.push({name:l[r].Ha(),NY:d.ja(g[r+1],0,1)});self.Dg.y9(this.Pt,m)}for(g=this.Io;g<this.Tg;++g)this.BE.delete(g);this.Io=this.Tg;this.Tg=0}}i$(g){this.BE.set(this.Ck.Ji,g)}jA(){return this.Pt}dS(g,l,m,q,r,p){this.aE=g;this.sM=l;this.OX.jj(m,q,r,p);return this.zy?this.zy:this.zy=new Promise(u=>{this.PX=u})}Yca(){if(this.aE){var g=this.ql,l=this.OX,m=d.ja(Math.floor(l.U),
0,g.width),q=d.ja(Math.floor(l.S),0,g.height),r=l.width();r=0===r?g.width-m:d.ja(Math.floor(r),0,g.width-m);l=l.height();l=0===l?g.height-q:d.ja(Math.floor(l),0,g.height-q);(0!==m||0!==q||r!==g.width||l!==g.height)&&0<r&&0<l&&(g=d.gh(r,l),g.getContext("2d").drawImage(this.ql,m,q,r,l,0,0,r,l));d.gv(g,this.aE,this.sM).then(p=>{this.tM=URL.createObjectURL(p);this.zy=null;this.PX(this.tM)});this.aE="";this.sM=1}}S3(g){this.mb&&(2===g?(this.rg=d.F(d.ka.pH,this.Hb()),this.rg.LR(),this.rg.FH("Arial"),this.rg.GH(16),
this.rg.IR("center"),this.rg.bS("center"),this.rg.Gc(300,200)):0===g?(g=this.j.cu)&&g.Fs(this.mb).catch(l=>console.warn("[C3 runtime] Failed to create texture for loading logo: ",l)):4===g&&(this.Mca().then(l=>{"done"===this.yk?this.mb.Fk(l):this.sg.iz=l}).catch(l=>console.warn("Failed to load splash image: ",l)),this.YT("splash-images/splash-poweredby-512.png").then(l=>{"done"===this.yk?this.mb.Fk(l):this.sg.lz=l}).catch(l=>console.warn("Failed to load splash image: ",l)),this.YT("splash-images/splash-website-512.png").then(l=>
{"done"===this.yk?this.mb.Fk(l):this.sg.uz=l}).catch(l=>console.warn("Failed to load splash image: ",l))))}async Mca(){var g=(new URL("splash-images/splash-logo.svg",this.j.QF())).toString();g=await d.fm(g);g=await this.j.P6(g);return await this.mb.Iz(g,{jz:"high"})}async YT(g){g=(new URL(g,this.j.QF())).toString();g=await d.fm(g);return await this.mb.Iz(g,{jz:"high"})}BG(){this.j.Am("runtime","hide-cordova-splash")}b9(){this.Zx=Date.now();this.j.Fb().addEventListener("loadingprogress",this.CL);this.lf=
requestAnimationFrame(()=>this.bT());3!==this.j.bu&&this.BG()}async i1(){if(this.mb){this.To=1;var g=this.j.bu;4===g&&await this.QX;this.QX=this.wM=null;-1!==this.lf&&(cancelAnimationFrame(this.lf),this.lf=-1);this.j.Fb().removeEventListener("loadingprogress",this.CL);this.CL=null;this.rg&&(this.rg.A(),this.rg=null);this.j.U6();this.mb.ow();this.sg.iz&&(this.mb.Fk(this.sg.iz),this.sg.iz=null);this.sg.lz&&(this.mb.Fk(this.sg.lz),this.sg.lz=null);this.sg.uz&&(this.mb.Fk(this.sg.uz),this.sg.uz=null);
this.mb.Ez();this.mb.pv();this.yk="done";this.Io=this.mb.Ji;3===g&&this.BG()}}bT(){if(-1!==this.lf){var g=this.mb;if(g){g.ow();this.lf=-1;var l=this.j.zb.LK,m=this.j.bu;3!==m&&(this.H7(g),g.Ez(),g.Ms(),g.vi(),g.hg(null));if(0===m)this.Yaa(l);else if(1===m)this.pB(l,120,0);else if(2===m)this.Xaa(l);else if(3!==m)if(4===m)this.Zaa(l);else throw Error("invalid loader style");g.pv();this.lf=requestAnimationFrame(()=>this.bT())}}}Xaa(g){g?this.rg.xR(1,0,0):this.rg.xR(.6,.6,.6);this.rg.bl(Math.round(100*
this.To)+"%");g=this.qd/2;const l=this.bd/2;f.dZ(g-150,l-100,g+150,l+100);this.mb.hg(this.rg.ue());this.mb.eo(f,this.rg.bg())}pB(g,l,m){const q=this.mb;q.DH();g?q.gg(1,0,0,1):q.gg(.118,.565,1,1);g=this.qd/2;const r=this.bd/2,p=l/2;k.jj(g-p,r-4+m,Math.floor(l*this.To),8);q.Rect(k);k.jj(g-p,r-4+m,l,8);k.offset(-.5,-.5);k.LE(.5,.5);q.gg(0,0,0,1);q.oQ(k);k.LE(1,1);q.gg(1,1,1,1);q.oQ(k)}Yaa(g){var l=this.j.cu;if(l)if(l=l.ue()){var m=l.O(),q=l.P(),r=this.qd/2,p=this.bd/2,u=m/2;q/=2;f.dZ(r-u,p-q,r+u,p+q);
this.mb.hg(l);this.mb.Bd(f);this.pB(g,m,q+16)}else this.pB(g,120,0);else this.pB(g,120,0)}Zaa(g){const l=this.mb,m=this.sg.iz,q=this.sg.lz,r=this.sg.uz,p=Date.now();0===this.yM&&(this.Zx=p);const u=this.j.aq()||this.j.sha&&!this.j.r4(),t=u?0:200,w=u?0:3E3;let x=1;"fade-in"===this.yk?x=Math.min((p-this.Zx)/300,1):"fade-out"===this.yk&&(x=Math.max(1-(p-this.xM)/300,0));l.DH();l.gg(.231*x,.251*x,.271*x,x);k.set(0,0,this.qd,this.bd);l.Rect(k);const z=Math.ceil(this.qd),D=Math.ceil(this.bd);let G;256<
this.bd?(l.gg(.302*x,.334*x,.365*x,x),G=Math.max(.005*D,2),k.jj(0,.8*D-G/2,z,G),l.Rect(k),g?l.gg(x,0,0,x):l.gg(.161*x,.953*x,.816*x,x),g=z*this.To,k.jj(.5*z-g/2,.8*D-G/2,g,G),l.Rect(k),l.gg(x,x,x,x),l.vi(),q&&(g=1.5*d.ja(.22*D,105,.6*z),G=g/8,k.jj(.5*z-g/2,.2*D-G/2,g,G),l.hg(q),l.Rect(k)),m&&(G=g=Math.min(.395*D,.95*z),k.jj(.5*z-g/2,.485*D-G/2,g,G),l.hg(m),l.Rect(k)),r&&(g=1.5*d.ja(.22*D,105,.6*z),G=g/8,k.jj(.5*z-g/2,.868*D-G/2,g,G),l.hg(r),l.Rect(k))):(l.gg(.302*x,.334*x,.365*x,x),G=Math.max(.005*
D,2),k.jj(0,.85*D-G/2,z,G),l.Rect(k),g?l.gg(x,0,0,x):l.gg(.161*x,.953*x,.816*x,x),g=z*this.To,k.jj(.5*z-g/2,.85*D-G/2,g,G),l.Rect(k),l.gg(x,x,x,x),l.vi(),m&&(G=g=.55*D,k.jj(.5*z-g/2,.45*D-G/2,g,G),l.hg(m),l.Rect(k)));this.yM++;"fade-in"===this.yk&&300<=p-this.Zx&&2<=this.yM&&(this.yk="wait",this.RX=p);"wait"===this.yk&&p-this.RX>=w&&1<=this.To&&(this.yk="fade-out",this.xM=p);("fade-out"===this.yk&&p-this.xM>=300+t||u&&1<=this.To&&500>p-this.Zx)&&this.wM()}}}
{"use strict";const d=self.C,a=self.Dg,b={messagePort:null,baseUrl:"",headless:!1,hasDom:!0,isInWorker:!1,useAudio:!0,projectData:"",exportType:""};let e=!0;d.qR=class extends d.oa{constructor(c){c=Object.assign({},b,c);super();this.ey=c.messagePort;this.Oga=c.baseUrl;this.ff=!!c.isInWorker;e=c.ife;this.ek=c.exportType;this.nL=!!c.isiOSCordova;this.sha=!!c.isFBInstantAvailable;this.Oha=c.opusWasmScriptUrl;this.kX=c.opusWasmBinaryUrl;this.Ge=this.Vga=this.Bb=!("preview"!==this.ek||!c.isDebug);this.kK=
0;this.UB=[];this.Iga=[];this.iM=this.vX=this.SD="";this.Qh=this.Rh=0;this.LV=self.devicePixelRatio;this.bu=this.ug=this.vg=this.YL=this.XL=0;this.wE=!1;this.Bl=!0;this.VM=!1;this.cu=null;this.zb=d.F(d.YZ,this,c);this.hb=d.F(d.N4,this);this.Ba=d.F(d.m1,this);this.$o=d.F(d.y6,this);this.Ef=d.F(d.w_,this);this.Qb=d.F(d.l9,this);this.IM=d.F(d.p9,this);this.nd=[];this.RL=new Map;this.SL=new Map;this.WV=0;this.Kga=[];this.KJ=[];this.kx=[];this.Zm=[];this.YC=new Map;this.PC=!1;this.gy=this.TL=0;this.cr=
new Map;this.dr=new Set;this.ZC=new Set;this.ID=[];this.HW=[];this.ea=null;this.Fn=!1;this.BK="vsync";this.zt="standard";this.Dd="trilinear";this.Dl=!1;this.PL=!0;this.jL=this.nX=!1;this.aia={RY:f=>{this.un=this.lf=-1;this.Md(f)},bka:f=>{this.un=-1;this.Md(f,!1,"skip-render")},Oja:()=>{this.lf=-1;this.nH()}};this.un=this.lf=-1;this.Lt=this.yn=this.Nl=0;this.nW=this.eD=this.RC=!1;this.fL=!0;this.wu=0;this.Tha=()=>Math.random();this.sC=this.tC=this.xD=this.hp=0;this.Qd=1;this.dX=30;this.GK=d.F(d.Rv);
this.HK=d.F(d.Rv);this.XM=d.F(d.Rv);this.KC=-1;this.ED=this.hn=this.JC=this.Wq=0;this.Cl=!1;this.Yx=this.ry="";this.au=null;this.qr="";this.oM=this.hM=null;this.ec=d.F(d.Event.Fb);this.pK=new Map;this.$L=new Map;this.Kha=0;this.EW=this.MV=this.NV=!1;this.WM=[];this.Uq={pretick:d.F(d.Event,"pretick",!1),tick:d.F(d.Event,"tick",!1),tick2:d.F(d.Event,"tick2",!1),instancedestroy:d.F(d.Event,"instancedestroy",!1),beforelayoutchange:d.F(d.Event,"beforelayoutchange",!1),layoutchange:d.F(d.Event,"layoutchange",
!1)};this.Uq.instancedestroy.instance=null;this.Ne=d.F(d.Event.Fb);this.gY=null;this.yo=d.F(d.iq,d.xz.XH);this.xo=d.F(d.iq,d.xz.XH);this.zo=d.F(d.iq,d.xz.XH);this.Qx=d.F(d.K4,this,c.jobScheduler);c.canvas&&(this.ea=d.F(d.tF,this));this.ey.onmessage=f=>this._OnMessageFromDOM(f.data);this.kj("runtime","visibilitychange",f=>this.Rda(f));this.kj("runtime","opus-decode",f=>this.Ega(f.arrayBuffer));this.kj("runtime","get-remote-preview-status-info",()=>this.Kba());this.kj("runtime","js-invoke-function",
f=>this.BB(f));this.kj("runtime","go-to-last-error-script",self.goToLastErrorScript);this.ec.addEventListener("window-blur",f=>this.aJ(f));this.ec.addEventListener("window-focus",()=>this.Sda());this.Qb.LZ();this.lk=null;this.oha=new WeakMap;this.xt={keyboard:null,BN:null,cO:null}}static $a(c){return d.F(d.qR,c)}A(){d.G(this.nd);this.RL.clear();this.SL.clear();this.hb.A();this.hb=null;this.Ba.A();this.Ba=null;this.$o.A();this.$o=null;this.zb.A();this.zb=null;this.Ef.A();this.Ef=null;this.Qb.A();this.Qb=
null;this.IM.A();this.IM=null;this.ea&&(this.ea.A(),this.ea=null);this.ec.A();this.ec=null}["_OnMessageFromDOM"](c){const f=c.type;if("event"===f)this.iU(c);else if("result"===f)this.Kda(c);else throw Error(`unknown message '${f}'`);}iU(c){if(this.EW){var f=c.component,k=c.handler,g=c.data,l=c.dispatchOpts,m=!(!l||!l.dispatchRuntimeEvent);l=!(!l||!l.dispatchUserScriptEvent);var q=c.responseId;if("runtime"===f&&(m&&(c=new d.Event(k),c.data=g,this.ec.Kia(c)),l)){c=new d.Event(k,!0);for(const [r,p]of Object.entries(g))c[r]=
p;this.ei(c)}if(c=this.pK.get(f))if(c=c.get(k)){m=null;try{m=c(g)}catch(r){console.error(`Exception in '${f}' handler '${k}':`,r);null!==q&&this.EB(q,!1,""+r);return}null!==q&&(m&&m.then?m.then(r=>this.EB(q,!0,r)).catch(r=>{console.error(`Rejection from '${f}' handler '${k}':`,r);this.EB(q,!1,""+r)}):this.EB(q,!0,m))}else m||l||console.warn(`[Runtime] No DOM handler '${k}' for component '${f}'`);else m||l||console.warn(`[Runtime] No DOM event handlers for component '${f}'`)}else this.WM.push(c)}EB(c,
f,k){this.ey.postMessage({type:"result",responseId:c,isOk:f,result:k})}Kda(c){const f=c.responseId,k=c.isOk;c=c.result;const g=this.$L.get(f);k?g.resolve(c):g.reject(c);this.$L.delete(f)}kj(c,f,k){let g=this.pK.get(c);g||(g=new Map,this.pK.set(c,g));if(g.has(f))throw Error(`[Runtime] Component '${c}' already has handler '${f}'`);g.set(f,k)}Am(c,f,k){this.ey.postMessage({type:"event",component:c,handler:f,data:k,responseId:null})}gq(c,f,k){const g=this.Kha++,l=new Promise((m,q)=>{this.$L.set(g,{resolve:m,
reject:q})});this.ey.postMessage({type:"event",component:c,handler:f,data:k,responseId:g});return l}C6(){if(!this.Bb)throw Error("not in debug mode");this.Am("runtime","post-to-debugger",{type:"reload"})}async ph(c){this.Bb?await a.ph(this):self.Dg&&self.Dg.uoa(this);var [f]=await Promise.all([this.zb.VO("data.json"),this.Xca(),this.Qx.ph()]);this.yca(f);await this.gca(c);this.aq()||console.info("Made with Construct 3, the game and app creator :: https://www.construct.net");this.Up()?(f=this.Up(),
console.info(`[C3 runtime] Hosted in ${this.ff?"worker":"DOM"}, rendering with WebGL ${f.fe} [${f.Py}] (${f.t4()?"desynchronized":"standard"} compositing)`)):this.Jv()&&console.info(`[C3 runtime] Hosted in ${this.ff?"worker":"DOM"}, rendering with experimental WebGPU`);this.Hb().MK&&console.warn("[C3 runtime] The renderer indicates a major performance caveat. Software rendering may be in use. This can result in significantly degraded performance.");this.EW=!0;for(const k of this.WM)this.iU(k);d.G(this.WM);
this.ea&&this.ea.b9();for(const k of c.runOnStartupFunctions)this.UB.push(this.Hea(k));await Promise.all([this.zb.rS(),...this.UB]);d.G(this.UB);if(this.zb.LK)this.ea&&this.ea.BG();else return this.ea&&await this.ea.i1(),await this.ec.mN(new d.Event("beforeruntimestart")),await this.ow(),this.ey.postMessage({type:"runtime-ready"}),this}async Hea(c){try{await c(this.lk)}catch(f){console.error("[C3 runtime] Error in runOnStartup function: ",f)}}yca(c){c=c.project;this.SD=c[0];this.vX=c[16];this.iM=
c[31];const f=c[39]||"loading-logo.png";this.Dl=!!c[9];this.Rh=this.vg=c[10];this.Qh=this.ug=c[11];this.XL=this.Rh/2;this.YL=this.Qh/2;this.zt=c[36];this.BK=c[37];"low-latency"===this.zt&&this.m4()&&77>=d.md.rF&&(console.warn("[C3 runtime] Desynchronized (low-latency) compositing is enabled, but is disabled in the Android WebView <=77 due to crbug.com/1008842. Reverting to synchronized (standard) compositing."),this.zt="standard");this.Fn=!!c[40];this.Dd=c[14];this.wE=!!c[18];this.bu=c[19];this.gy=
c[21];this.nX=c[22];const k=this.zb;k.kfa(c[7],c[25]);k.Ofa(c[8]);k.zfa(c[32]);k.Efa(c[28]);k.aga(c[29]);if(0===this.bu){let r="";this.aq()?k.zB(f)&&(r=k.fG(f)):r=k.oW+f;r&&(this.cu=k.NA({url:r}))}this.ea&&(this.ea.V7(d.tF.hT(c[12])),this.ea.FR(c[23]?"high":"low"),this.ea.KH(0!==c[24]),this.ea.Afa(c[34]),this.ea.Zfa(c[41]),this.ea.bga(c[13]));this.$o.Q_();this.ID=self.qO();for(var g of c[2])this.$o.O_(g);this.ID=self.qO();this.Gca();for(var l of c[3])g=d.bH.$a(this,this.nd.length,l),this.nd.push(g),
this.RL.set(g.Ha().toLowerCase(),g),this.SL.set(g.cb,g);for(const r of c[4])this.nd[r[0]].Bca(r);for(var m of c[27])l=m.map(r=>this.nd[r]),this.Kga.push(d.F(d.D_,this,l));for(const r of this.nd)r.hda();for(const r of c[5])this.hb.$a(r);(m=c[1])&&(m=this.hb.ss(m))&&this.hb.R7(m);for(var q of c[33])this.Qb.$a(q);for(const r of c[35])this.IM.$a(r);this.dca();for(const r of c[6])this.Ba.$a(r);this.Ba.Zb();this.$ba();d.G(this.ID);this.te();q="any";c=c[20];1===c?q="portrait":2===c&&(q="landscape");this.Am("runtime",
"set-target-orientation",{targetOrientation:q})}kF(c){this.UB.push(c)}Gba(){return this.WV++}Y9(c){this.KJ.push(c)}async gca(c){this.ea&&(await this.ea.gh(c),this.ea.S3(this.bu))}async Xca(){if(!this.zb.ZP("audio/webm; codecs=opus")){var c=null;try{c=this.nL&&this.zb.Jx?await this.zb.GO(this.kX):await this.zb.nv(this.kX)}catch(f){console.info("Failed to fetch Opus decoder WASM; assuming project has no Opus audio.",f);return}c?this.EZ(c):this.DZ();await this.FZ([this.Oha])}}async Ega(c){return await this.jF("OpusDecode",
{arrayBuffer:c},[c])}async ow(){this.RC=!0;this.hp=Date.now();if(this.wE){for(var c of this.nd)c.gb||c.iL||!c.ng||c.Xb();this.zb.rS().then(()=>{this.Bl=!1;this.mU()})}else this.Bl=!1;this.zb.a8();this.Bb&&a.bta(e);for(const f of this.hb.Qj)f.R$();c=this.hb.b2();await c.RI(null,this.Hb());await c.fV(!0);this.Wq=performance.now();this.wE||this.mU();(await this.gq("runtime","before-start-ticking")).isSuspended?this.wu++:this.Md()}mU(){this.la(d.D.ob.H.MQ,null,null);this.Am("runtime","register-sw")}ki(c){c=
Math.floor(c);const f=this.ID;if(0>c||c>=f.length)throw Error("invalid object reference");return f[c]}Gca(){for(const c of self.e_){const f=d.first(Object.keys(c));this.HW.push(f)}}uj(c){c=Math.floor(c);const f=this.HW;if(0>c||c>=f.length)throw Error("invalid prop reference");return f[c]}QF(){return this.Oga}ta(){return this.Ba}Ad(){return this.Ba.Ad()}Yf(){return this.Ba.Yf()}Rb(){return this.Ba.Rb()}Xf(){return this.Ba.Xf()}s4(){return 0===this.Yf().Tm}wv(){return this.Ba.wv()}Fv(){return this.$o.Fv()}$f(c){c=
Math.floor(c);if(0>c||c>=this.nd.length)throw new RangeError("invalid index");return this.nd[c]}gG(c){return this.RL.get(c.toLowerCase())||null}lA(c){return this.SL.get(c)||null}*jia(){for(const c of this.nd)c.gb||(yield*c.IY())}Fb(){return this.ec}ei(c){c.Uc=this.lk;const f=this.Bb&&!this.Ba.FA();f&&a.ZH();this.Ne.dispatchEvent(c);f&&a.mF()}Jp(c){c.Uc=this.lk;return this.Ne.mN(c)}j8(c,f){if(this.Rh!==c||this.Qh!==f)this.Rh=c,this.Qh=f,c=this.hb,c.pq(),c.oq()}mw(c,f){if(this.vg!==c||this.ug!==f)this.vg=
c,this.ug=f,c=this.hb,c.pq(),c.oq()}sfa(c){this.LV=c}im(){return this.LV}jh(){return this.ea?this.ea.jh():this.vg}Fg(){return this.ea?this.ea.Fg():this.ug}pm(){return this.ea?this.ea.pm():1}jm(){return this.ea?this.ea.jm():1}gm(){return this.ea?this.ea.gm():0}hm(){return this.ea?this.ea.hm():0}eP(){return this.ea?this.ea.qd:0}dP(){return this.ea?this.ea.bd:0}hA(){return this.ea?this.ea.hA():"off"}sv(c){return this.ea?this.ea.sv(c):null}fo(c){this.ea&&this.ea.fo(c)}$fa(c){this.VM=!!c}jA(){return this.ea?
this.ea.jA():NaN}SG(){return"nearest"!==this.Dd}U6(){this.cu&&(this.cu.A(),this.cu=null)}Nb(){return this.hb.Nb()}NA(c){return this.zb.NA(c)}zF(c,f,k,g,l){return this.oj(c,f,!1,k,g,!1,l,void 0,l)}oj(c,f,k,g,l,m,q,r,p){var u=null;let t=null;c instanceof d.bH?(t=c,t.gb&&(u=t.Go,t=u[Math.floor(this.Bm()*u.length)]),u=t.Gt):(u=c,t=this.$f(u[1]));c=t.Sb().ng;if(this.Bl&&c&&!t.iL)return null;const w=f;c||(f=null);var x=k&&!m&&u&&!this.cr.has(u[2])?u[2]:this.gy++;const z=u?u[0]:null,D=d.F(d.Instance,{Uc:this,
FN:t,se:f,oZ:z,HY:u?u[3]:null,uid:x});this.cr.set(x,D);x=null;c&&(x=D.B(),"undefined"!==typeof g&&"undefined"!==typeof l&&(x.ye(g),x.Ae(l)),t.NU());f&&(p||f.Bh(D,!0),1===f.Ie&&1===f.Je||t.iJ(!0),f.sc().vQ(t));this.TL++;let G=!0;r&&(r=r.M(),r.lc()&&t.lc()&&t.Hh===r.Hh&&(G=!1));if(t.lc()&&!k&&!m&&G){for(var N of t.Hh.nn)N!==t&&(r=this.oj(N,w,!1,x?x.K():g,x?x.L():l,!0,!1,void 0,p),D.ft(r));for(var B of D.ae){B.ft(D);for(const H of D.ae)B!==H&&B.ft(H)}}c&&!k&&q&&this.oI(D,z,x,f,g,l,p);if(t.lc()&&!k&&
!m&&q)for(const H of D.ae)if(k=H.B())N=H.Sb(),B=H.M().Gt[0],N.ng?this.oI(H,B,k,f,k.K(),k.L(),p):this.oI(H,B,k,f,void 0,void 0,p);!m&&q&&("undefined"===typeof g&&(g=z[0]),"undefined"===typeof l&&(l=z[1]),f=x.tA(),g=g-x.K()+f.K(),l=l-x.L()+f.L(),f.Lc(g,l));t.Ow();l=u?d.DE(u[5]):null;u=u?u[4].map(H=>d.DE(H)):null;c&&z&&z[13]&&D.Dfa();D.kB(l,u);this.Zm.push(D);this.PC=!0;this.Bb&&a.voa(D);return D}oI(c,f,k,g,l,m,q){var r=k.IX,p=k.pM;c.B().LH(r);if(p){"undefined"===typeof l&&(l=f[0]);"undefined"===typeof m&&
(m=f[1]);r=new Set;k=f[0];f=f[1];for(const z of p){var u=z[1],t=z[2];p=z[3];var w=!!z[4];const D=z[5];t=this.hb.eG(z[0]).ca(u).j2(t);u=this.$f(t[1]);var x=c.h3(u);const G=r.has(u);x&&!G&&w?(w=c.KP(u),x=l+t[0][0]-k,t=m+t[0][1]-f,w.B().Lc(x,t),w.B().LH(D),c.Pn(w,{Xu:!!(p>>0&1),Yu:!!(p>>1&1),gs:!!(p>>2&1),es:!!(p>>3&1),Wu:!!(p>>4&1),Zy:!!(p>>5&1),Zu:!!(p>>6&1)}),r.add(u)):(u=this.oj(t,g,!1,l+t[0][0]-k,m+t[0][1]-f,!1,!0,c,q),u.B().LH(D),c.Pn(u,{Xu:!!(p>>0&1),Yu:!!(p>>1&1),gs:!!(p>>2&1),es:!!(p>>3&1),
Wu:!!(p>>4&1),Zy:!!(p>>5&1),Zu:!!(p>>6&1)}))}}}Qn(c){if(!this.dr.has(c)){var f=c.M(),k=this.YC.get(f);if(k){if(k.has(c))return;k.add(c)}else k=new Set,k.add(c),this.YC.set(f,k);this.Bb&&a.woa(c);c.UI();this.PC=!0;if(c.lc())for(const g of c.ae)this.Qn(g);for(const g of c.children())g.eA()&&this.Qn(g);this.hb.eQ()||this.Cl||(f=this.ta(),f.qf(!0),c.nga(),f.qf(!1));c.kba(this.hb.eQ())}}te(){this.PC&&(this.mba(),this.nba(),this.PC=!1,this.Z())}mba(){for(const c of this.Zm){const f=c.M();f.Bh(c);for(const k of f.Ii)k.Bh(c),
k.Ow()}d.G(this.Zm)}nba(){this.ec.Ps(!0);for(const [c,f]of this.YC.entries())this.oba(c,f),f.clear();this.YC.clear();this.ec.Ps(!1)}oba(c,f){for(const g of f){var k=this.Uq.instancedestroy;k.instance=g;this.ec.dispatchEvent(k);this.cr.delete(g.ub);if(k=g.B())k.wU(),k.xU(),k.UI();this.dr.add(g);this.TL--}d.ai(c.qa(),f);c.Ow();this.ZC.add(c);0===c.qa().length&&c.iJ(!1);for(const g of c.Ii)d.ai(g.qa(),f),g.Ow(),this.ZC.add(g);if(c.Sb().ng){c=new Set([...f].map(g=>g.B().ca()));for(const g of c)g.lea(f)}}*tN(c){for(const f of this.Zm)c.gb?
f.M().qF(c)&&(yield f):f.M()===c&&(yield f)}Fba(){return this.gy++}Uca(c,f){this.cr.set(c,f)}Mw(){this.ec.dispatchEvent(d.F(d.Event,"webglcontextlost"));this.lw(!0);for(var c of this.nd)!c.gb&&c.f3()&&c.ho();(c=this.Nb())&&c.Mw();d.BA.Is();d.WP.Is()}async $I(){await this.Nb().RI(null,this.Up());this.ec.dispatchEvent(d.F(d.Event,"webglcontextrestored"));this.lw(!1);this.Z()}Rda(c){this.lw(c.hidden)}aJ(c){this.aq()&&this.nX&&!d.md.GA&&!c.data.parentHasFocus&&(this.lw(!0),this.jL=!0)}Sda(){this.jL&&
(this.lw(!1),this.jL=!1)}yU(){const c=this.aia;"vsync"===this.BK?-1===this.lf&&(this.lf=self.requestAnimationFrame(c.RY)):"unlimited-tick"===this.BK?(-1===this.un&&(this.un=d.rH(c.bka)),-1===this.lf&&(this.lf=self.requestAnimationFrame(c.Oja))):-1===this.un&&(this.un=d.rH(c.RY))}D$(){-1!==this.lf&&(self.cancelAnimationFrame(this.lf),this.lf=-1);-1!==this.un&&(d.k_(this.un),this.un=-1)}ao(){return 0<this.wu}lw(c){var f=this.ao();this.wu+=c?1:-1;0>this.wu&&(this.wu=0);c=this.ao();!f&&c?(console.log("[Construct 3] Suspending"),
this.D$(),this.ec.dispatchEvent(d.F(d.Event,"suspend")),this.la(d.D.ob.H.l6,null,null)):f&&!c&&(console.log("[Construct 3] Resuming"),this.Wq=this.xD=f=performance.now(),this.hn=this.ED=this.JC=this.KC=0,this.ec.dispatchEvent(d.F(d.Event,"resume")),this.la(d.D.ob.H.i6,null,null),this.Mv()||this.Md(f))}U9(c){this.yo.Jc(c)}T9(c){this.xo.Jc(c)}V9(c){this.zo.Jc(c)}nea(c){this.yo.pi(c)}mea(c){this.xo.pi(c)}oea(c){this.zo.pi(c)}s$(){this.yo.ti(!0);for(const c of this.yo)c.Md();this.yo.ti(!1)}r$(){this.xo.ti(!0);
for(const c of this.xo)c.iH();this.xo.ti(!1)}t$(){this.zo.ti(!0);for(const c of this.zo)c.ct();this.zo.ti(!1)}*faa(){this.yo.ti(!0);for(const c of this.yo){const f=c.Md();d.Zn(f)&&(yield*f)}this.yo.ti(!1)}*eaa(){this.xo.ti(!0);for(const c of this.xo){const f=c.iH();d.Zn(f)&&(yield*f)}this.xo.ti(!1)}*gaa(){this.zo.ti(!0);for(const c of this.zo){const f=c.ct();d.Zn(f)&&(yield*f)}this.zo.ti(!1)}async Md(c,f,k){this.nW=!0;const g="background-wake"===k;k="background-wake"!==k&&"skip-render"!==k;this.RC&&
(!this.ao()||f||g)&&(f=performance.now(),this.eD=!0,this.$ca(c||0),c=this.d9(),this.Ge&&await c,c=this.ec.Lia(this.Uq.pretick),c instanceof Promise&&await c,c=this.c9(),this.Ge&&await c,this.fda()&&await this.Sba(),this.hb.Ds()&&await this.Wca(),c=this.e9(),this.Ge&&await c,k&&this.nH(),this.ao()||g||this.yU(),this.Nl++,this.yn++,this.Lt++,this.eD=!1,this.hn+=performance.now()-f)}async d9(){const c=this.Ba,f=this.Bb;this.te();c.qf(!0);this.hq(this.Nb());f&&a.$s();this.Ge?await c.X_():c.s7();f&&a.BZ();
this.fq();c.qf(!1);this.te();c.qf(!0)}async c9(){const c=this.Bb,f=this.Ge,k=this.ec,g=this.Uq,l=this.gY;c&&a.$s();f?await this.Nz(this.faa()):this.s$();f?await this.Nz(this.eaa()):this.r$();c&&a.wZ();c&&a.$s();f?await this.JO(g.tick):k.dispatchEvent(g.tick);c&&a.HZ();this.Ba.qf(!1);this.ei(l.tick)}async e9(){const c=this.Ba,f=this.ec,k=this.Uq,g=this.Bb,l=this.Ge;g&&a.$s();l?await c.V_(this.hb):c.q7(this.hb);g&&a.BZ();this.Ef.AO();this.vU();this.fL=!1;c.qf(!0);g&&a.$s();l?await this.Nz(this.gaa()):
this.t$();g&&a.wZ();g&&a.$s();l?await this.JO(k.tick2):f.dispatchEvent(k.tick2);g&&a.HZ();c.qf(!1);l&&await c.pR()}vU(){if(0!==this.dr.size){var c=this.ec;c.Ps(!0);for(const f of this.ZC)f.fp.jq(this.dr);this.ZC.clear();this.Ba.W6(this.dr);for(const f of this.dr)f.A();this.dr.clear();c.Ps(!1)}}async Wca(){const c=this.hb;let f=0;for(;c.Ds()&&10>f++;)await this.US(c.hy)}$ca(c){let f=0;0!==this.xD&&(f=Math.max(c-this.xD,0)/1E3,.5<f&&(f=0),this.tC=Math.min(f,1/this.dX));this.xD=c;this.sC=this.tC*this.Qd;
this.GK.Jc(this.sC);this.HK.Jc(f*this.Qd);this.XM.Jc(this.tC);this.ea&&this.ea.yga();1E3<=c-this.Wq&&(this.Wq+=1E3,1E3<=c-this.Wq&&(this.Wq=c),this.JC=this.KC,this.KC=0,this.ED=Math.min(this.hn/1E3,1),this.hn=0,this.ea&&this.ea.rga(),this.Bb&&a.Yva());this.KC++}async US(c){const f=this.ec,k=this.hb.Nb();await k.iga();k.qga(c,this.Hb());k===c&&this.Ba.Bz();this.Ef.AO();this.vU();f.dispatchEvent(this.Uq.beforelayoutchange);d.am.HR(!0);await c.RI(k,this.Hb());d.am.HR(!1);await c.fV(!1);f.dispatchEvent(this.Uq.layoutchange);
this.Z();this.fL=!0;this.te()}Z(){this.PL=!0}Up(){return this.ea?this.ea.Up():null}Jv(){return this.ea?this.ea.Jv():null}Hb(){return this.ea?this.ea.Hb():null}nH(){const c=this.ea;if(c&&!c.B4()){var f=this.Hb(),k=f.cl(),g=k&&f.Qv();k=k&&!1;g&&f.m_();if(this.PL){var l=this.hb.Nb();f.ow();var m=this.Bb;m&&a.$s();this.PL=!1;var q=null;g&&(q=c.OC.nF(),f.$H(q));g=null;k&&(g=f.iva(2*(1+l.pc.length)),f.O9(0));this.Fn&&"low"===c.jk?f.S7(c.jh(),c.Fg()):f.B7();this.wea(this.Hb(),l);q&&f.IF(q);k&&(f.O9(1),this.ea.i$(g));
f.pv();m&&(a.Fka(),a.$va());c&&c.Yca()}else f.F3()}}wea(c,f){c.vi();c.yH();c.gg(1,1,1,1);c.Af(null);c.hg(null);c.mo(this.Fn);f.Se(c)}la(c,f,k){if(!this.RC)return!1;var g=!this.eD&&!this.Ba.QG();let l=0;g&&(l=performance.now());const m=this.Bb;m&&this.Os(!1);c=this.Ba.Uw(this.hb,c,f,k);g&&(g=performance.now()-l,this.hn+=g,m&&a.Qka(g));m&&this.Os(!0);return c}async Cd(c,f,k){if(!this.Ge)return this.la(c,f,k);if(!this.RC)return!1;if(this.Mv())return this.Ba.O6(c,f,k);if(!this.Nb())return this.Ba.lH(c,
f,k);const g=performance.now();c=this.Ba.xw(this.hb,c,f,k);for(f=c.next();!f.done;)await this.ns(f.value),f=c.next();this.ao()||this.Ba.QG()||(await this.Ba.pR(),this.nW&&!this.eD&&this.yU());this.hn+=performance.now()-g;return f.value}lv(c,f,k){const g=this.Bb;g&&this.Os(!1);c=this.Ba.rB(this.hb,c,f,k);g&&this.Os(!0);return c}DF(c,f,k){return this.Ba.mB(this.hb,c,f,k)}hq(c){this.kx.push(c)}fq(){if(!this.kx.length)throw Error("layout stack empty");this.kx.pop()}Ta(){return this.kx.length?this.kx.Pe(-1):
this.Nb()}Gk(c){return c&&-1!==c.Qd?this.tC*c.Qd:this.sC}QH(c){if(isNaN(c)||0>c)c=0;this.Qd=c}RR(c){this.dX=d.ja(c,1,120)}mh(){return this.GK.na()}bG(){return this.HK.na()}Iv(){return this.XM.na()}tm(){++this.Lt}Te(c){if(this.Cl)throw Error("cannot call while loading state - wait until afterload event");return this.cr.get(c)||null}sU(){this.cr.clear();for(const c of this.nd)if(!c.gb)for(const f of c.qa())this.cr.set(f.ub,f)}aq(){return"preview"===this.ek}r4(){return"cordova"===this.ek}m4(){return"Android"===
d.md.Hs&&("cordova"===this.ek||"playable-ad"===this.ek||"instant-games"===this.ek)}rG(){return this.$o.rG()}l8(c){c=!!c;this.Dl!==c&&(this.Dl=c,this.hb.oq(),this.Z())}u7(c){this.ry=c}V4(c){this.Yx=c}$G(c){this.au=c}fda(){return!(!this.ry&&!this.Yx&&null===this.au)}async Sba(){this.ry&&(this.te(),await this.Iaa(this.ry),this.mI());this.Yx&&(await this.Haa(this.Yx),this.mI(),this.Bb&&a.kva());if(null!==this.au){this.te();try{await this.ZS(this.au),this.qr=this.au,await this.Cd(d.D.ob.H.KQ,null),this.qr=
""}catch(c){console.error("[Construct 3] Failed to load state from JSON string: ",c),await this.Cd(d.D.ob.H.LQ,null)}this.mI()}}mI(){this.Yx=this.ry="";this.au=null}Jba(){this.hM||(this.hM=localforage.jN({name:"c3-localstorage-"+this.iM,description:this.SD}));return this.hM}BT(){this.oM||(this.oM=localforage.jN({name:"c3-savegames-"+this.iM,description:this.SD}));return this.oM}async Iaa(c){const f=await this.$ea();try{await this.BT().setItem(c,f),console.log("[Construct 3] Saved state to storage ("+
f.length+" chars)"),this.qr=f,await this.Cd(d.D.ob.H.j6,null),this.qr=""}catch(k){console.error("[Construct 3] Failed to save state to storage: ",k),await this.Cd(d.D.ob.H.k6,null)}}async Haa(c){try{const f=await this.BT().getItem(c);if(!f)throw Error("empty slot");console.log("[Construct 3] Loaded state from storage ("+f.length+" chars)");await this.ZS(f);this.qr=f;await this.Cd(d.D.ob.H.KQ,null);this.qr=""}catch(f){console.error("[Construct 3] Failed to load state from storage: ",f),await this.Cd(d.D.ob.H.LQ,
null)}}async $ea(){const c={c3save:!0,version:1,rt:{time:this.mh(),timeRaw:this.bG(),walltime:this.Iv(),timescale:this.Qd,tickcount:this.Nl,execcount:this.Lt,next_uid:this.gy,running_layout:this.Nb().cb,start_time_offset:Date.now()-this.hp},types:{},layouts:{},events:this.Ba.wa(),timelines:this.Qb.wa(),user_script_data:null};for(var f of this.nd)f.gb||f.SP()||(c.types[f.cb.toString()]=f.wa());for(const k of this.hb.Qj)c.layouts[k.cb.toString()]=k.wa();f=this.rI("save");f.saveData=null;await this.Jp(f);
c.user_script_data=f.saveData;return JSON.stringify(c)}async ZS(c){var f=this.hb;c=JSON.parse(c);if(c.c2save)throw Error("C2 saves are incompatible with C3 runtime");if(!c.c3save)throw Error("not valid C3 save data");if(1<c.version)throw Error("C3 save data from future version");this.ec.dispatchEvent(d.F(d.Event,"beforeload"));for(var k of this.jia())k.mt();this.Cl=!0;k=c.rt;this.GK.Set(k.time);k.hasOwnProperty("timeRaw")&&this.HK.Set(k.timeRaw);this.XM.Set(k.walltime);this.Qd=k.timescale;this.Nl=
k.tickcount;this.Lt=k.execcount;this.hp=Date.now()-k.start_time_offset;var g=k.running_layout;if(g!==this.Nb().cb)if(g=f.eG(g))await this.US(g);else return;for(const [l,m]of Object.entries(c.types))g=this.lA(parseInt(l,10)),!g||g.gb||g.SP()||g.Ca(m);this.te();this.sU();this.Cl=!1;this.gy=k.next_uid;for(const [l,m]of Object.entries(c.layouts))(k=f.eG(parseInt(l,10)))&&k.Ca(m);this.Ba.Ca(c.events);for(const l of this.nd)if(!l.gb&&l.lc())for(const m of l.qa()){k=m.Mp();for(const q of l.Hh.nn)if(q!==
l){g=q.qa();if(0>k||k>=g.length)throw Error("missing sibling instance");m.ft(g[k])}}this.Qb.Ca(c.timelines);f.pq();f.oq();this.ec.dispatchEvent(d.F(d.Event,"afterload"));f=this.rI("load");f.saveData=c.user_script_data;await this.Jp(f);this.Z()}async FZ(c){c=(await Promise.all(c.map(f=>this.zb.fm(f)))).map(f=>URL.createObjectURL(f));this.Qx.E3(c)}DZ(){this.Qx.w7()}EZ(c){this.Qx.x7(c)}jF(c,f,k){return this.Qx.jF(c,f,k)}GG(c,f){this.Am("runtime","invoke-download",{url:c,filename:f})}async P6(c){var f=
f||2048;var k=k||2048;return this.ff?(await this.gq("runtime","raster-svg-image",{blob:c,imageWidth:2048,imageHeight:2048,surfaceWidth:f,surfaceHeight:k,imageBitmapOpts:void 0})).imageBitmap:await self.C3_RasterSvgImageBlob(c,2048,2048,f,k)}Ls(){this.NV||(this.NV=!0,this.Am("runtime","enable-device-orientation"))}io(){this.MV||(this.MV=!0,this.Am("runtime","enable-device-motion"))}Bm(){return this.Tha()}Kba(){const c=this.Up();return{fps:this.JC,cpu:this.ED,gpu:this.jA(),layout:this.Nb()?this.Nb().Ha():
"",renderer:c?c.Py:"<unavailable>"}}Mv(){return this.Bb?a.Mv():!1}ns(c){return this.Ge?a.ns(c):Promise.resolve()}Dc(){return this.Ge?a.Kla():!1}Os(c){c?this.kK--:this.kK++;this.tga()}tga(){this.Ge=this.Bb&&this.Vga&&0===this.kK}IG(){return this.Bb&&a.IG()}NG(){return this.Bb&&this.Hb().cl()&&a.NG()}async Nz(c){if(c)for(const f of c)await this.ns(f)}JO(c){return this.Nz(this.ec.Mia(c))}BB(c){return this.Ba.BB(c.name,c.params)}rI(c){c=d.F(d.Event,c,!1);c.Uc=this.lk;return c}dca(){var c={};for(const f of this.nd)c[f.uj()]=
{value:f.Bx,enumerable:!0,writable:!1};c=Object.create(Object.prototype,c);this.lk=new self.u3(this,c);this.gY={tick:this.rI("tick")}}$ba(){const c={};for(const f of this.ta().LJ)c[f.uj()]=f.CT();this.lk.aca(c)}$T(c,f){this.oha.set(c,f)}};self.C3_CreateRuntime=d.qR.$a;self.C3_InitRuntime=(c,f)=>c.ph(f)}
{"use strict";const d=self.C;d.K4=class extends d.oa{constructor(a,b){super();this.j=a;this.kr=new Map;this.Mha=0;this.Ex=b.inputPort;b.outputPort.onmessage=e=>this.lU(e);this.XW=b.maxNumWorkers;this.Rx=1;this.gW=this.Hx=!1}async ph(){}E3(a){this.Ex.postMessage({type:"_import_scripts",scripts:a})}w7(){this.Ex.postMessage({type:"_send_blob",blob:null,id:"opus-decoder-wasm"})}x7(a){this.Ex.postMessage({type:"_send_buffer",buffer:a,id:"opus-decoder-wasm"},[a])}jF(a,b,e){e||(e=[]);const c=this.Mha++;
a={type:a,isBroadcast:!1,jobId:c,params:b,transferables:e};b=new Promise((f,k)=>{this.kr.set(c,{resolve:f,progress:void 0,reject:k,iN:!1})});this.Ex.postMessage(a,e);this.aU();return b}lU(a){a=a.data;const b=a.type,e=a.jobId;switch(b){case "result":this.yda(e,a.result);break;case "progress":this.xda(e,a.progress);break;case "error":this.wda(e,a.error);break;case "ready":this.zda();break;default:throw Error(`unknown message from worker '${b}'`);}}yda(a,b){const e=this.kr.get(a);if(!e)throw Error("invalid job ID");
e.iN||e.resolve(b);this.kr.delete(a)}xda(a,b){a=this.kr.get(a);if(!a)throw Error("invalid job ID");!a.iN&&a.progress&&a.progress(b)}wda(a,b){const e=this.kr.get(a);if(!e)throw Error("invalid job ID");e.iN||e.reject(b);this.kr.delete(a)}zda(){this.Hx&&(this.Hx=!1,this.Rx++,this.Rx<this.XW?this.aU():this.Ex.postMessage({type:"_no_more_workers"}))}async aU(){if(!(this.Rx>=this.XW||this.Hx||this.gW||this.kr.size<=this.Rx))try{this.Hx=!0,(await this.j.gq("runtime","create-job-worker")).outputPort.onmessage=
a=>this.lU(a)}catch(a){this.gW=!0,this.Hx=!1,console.error(`[Construct 3] Failed to create job worker; stopping creating any more (created ${this.Rx} so far)`,a)}}}}self.C3_Shaders={};
{"use strict";const d=self.C;let a=null,b="",e="",c=[],f="",k="",g="";const l=d.F(d.VZ);function m(q,r){q=q[1];r=r[1];if("number"===typeof q&&"number"===typeof r)return q-r;q=""+q;r=""+r;return q<r?-1:q>r?1:0}d.D.ob=class extends d.Cj{constructor(q){super(q);this.qg=this.j.ta().qg;this.ne=this.j.ta().Ad();this.Cx=this.Zq=0;this.aW=new Map}A(){super.A()}Z(){this.j.Z()}la(q){this.j.la(q,null,null)}oA(q,r){a&&q===b&&r===e||(a=new RegExp(q,r),b=q,e=r);a.lastIndex=0;return a}CP(q,r,p){if(q===f&&r===k&&
p===g)return c;const u=this.oA(r,p);c=q.match(u);f=q;k=r;g=p;return c}async TI(q,r){if(r.length){this.Zq+=r.length;var p=[];for(const u of r)p.push(q.vQ(u));await d.G6(p,()=>{this.Cx++});this.Cx++;this.Cx===this.Zq&&(this.j.la(d.D.ob.H.O5,null,null),this.Zq=this.Cx=0)}}iV(q,r){for(const p of r)0===p.J.length&&q.g5(p)}vT(){return l}xea(q){var r=this.j.ta();const p=r.Ad(),u=p.Zf(),t=u.Rb(),w=t.Ud();var x=u.Uk();const z=p.Oa(t),D=r.qg,G=D.Oa();if(x)for(x=0;x<q&&!G.Hc;++x)r.zf(w),G.Xc(x),t.wh(u,z),r.Yb(w);
else for(r=0;r<q&&!G.Hc;++r)G.Xc(r),t.wh(u,z);p.Na();D.Na();return!1}*maa(q){var r=this.j.ta();const p=r.Ad(),u=p.Zf(),t=u.Rb(),w=t.Ud();var x=u.Uk();const z=p.Oa(t),D=r.qg,G=D.Oa();if(x)for(x=0;x<q&&!G.Hc;++x)r.zf(w),G.Xc(x),yield*t.hh(u,z),r.Yb(w);else for(r=0;r<q&&!G.Hc;++r)G.Xc(r),yield*t.hh(u,z);p.Na();D.Na();return!1}Fga(){var q=this.j.ta();const r=q.Ad(),p=r.Zf(),u=p.Rb(),t=u.Ud();var w=p.Uk();const x=r.Oa(u),z=q.qg,D=z.Oa();if(w)for(w=0;!D.Hc;++w)q.zf(t),D.Xc(w),u.wh(p,x)||D.Og(),q.Yb(t);
else for(q=0;!D.Hc;++q)D.Xc(q),u.wh(p,x)||D.Og();r.Na();z.Na();return!1}*Faa(){var q=this.j.ta();const r=q.Ad(),p=r.Zf(),u=p.Rb(),t=u.Ud();var w=p.Uk();const x=r.Oa(u),z=q.qg,D=z.Oa();if(w)for(w=0;!D.Hc;++w)q.zf(t),D.Xc(w),(yield*u.hh(p,x))||D.Og(),q.Yb(t);else for(q=0;!D.Hc;++q)D.Xc(q),(yield*u.hh(p,x))||D.Og();r.Na();z.Na();return!1}pba(q,r,p){var u=this.j.ta();const t=u.Ad(),w=t.Zf(),x=w.Rb(),z=x.Ud(),D=w.Uk(),G=t.Oa(x),N=u.qg,B=N.Oa();B.aB(q);if(p<r)if(D)for(q=r;q>=p&&!B.Hc;--q)u.zf(z),B.Xc(q),
x.wh(w,G),u.Yb(z);else for(u=r;u>=p&&!B.Hc;--u)B.Xc(u),x.wh(w,G);else if(D)for(q=r;q<=p&&!B.Hc;++q)u.zf(z),B.Xc(q),x.wh(w,G),u.Yb(z);else for(u=r;u<=p&&!B.Hc;++u)B.Xc(u),x.wh(w,G);t.Na();N.Na();return!1}*jaa(q,r,p){var u=this.j.ta();const t=u.Ad(),w=t.Zf(),x=w.Rb(),z=x.Ud(),D=w.Uk(),G=t.Oa(x),N=u.qg,B=N.Oa();B.aB(q);if(p<r)if(D)for(q=r;q>=p&&!B.Hc;--q)u.zf(z),B.Xc(q),yield*x.hh(w,G),u.Yb(z);else for(u=r;u>=p&&!B.Hc;--u)B.Xc(u),yield*x.hh(w,G);else if(D)for(q=r;q<=p&&!B.Hc;++q)u.zf(z),B.Xc(q),yield*x.hh(w,
G),u.Yb(z);else for(u=r;u<=p&&!B.Hc;++u)B.Xc(u),yield*x.hh(w,G);t.Na();N.Na();return!1}qba(q){var r=this.j.ta();const p=r.Ad(),u=p.Zf(),t=u.Rb(),w=t.Ud();var x=u.Uk();const z=p.Oa(t),D=r.qg,G=D.Oa(),N=q.lc(),B=q.ia(),H=l.Oa();d.jd(H,B.qa());if(x)for(let I=0,K=H.length;I<K&&!G.Hc;++I)r.zf(w),x=H[I],q.ia().al(x),N&&x.Gj(),G.Xc(I),t.wh(u,z),r.Yb(w);else{B.Ye(!1);q=B.J;d.G(q);q.push(null);for(let I=0,K=H.length;I<K&&!G.Hc;++I)r=H[I],q[0]=r,N&&r.Gj(),G.Xc(I),t.wh(u,z)}p.Na();D.Na();d.G(H);l.Na();return!1}*kaa(q){var r=
this.j.ta();const p=r.Ad(),u=p.Zf(),t=u.Rb(),w=t.Ud();var x=u.Uk();const z=p.Oa(t),D=r.qg,G=D.Oa(),N=q.lc(),B=q.ia(),H=l.Oa();d.jd(H,B.qa());if(x)for(let I=0,K=H.length;I<K&&!G.Hc;++I)r.zf(w),x=H[I],q.ia().al(x),N&&x.Gj(),G.Xc(I),yield*t.hh(u,z),r.Yb(w);else{B.Ye(!1);q=B.J;d.G(q);q.push(null);for(let I=0,K=H.length;I<K&&!G.Hc;++I)r=H[I],q[0]=r,N&&r.Gj(),G.Xc(I),yield*t.hh(u,z)}p.Na();D.Na();d.G(H);l.Na();return!1}rba(q,r){var p=this.j.ta();const u=p.Ad(),t=p.Xf(),w=u.Zf(),x=w.Rb(),z=x.Ud(),D=w.Uk(),
G=u.Oa(x),N=p.qg,B=N.Oa(),H=q.lc(),I=q.ia(),K=l.Oa();d.G(K);const Q=I.qa();for(let R=0,U=Q.length;R<U;++R)K.push([Q[R],t.Xv(1,R)]);K.sort(m);1===r&&K.reverse();if(D)for(let R=0,U=K.length;R<U&&!B.Hc;++R)p.zf(z),r=K[R][0],q.ia().al(r),H&&r.Gj(),B.Xc(R),x.wh(w,G),p.Yb(z);else{I.Ye(!1);q=I.J;d.G(q);q.push(null);for(let R=0,U=K.length;R<U&&!B.Hc;++R)p=K[R][0],q[0]=p,H&&p.Gj(),B.Xc(R),x.wh(w,G)}u.Na();N.Na();d.G(K);l.Na();return!1}*laa(q,r){var p=this.j.ta();const u=p.Ad(),t=p.Xf(),w=u.Zf(),x=w.Rb(),z=
x.Ud(),D=w.Uk(),G=u.Oa(x),N=p.qg,B=N.Oa(),H=q.lc(),I=q.ia(),K=l.Oa();d.G(K);const Q=I.qa();for(let R=0,U=Q.length;R<U;++R)K.push([Q[R],t.Xv(1,R)]);K.sort(m);1===r&&K.reverse();if(D)for(let R=0,U=K.length;R<U&&!B.Hc;++R)p.zf(z),r=K[R][0],q.ia().al(r),H&&r.Gj(),B.Xc(R),yield*x.hh(w,G),p.Yb(z);else{I.Ye(!1);q=I.J;d.G(q);q.push(null);for(let R=0,U=K.length;R<U&&!B.Hc;++R)p=K[R][0],q[0]=p,H&&p.Gj(),B.Xc(R),yield*x.hh(w,G)}u.Na();N.Na();d.G(K);l.Na();return!1}vB(q,r){let p=this.aW.get(q);if(p)return p;
if(!r)return null;p={wp:null,aF:new Map};this.aW.set(q,p);return p}Gaa(q,r,p,u,t){r.tf().p7(p);u&&q.Yb(t)}*iaa(q,r,p,u,t){yield*r.tf().U_(p);u&&q.Yb(t)}}}{"use strict";const d=self.C;d.D.ob.Ce=class extends d.oa{constructor(a){super();this.R=a;this.j=a.N();this.Qi=a.Sb()}Xb(){}A(){this.Qi=this.j=this.R=null}}}{"use strict";const d=self.C;d.D.ob.Instance=class extends d.oa{constructor(a){super();this.I=a;this.R=this.I.M();this.kb=this.R.kb;this.j=this.I.N()}A(){this.j=this.kb=this.R=this.I=null}}}
{"use strict";const d=self.C,a=[];d.D.ob.H={p1(){return!0},JQ(){return!0},R5(){return!0},l6(){return!0},i6(){return!0},ao(){return this.j.ao()},QO(){const b=this.j.Yf();return b.sK?!1:!b.lr},Nva(){const b=this.j.Xf().xf();let e=b.get("TriggerOnce_lastTick");"undefined"===typeof e&&(e=-1,b.set("TriggerOnce_lastTick",-1));const c=this.j.Nl;b.set("TriggerOnce_lastTick",c);return this.j.fL||e!==c-1},o1(b){const e=this.j.Xf().xf(),c=e.get("Every_lastTime")||0,f=this.j.mh();e.has("Every_seconds")||e.set("Every_seconds",
b);const k=e.get("Every_seconds");if(f>=c+k)return e.set("Every_lastTime",c+k),f>=e.get("Every_lastTime")+.04&&e.set("Every_lastTime",f),e.set("Every_seconds",b),!0;f<c-.1&&e.set("Every_lastTime",f);return!1},Bs(b){return(b=this.j.ta().jP(b))&&b.Bs()},aq(){return this.j.aq()},GA(){return d.md.GA},MQ(){return!0},z5(){return!0},pna(){return!0},j6(){return!0},k6(){return!0},KQ(){return!0},LQ(){return!0},sqa(b){return!!this.j.Te(b)},cpa(b){switch(b){case 0:return"browser"===d.md.wF;case 1:return"iOS"===
d.md.Hs;case 2:return"Android"===d.md.Hs;case 8:return"cordova"===d.md.wF;case 9:return"scirra-arcade"===this.j.ek;case 10:return"nwjs"===d.md.wF;case 13:return"windows-uwp"===this.j.ek;default:return!1}},Ora(b,e,c){return this.oA(e,c).test(b)},hma(b,e,c){return d.compare(b,e,c)},lma(b,e,c){return b>=e&&b<=c},A_(b,e,c){return d.compare(b.Jd(),e,c)},mma(b){return!!b.Jd()},yma(b,e){const c=this.j.mh();return 0===b?(b=this.j.Xf().xf(),!b.get("CompareTime_executed")&&c>=e?(b.set("CompareTime_executed",
!0),!0):!1):d.compare(c,b,e)},$oa(b){return isNaN(b)},OZ(b,e,c){return d.Xr(d.Ea(b),d.Ea(c))<=d.Ea(e)},p4(b,e){return d.Oe(d.Ea(b),d.Ea(e))},n4(b,e,c){b=d.Ea(b);e=d.Ea(e);c=d.Ea(c);return d.Oe(c,e)?d.Oe(b,e)&&!d.Oe(b,c):!(!d.Oe(b,e)&&d.Oe(b,c))},rpa(b,e){return"number"===typeof b?0===e:1===e},una(b){return!!b},Uqa(b,e,c,f){if(!b)return!1;const k=this.vT(),g=k.Oa(),l=b.ia();d.jd(g,l.qa());l.jc&&d.G(l.yc);const m=this.j.Xf();let q=0;for(let r=0,p=g.length;r<p;++r){const u=g[r];g[q]=u;e=m.Xv(1,r);f=
m.Xv(3,r);d.compare(e,c,f)?++q:l.uo(u)}d.Qe(g,q);l.Yv(g);e=!!g.length;d.G(g);k.Na();b.rc();return e},Vqa(b,e){if(!b)return!1;const c=this.vT(),f=c.Oa(),k=b.ia();d.jd(f,k.qa());k.jc&&d.G(k.yc);const g=this.j.Xf();let l=0;for(let m=0,q=f.length;m<q;++m){const r=f[m];f[l]=r;(e=g.Xv(1,m))?++l:k.uo(r)}d.Qe(f,l);k.Yv(f);e=!!f.length;d.G(f);c.Na();b.rc();return e},ara(b,e){if(!b)return!1;const c=b.ia(),f=c.qa();e=Math.floor(e);if(e>=f.length)return!1;c.co(f[e]);b.rc();return!0},fra(b){if(!b)return!1;const e=
b.ia(),c=e.qa(),f=Math.floor(this.j.Bm()*c.length);if(f>=c.length)return!1;e.co(c[f]);b.rc();return!0},Tqa(b){if(!b||!b.J.length)return!1;b.ia().Ye(!0);b.rc();return!0},cra(b,e,c){if(!b)return!1;const f=b.ia();var k=f.qa();const g=this.j.Rb().pe,l=this.j.Xf().Ki;f.jc?(d.jd(a,k),f.Cz(),f.Ye(!1)):g?(d.jd(a,f.yc),d.G(f.yc)):(d.jd(a,f.J),d.G(f.J));for(let m=0,q=a.length;m<q;++m)k=a[m],d.xor(k.B().ms(e,c),l)?f.Bq(k):f.uo(k);b.rc();return d.xor(!!f.J.length,l)},$qa(b){if(!b)return!1;var e=b.gb;let c=null;
const f=this.j.Zm;for(let k=f.length-1;0<=k;--k){const g=f[k];if(e){if(g.M().qF(b)){c=g;break}}else if(g.M()===b){c=g;break}}c||(e=b.qa(),e.length&&(c=e.Pe(-1)));if(!c)return!1;b.ia().co(c);b.rc();return!0},Vra(b){return this.j.Ge?this.maa(b):this.xea(b)},qwa(){return this.j.Ge?this.Faa():this.Fga()},Ina(b,e,c){return this.j.Ge?this.jaa(b,e,c):this.pba(b,e,c)},Jna(b){return this.j.Ge?this.kaa(b):this.qba(b)},Kna(b,e,c){return this.j.Ge?this.laa(b,c):this.rba(b,c)},zpa(b){return b?b.kd():!1},wpa(b){return b?
!b.J.length:!1},vpa(b,e,c){return b?d.compare(100*b.vf(),e,c):!1},O5(){return!0},Xoa(){return 0<this.Zq}}}
{"use strict";const d=self.C;function a(g,l){const m=g[0]-l[0];return 0!==m?m:g[1]-l[1]}function b(g,l){return g[1]-l[1]}const e=[],c=[],f=d.F(d.Rect),k=d.F(d.jb);d.D.ob.Qa={J8(g,l){g.yh(l)},MZ(g,l){g.$n()&&"number"!==typeof l&&(l=parseFloat(l));g.yh(g.Jd()+l)},f9(g,l){g.$n()&&g.yh(g.Jd()-l)},Cta(g,l){g.yh(!!l)},Fva(g){g.yh(!g.Jd())},Nsa(){this.j.ta().f7()},N_(g,l,m,q,r){g&&l&&(m=this.j.zF(g,l,m,q,r))&&(r&&l.WH(m),l=this.j.ta(),l.qf(!0),m.QB(),l.qf(!1),g.ia().al(m),m.lc()&&m.Gj())},Xma(g,l,m,q,r){g&&
l&&(g=this.j.gG(g))&&d.D.ob.Qa.N_.call(this,g,l,m,q,r)},Wv(g,l,m,q,r,p,u,t,w,x){if(g){var z=this.j.Ta();if(p&&(z=this.j.hb.ss(p),!z))return;p=null;if("number"!==typeof u||0<=u)if(p=z.ca(u),!p)return;f.set(l,m,q,r);l=z.Wv(g,f,p,t,w,x);g.ia().Yv(l);g.rc()}},nva(){const g=this.qg;g.gQ()&&g.sj().Og()},rq(g,l){(g=this.j.ta().jP(g))&&(0===l?g.rq(!1):1===l?g.rq(!0):g.rq(!g.Bs()))},Rua(g){this.j.QH(g)},Hua(g,l){0>l&&(l=0);if(g){g=g.ia().qa();for(const m of g)m.QH(l)}},Rsa(g){if(g){g=g.ia().qa();for(const l of g)l.l7()}},
eI(g){if(!(0>g))return this.j.ta().lF().h4(g),!0},jwa(g){this.j.ta().lF().f4(g);return!0},iwa(){const g=this.j.ta();g.lF().U3(g.G2());return!0},Yua(g){g=g.toLowerCase();for(const l of this.j.ta().ah)l.F4()&&l.yy===g&&l.MH()},async dS(g,l,m,q,r,p){const u=this.j.ea;u&&(this.Z(),await u.dS(0===g?"image/png":"image/jpeg",l/100,m,q,r,p),await this.j.Cd(d.D.ob.H.z5,null))},Gta(g,l){if(!(0>=g||0>=l)){this.j.mw(g,l);var m=this.j.Ta();m.yz();for(const q of m.pc)q.dI();if(m=this.j.ea)"off"!==m.xv()&&this.j.j8(g,
l),m.Gc(m.Tl,m.Sl,!0),this.j.Z()}},Zta(g){const l=this.j.ea;l&&"off"!==l.xv()&&(l.FR(0!==g?"high":"low"),l.Gc(l.Tl,l.Sl,!0))},nq(g){this.j.u7(g)},Jpa(g){this.j.V4(g)},Kpa(g){this.j.$G(g)},$ta(){},Osa(){for(const g of this.j.hb.Qj)g.j7()},Mua(g){this.j.l8(0!==g)},RR(g){this.j.RR(g)},cva(g,l){if(g){var m=g.ia().qa(),q=this.j.Ta(),r=g.gb;g=g.gk;for(let u=0,t=m.length;u<t;++u){var p=m[u];const w=p.B();if(!w)continue;let x;x=r?p.uf(l+p.M().mP(g)):p.uf(l);e.push([w.ca().Ka(),w.li()]);c.push([p,x])}if(e.length){e.sort(a);
c.sort(b);l=!1;for(let u=0,t=e.length;u<t;++u)m=c[u][0],r=q.Bv(e[u][0]),g=e[u][1],p=r.J,p[g]!==m&&(p[g]=m,m.B().Pw(r),r.zh(),l=!0);l&&this.j.Z();d.G(e);d.G(c)}}},R2(g){if(!this.j.Bl){var l=this.j.hb;l.Ds()||l.Az(g)}},$na(g){if(!this.j.Bl){var l=this.j.hb;l.Ds()||(g=l.ss(g))&&l.Az(g)}},mqa(g){if(!this.j.Bl){var l=this.j.hb;if(!l.Ds()){var m=l.Qj,q=m.indexOf(l.Nb());g&&0===q||(g||q!==m.length-1)&&l.Az(m[q+(g?-1:1)])}}},Psa(){if(!this.j.Bl){var g=this.j.hb;g.Ds()||(g.Az(g.Nb()),this.j.ta().g7())}},pua(g,
l){g&&g.Ng(l)},jua(g,l){g&&g.Dj(l/100)},lua(g,l){g&&g.TR(l)},mua(g,l){g&&g.p8(l)},dua(g,l){g&&g.tc(d.Ea(+l))},nua(g,l,m){g&&(g.ew(!0),g.Ej(l),g.Fj(m))},Qsa(g){g&&g.ew(!1)},kua(g,l,m){g&&g.k8(l/100,m/100)},qua(g,l){g&&g.We(+l)},eua(g,l){g&&(k.Ru(l),k.ja(),g=g.Rm,g.In(k)||(g.Wl(k),this.Z()))},oua(g,l){g&&g.E8(l)},fua(g,l){g&&g.fg(l)},gua(g,l,m){g&&(g=g.Ya,m=g.km(m))&&(l=1===l,m.Tb!==l&&(m.XA(l),g.ro(),this.j.Z()))},hua(g,l,m,q){if(g&&(g=g.Ya,l=g.km(l))&&(g=g.kh(l.Ka()),m=Math.floor(m),!(0>m||m>=g.length))){var r=
l.sb.mA(m);if("color"===r){k.Ru(q);m=g[m];if(k.In(m))return;m.Wl(k)}else{"percent"===r&&(q/=100);if(g[m]===q)return;g[m]=q}l.Tb&&this.j.Z()}},iua(g,l){g&&g.U7(l)},vua(g){this.j.Ta().sq(+g)},rua(g){this.j.Ta().tc(d.Ea(+g))},sua(g,l){const m=this.j.Ta().Ya;if(l=m.km(l))g=1===g,l.Tb!==g&&(l.XA(g),m.ro(),this.j.Z())},tua(g,l,m){var q=this.j.Ta().Ya;if(g=q.km(g))if(q=q.kh(g.Ka()),l=Math.floor(l),!(0>l||l>=q.length)){var r=g.sb.mA(l);if("color"===r){k.Ru(m);l=q[l];if(k.In(l))return;l.Wl(k)}else{"percent"===
r&&(m/=100);if(q[l]===m)return;q[l]=m}g.Tb&&this.j.Z()}},wua(g,l){this.j.Ta().I8(g/100,l/100)},uua(g){const l=this.j.Ta();0===g?l.VR():l.SR()},pta(g){this.j.Ta().Ej(g)},qta(g){this.j.Ta().Fj(g)},nta(g,l){const m=this.j.Ta();m.Ej(g);m.Fj(l)},ota(g){if(g&&(g=g.ii())&&(g=g.B())){var l=this.j.Ta();l.Ej(g.K());l.Fj(g.L())}},async X4(g){const l=this.j.Nb();l&&g&&!this.j.Bl&&await this.TI(l,g.gb?g.Go:[g])},async Ipa(g){await d.D.ob.Qa.X4.call(this,this.j.gG(g))},Uva(g){const l=this.j.Nb();l&&g&&this.iV(l,
g.gb?g.Go:[g])},t9(g){d.D.ob.Qa.t9.call(this,this.j.gG(g))},Vva(){const g=this.j.Nb();if(g){var l=g.Qba();this.iV(g,l)}},async Gpa(g){const l=this.j.Nb();g&&l&&!this.j.Bl&&await this.TI(l,g.xT())},async Hpa(g){const l=this.j.Nb();(g=this.j.hb.ss(g))&&l&&!this.j.Bl&&await this.TI(l,g.xT())},$A(g){const l=this.ne.K1();if(l)switch(l.bW){case 1:"number"===typeof g&&l.$A(g);break;case 2:"string"===typeof g&&l.$A(g);break;case 3:l.$A(g)}},Tpa(g,l,m){var q=this.vB(g.toLowerCase(),!0);const r=q.aF,p=l.toLowerCase();
r.has(p)&&console.warn(`[Construct 3] Function map '${g}' string '${l}' already in map; overwriting entry`);(q=d.first(r.values())||q.wp)&&0!==q.tn!==(0!==m.tn)?console.error(`[Construct 3] Function map '${g}' string '${l}' function return type not compatible with other functions in the map; entry ignored`):r.set(p,m)},Upa(g,l){const m=this.vB(g.toLowerCase(),!0);m.wp&&console.warn(`[Construct 3] Function map '${g}' already has a default; overwriting entry`);const q=d.first(m.aF.values())||m.wp;q&&
0!==q.tn!==(0!==l.tn)?console.error(`[Construct 3] Function map '${g}' default: function return type not compatible with other functions in the map; entry ignored`):m.wp=l},Vla(g,l,m){m=Math.floor(m);var q=this.vB(g.toLowerCase(),!1);if(q){var r=q.aF.get(l.toLowerCase());if(!r)if(q.wp)r=q.wp,m=0;else{console.warn(`[Construct 3] Call mapped function: no function associated with map '${g}' string '${l}'; call ignored (consider setting a default)`);return}if(r.ke())if(0!==r.tn)console.warn(`[Construct 3] Call mapped function: map '${g}' string '${l}' has a return type so cannot be called`);
else{g=this.j;l=g.ta();var p=l.Rb();q=p.Vd();var u=0<q.length;u&&l.vh(q);var t=[];if(p=l.LF(p)){p=p.Lh;for(let w=m,x=p.length;w<x;++w)t.push(p[w].Jd())}m=r.Lh;for(let w=t.length,x=m.length;w<x;++w)t.push(m[w].rb);return g.Ge?this.iaa(l,r,t,u,q):this.Gaa(l,r,t,u,q)}}else console.warn(`[Construct 3] Call mapped function: map name '${g}' not found; call ignored`)}}}
{"use strict";const d=self.C;d.D.ob.zd={Vxa:function(a){"string"===typeof a&&(a=parseInt(a,10),isNaN(a)&&(a=0));return Math.floor(a)},oxa:function(a){"string"===typeof a&&(a=parseFloat(a),isNaN(a)&&(a=0));return a},Nn(a){return a.toString()},gz(a){return"string"===typeof a?a.length:0},random(a,b){return"undefined"===typeof b?this.j.Bm()*a:this.j.Bm()*(b-a)+a},wia(...a){return a[Math.floor(this.j.Bm()*a.length)]},Kya(){return Math.PI},Txa(){return Infinity},sqrt(a){return Math.sqrt(a)},abs(a){return Math.abs(a)},
round(a){return Math.round(a)},lza(a,b){b=Math.max(Math.floor(b),0);b=Math.pow(10,b);return Math.round((a+Number.EPSILON)*b)/b},floor(a){return Math.floor(a)},ceil(a){return Math.ceil(a)},sign(a){return Math.sign(a)},sin(a){return Math.sin(d.Ea(a))},cos(a){return Math.cos(d.Ea(a))},tan(a){return Math.tan(d.Ea(a))},asin(a){return d.Td(Math.asin(a))},acos(a){return d.Td(Math.acos(a))},atan(a){return d.Td(Math.atan(a))},exp(a){return Math.exp(a)},uja(a){return Math.log(a)},log10(a){return Math.log(a)/
Math.LN10},max(...a){let b=a[0];"number"!==typeof b&&(b=0);for(let e=1,c=a.length;e<c;++e){let f=a[e];"number"===typeof f&&b<f&&(b=f)}return b},min(...a){let b=a[0];"number"!==typeof b&&(b=0);for(let e=1,c=a.length;e<c;++e){let f=a[e];"number"===typeof f&&b>f&&(b=f)}return b},ja(a,b,e){return d.ja(a,b,e)},$y(a,b,e,c){return d.pf(a,b,e,c)},angle(a,b,e,c){return d.Td(d.wg(a,b,e,c))},Gd(a,b,e){return d.Gd(a,b,e)},bF(a,b,e){return d.bF(a,b,e)},UE(a,b,e,c){return d.UE(a,b,e,c)},yY(a,b,e,c,f){return d.yY(a,
b,e,c,f)},xY(a,b,e){return d.xY(a,b,e)},Kwa(a,b){return d.Td(d.Xr(d.Ea(a),d.Ea(b)))},Lwa(a,b,e){return d.Td(d.dN(d.Ea(a),d.Ea(b),e))},Mwa(a,b,e){return d.Td(d.eN(d.Ea(a),d.Ea(b),d.Ea(e)))},wza(a,b,e){b|=0;return(a|0)&~(1<<b)|(0!==e?1:0)<<b},Fza(a,b){return(a|0)^1<<(b|0)},Mxa(a,b){return(a|0)&1<<(b|0)?1:0},Aya(){return"\n"},Mza(a){return"string"===typeof a?a.toUpperCase():""},sya(a){return"string"===typeof a?a.toLowerCase():""},left(a,b){return"string"===typeof a?a.substr(0,b):""},mid(a,b,e){return"string"!==
typeof a?"":0>e?a.substr(b):a.substr(b,e)},right(a,b){return"string"===typeof a?a.substr(a.length-b):""},trim(a){return"string"===typeof a?a.trim():""},Gza(a,b,e){if("string"!==typeof a||"string"!==typeof e)return"";a=a.split(e);b=Math.floor(b);return 0>b||b>=a.length?"":a[b]},Hza(a,b){return"string"===typeof a&&"string"===typeof b&&a.length?a.split(b).length:0},find(a,b){return"string"===typeof a&&"string"===typeof b?a.search(new RegExp(d.kv(b),"i")):-1},nxa(a,b){return"string"===typeof a&&"string"===
typeof b?a.search(new RegExp(d.kv(b),"")):-1},replace(a,b,e){return"string"===typeof a&&"string"===typeof b&&"string"===typeof e?a.replace(new RegExp(d.kv(b),"gi"),e):"string"===typeof a?a:""},Xya(a,b,e){b=this.oA(b,e);return a?a.search(b):-1},Wya(a,b,e,c){b=this.oA(b,e);return a?a.replace(b,c):""},Vya(a,b,e){return(a=this.CP(a.toString(),b,e))?a.length:0},Uya(a,b,e,c){c=Math.floor(c);a=this.CP(a.toString(),b,e);return!a||0>c||c>=a.length?"":a[c]},aAa(a,b){let e=0>a?"-":"";0>a&&(a=-a);e+="0".repeat(Math.max(b-
a.toString().length,0));return e+a.toString()},Oza(a){return encodeURIComponent(a)},Nza(a){return decodeURIComponent(a)},CY(){return this.j.sC},Dza(){return this.j.Qd},Xza(){return(Date.now()-this.j.hp)/1E3},Kza(){return Date.now()},time(){return this.j.mh()},Cza(){return this.j.Nl},Eya(){return this.j.TL},qxa(){return this.j.JC},Zwa(){return this.j.ED},Oxa(){return this.j.jA()},$za(){return this.j.ea.Ei},Zza(){return this.j.ea.Di},Iya(){return this.j.Rh},Hya(){return this.j.Qh},Gya(){return this.j.Rh},
Fya(){return this.j.Qh},nza(){return this.j.Ta().Gg()},oza(){return this.j.Ta().Hg()},nya(){return this.j.Ta().Ha()},oya(){return this.j.Ta().ic},lya(){return d.Td(this.j.Ta().Y())},pya(){return this.j.Ta().O()},mya(){return this.j.Ta().P()},Tza(a){return(a=this.j.Ta().ca(a))?a.sp.U:0},Vza(a){return(a=this.j.Ta().ca(a))?a.sp.S:0},Uza(a){return(a=this.j.Ta().ca(a))?a.sp.ba:0},Rza(a){return(a=this.j.Ta().ca(a))?a.sp.aa:0},Wza(a){return(a=this.j.Ta().ca(a))?a.sp.width():0},Sza(a){return(a=this.j.Ta().ca(a))?
a.sp.height():0},Uwa(a,b,e){return(a=this.j.Ta().ca(a))?a.Vf(b,e)[0]:0},Vwa(a,b,e){return(a=this.j.Ta().ca(a))?a.Vf(b,e)[1]:0},iya(a,b,e){return(a=this.j.Ta().ca(a))?a.cq(b,e)[0]:0},jya(a,b,e){return(a=this.j.Ta().ca(a))?a.cq(b,e)[1]:0},eya(a){return(a=this.j.Ta().ca(a))?a.ic:0},$xa(a){return(a=this.j.Ta().ca(a))?d.Td(a.bf):0},bya(a){return(a=this.j.Ta().ca(a))?100*a.vf():0},fya(a){return(a=this.j.Ta().ca(a))?a.wk:0},gya(a){return(a=this.j.Ta().ca(a))?a.Gg():0},hya(a){return(a=this.j.Ta().ca(a))?
a.Hg():0},cya(a){return(a=this.j.Ta().ca(a))?100*a.Ie:0},dya(a){return(a=this.j.Ta().ca(a))?100*a.Je:0},kya(a){return(a=this.j.Ta().ca(a))?a.Va():0},aya(a){return(a=this.j.Ta().ca(a))?a.Ka():-1},Twa(){const a=this.j.ea;return a?a.tM:""},rya(a){const b=this.qg;return b.gQ()?a?(a=b.u1(a))?a.Ka():0:b.sj().Ka():0},mza(){return this.j.qr},Swa(a,b,...e){var c=this.vB(a.toLowerCase(),!1);if(!c)return console.warn(`[Construct 3] Call mapped function: map name '${a}' not found; returning 0`),0;var f=c.aF.get(b.toLowerCase());
if(!f)if(c.wp)f=c.wp;else return console.warn(`[Construct 3] Call mapped function: no function associated with map '${a}' string '${b}'; returning 0 (consider setting a default)`),0;c=f.tn;const k=f.yv();if(0===c)return console.warn(`[Construct 3] Call mapped function: map '${a}' string '${b}' has no return type so cannot be called from an expression; returning 0`),0;if(!f.ke())return k;a=this.j.ta();b=a.Rb().Vd();const g=0<b.length;g&&a.vh(b);const l=f.Lh;for(let m=e.length,q=l.length;m<q;++m)e.push(l[m].rb);
f=f.tf();e=f.vH(f.Vd(),c,k,...e);g&&a.Yb(b);return e},vja(){return this.j.zb.vD},Rxa(){return 0===this.Zq?1:this.Cx/this.Zq},Uf(){return this.j.Jv()?"webgpu":"webgl"},$ya(){return this.j.Jv()?"<unavailable>":this.j.Up().Py},Sxa(){let a=this.j.Hb().P1();return Math.round(100*a/1048576)/100},aza(a,b,e){return d.u6(a,b,e)},dza(a,b,e){return d.TQ(a/100,b/100,e/100)},bza(a,b,e,c){return d.QA(a/100,b/100,e/100,c/100)},eza(a,b,e){return d.TQ(a/255,b/255,e/255)},cza(a,b,e,c){return d.QA(a/255,b/255,e/255,
c/255)},Oya(){return this.j.SD},Pya(){return this.j.vX},bxa(){return this.j.Rb().Oc.Ha()},axa(){return this.j.Rb().Ht}}}{"use strict";const d=self.C;d.D.nc=class extends d.Cj{constructor(a){super(a)}A(){super.A()}}}
{"use strict";const d=self.C;d.D.nc.Ce=class extends d.Cm{constructor(a){super(a);this.me=a.me}A(){d.G(this.me);super.A()}Xb(){for(const a of this.me)a.R4(this.j)}eq(a){const b={hj:this.j.Dd};return Promise.all(this.me.map(e=>e.S4(a,b)))}ho(){for(const a of this.me)a.S6()}PA(){this.lV()}lV(){for(const a of this.R.eja())a.ra.xJ()}qv(a){d.D.nc.v1(this,a)}}}
{"use strict";const d=self.C,a=d.F(d.Rect),b=d.F(d.Bd),e=d.F(d.pw);d.D.nc.Instance=class extends d.VA{constructor(f,k){super(f);let g=!0,l="",m=0,q=!0;k&&(g=!!k[0],l=k[1],m=k[2],q=k[3]);this.dc=this.R.aP(l)||this.R.me[0];this.Mb=d.ja(m,0,this.dc.oe.length-1);this.Gf=this.dc.Tn(this.Mb);k=this.Gf.he();this.Ct=k.ue();this.jK=k.bg();this.mx=k.rA();this.U2();f.aw(2,!0);f.aw(1,0<=this.dc.qm());this.sl=Math.abs(this.dc.qm());this.Bt=this.dc.DX;this.XB=d.F(d.Rv);this.ol=this.ik=0;this.xV="";this.hx=-1;this.ut=
"";this.EV=0;f=this.B();this.Uga=f.gi();f.Ng(g);f.$v(q);f.Ts(this.Gf.Kk());f.Us(this.Gf.Lk());f.OH(this.Gf.Mq);f.ua();1===this.R.me.length&&1===this.R.me[0].oe.length||0===this.sl||this.De()}A(){this.XB=this.Ct=this.Gf=this.dc=null;super.A()}hi(){return this.Gf.he()}$p(){return!0}Is(){this.Ct=null}SQ(){this.xJ()}Se(f){var k=this.Ct;null!==k&&(f.hg(k),k=this.B(),k.eg()?this.DI(k,f):this.EI(k,f))}EI(f,k){let g=this.Uga;this.j.Dl&&(g=f.hH(g));k.N6(g,this.mx)}DI(f,k){const g=f.QP();if(f.jQ()){f.bv(a,
b,!1);let l=b;this.j.Dl&&(l=f.hH(l));g.tO(f.Rk(),l,this.mx);f.JH(!1)}g.Se(k)}tv(){return this.XB.na()}DA(){return this.I.$F(2)}Ns(f){this.I.aw(2,f)}HA(){return this.I.$F(1)}hw(f){this.I.aw(1,f)}PG(){return this.I.$F(4)}JR(f){this.I.aw(4,f)}Md(){this.ut&&this.TS();0<=this.hx&&this.BI();const f=this.sl;if(this.DA()&&0!==f){this.XB.Jc(this.j.Gk(this.I));var k=this.tv(),g=this.Gf,l=g.RV/f;if(!(k<this.ik+l)){var m=this.dc,q=this.Bt,r=m.oe.length,p=m.Un(),u=m.fD,t=m.wha;this.HA()?this.Mb++:this.Mb--;this.ik+=
l;this.Mb>=r&&(t?(this.hw(!1),this.Mb=r-2):u?this.Mb=q:(this.ol++,this.ol>=p?this.GI(!1):this.Mb=q));0>this.Mb&&(t?(this.Mb=1,this.hw(!0),u||(this.ol++,this.ol>=p&&this.GI(!0))):u?this.Mb=q:(this.ol++,this.ol>=p?this.GI(!0):this.Mb=q));this.Mb=d.ja(this.Mb,0,r-1);l=m.Tn(this.Mb);k>this.ik+l.RV/f&&(this.ik=k);this.DB(g,l)}}else this.nl()}GI(f){this.Mb=f?0:this.dc.oe.length-1;this.Ns(!1);this.xV=this.dc.Ha();this.JR(!0);this.la(d.D.nc.H.v5);this.la(d.D.nc.H.CQ);this.JR(!1);this.ol=0}DB(f,k){if(f!==
k){var g=this.B(),l=f.he();f=k.he();var m=l.O();l=l.P();var q=f.O(),r=f.P();m!==q&&g.xe(g.O()*(q/m));l!==r&&g.Ve(g.P()*(r/l));g.Ts(k.Kk());g.Us(k.Lk());g.OH(k.Mq);g.ua();this.Gf=k;this.Ct=f.ue();this.jK=f.bg();this.mx=f.rA();k=this.Ia().$c;for(let p=0,u=k.length;p<u;++p);this.la(d.D.nc.H.K5);this.j.Z()}}hga(f){this.Ns(!0);this.ik=this.tv();1===f&&0!==this.Mb&&(this.hx=0,this.PG()||this.BI());this.De()}gfa(f,k){this.ut=f;this.EV=k;this.De();this.PG()||this.TS()}qT(){return this.ut?this.ut:this.dc.Ha()}hfa(f){isFinite(f)&&
(this.hx=f,this.PG()||this.BI())}jfa(f){this.sl=Math.abs(f);this.hw(0<=f);0<this.sl&&this.De()}lT(){return this.HA()?this.sl:-this.sl}ifa(f){this.Bt=f=d.ja(Math.floor(f),0,this.dc.oe.length-1)}TS(){const f=this.Gf;var k=this.R.aP(this.ut);this.ut="";!k||k===this.dc&&this.DA()||(this.dc=k,this.hw(0<=k.qm()),this.sl=Math.abs(k.qm()),this.Bt=k.DX,this.Mb=d.ja(this.Mb,0,this.dc.oe.length-1),1===this.EV&&(this.Mb=0),this.Ns(!0),this.ik=this.tv(),k=this.dc.Tn(this.Mb),this.DB(f,k))}BI(){const f=this.Gf;
var k=this.Mb;this.Mb=d.ja(Math.floor(this.hx),0,this.dc.oe.length-1);this.hx=-1;k!==this.Mb&&(k=this.dc.Tn(this.Mb),this.DB(f,k),this.ik=this.tv())}xJ(){const f=this.Gf.he();this.Ct=f.ue();this.jK=f.bg();this.mx=f.rA();this.B().JH(!0)}ue(){return this.Ct}bg(){return this.jK}rA(){return this.mx}cG(){return this.Gf.cG()}Ik(f){const k=this.Gf,g=this.B();if("string"===typeof f)f=k.i2(f);else if("number"===typeof f)f=k.h2(f-1);else throw new TypeError("expected string or number");if(!f)return[g.K(),g.L()];
e.Aa(f.Tp());if(g.eg()){const [l,m]=g.Rk().jS(e.fa,e.X);e.set(l,m)}e.offset(-k.Kk(),-k.Lk());e.scale(g.O(),g.P());e.rotate(g.Y());e.offset(g.K(),g.L());return[e.fa,e.X]}I1(){return this.B().rm().KN()}fP(f){f=Math.floor(f);const k=this.B();var g=k.rm();const l=g.KN();f===l&&(f=0);if(0>f||f>=l)return[0,0];g=g.Pd;return[g[2*f]+k.K(),g[2*f+1]+k.L()]}mc(){const f={a:this.dc.cb};0!==this.ik&&(f.fs=this.ik);var k=this.tv();0!==k&&(f.at=k);0!==this.Mb&&(f.f=this.Mb);0!==this.sl&&(f.cas=this.sl);1!==this.ol&&
(f.ar=this.ol);0!==this.Bt&&(f.rt=this.Bt);this.DA()||(f.ap=this.DA());this.HA()||(f.af=this.HA());k=this.B();k.th()&&(f.ce=k.th());return f}ac(f){var k=this.M().B1(f.a);k&&(this.dc=k);this.ik=f.hasOwnProperty("fs")?f.fs:0;this.XB.Set(f.hasOwnProperty("at")?f.at:0);k=f.hasOwnProperty("f")?f.f:0;this.Mb=d.ja(k,0,this.dc.oe.length-1);this.sl=f.hasOwnProperty("cas")?f.cas:0;this.ol=f.hasOwnProperty("ar")?f.ar:1;k=f.hasOwnProperty("rt")?f.rt:0;this.Bt=d.ja(k,0,this.dc.oe.length-1);this.Ns(f.hasOwnProperty("ap")?
!!f.ap:!0);this.hw(f.hasOwnProperty("af")?!!f.af:!0);this.Gf=k=this.dc.Tn(this.Mb);this.xJ();const g=this.B();g.Ts(k.Kk());g.Us(k.Lk());g.OH(k.Mq);g.$v(!!f.ce)}Wb(f){const k=this.B();switch(f){case 3:return k.th();case 2:return d.ja(this.Mb,0,this.dc.oe.length-1)}}we(f,k){var g=this.B();switch(f){case 3:g.$v(!!k);break;case 2:this.Ns(!1);f=this.dc.oe.length-1;g=k=d.ja(k,0,f);k=this.dc.Tn(this.Mb);const l=this.dc.Tn(g);this.DB(k,l);this.Mb=d.ja(g,0,f)}}ag(){return self.x3}};const c=new WeakMap;self.x3=
class extends self.Ov{constructor(){super();c.set(this,self.zs.Jm().ra)}get animationName(){return c.get(this).qT()}get imageWidth(){return c.get(this).hi().O()}get imageHeight(){return c.get(this).hi().P()}}}
{"use strict";const d=self.C;d.D.nc.H={yoa(a){return d.bh(this.qT(),a)},oma(a,b){return d.compare(this.Mb,a,b)},kma(a,b){return d.compare(this.lT(),a,b)},CQ(a){return d.bh(this.xV,a)},v5(){return!0},K5(){return!0},Zoa(){return 0>this.B().O()},Ooa(){return 0>this.B().P()},RQ(){return!0},q6(){return!0},th(){return this.B().th()}}}
{"use strict";const d=self.C;d.D.nc.Qa={eva(a,b,e,c){if(a&&b){var [f,k]=this.Ik(e);if(e=this.j.zF(a,b,f,k,c)){c&&b.WH(e);a.Sb().Es()&&(b=e.B(),b.tc(this.B().Y()),b.ua());b=this.j.ta();b.qf(!0);e.QB();b.qf(!1);c=this.j.wv().xf();b=!1;if(!c.has("Spawn_LastExec")||c.get("Spawn_LastExec")<this.j.Lt)b=!0,c.set("Spawn_LastExec",this.j.Lt);if(a!==this.M()&&(a=a.ia(),a.Ye(!1),a=a.J,b&&d.G(a),a.push(e),e.lc()))for(const g of e.ae)e=g.M().ia(),b?e.al(g):(e.Ye(!1),e.Bq(g))}}},mva(){this.Ns(!1)},hva(a){this.hga(a)},
z7(a,b){this.gfa(a,b)},A7(a){this.hfa(a)},yta(a){this.jfa(a)},xta(a){this.ifa(a)},Eua(a){const b=this.B(),e=b.O();a=Math.abs(e)*(0===a?-1:1);e!==a&&(b.xe(a),b.ua())},Uta(a){const b=this.B(),e=b.P();a=Math.abs(e)*(0===a?-1:1);e!==a&&(b.Ve(a),b.ua())},sq(a){const b=this.Gf.he(),e=this.B();var c=0>e.O()?-1:1;const f=0>e.P()?-1:1;c*=b.O()*a;a=b.P()*a*f;if(e.O()!==c||e.P()!==a)e.Gc(c,a),e.ua()},async Lpa(a,b){const e=this.Gf.he(),c=this.B(),f=this.j;if(e.Pl===a)0===b&&(c.Gc(e.O(),e.P()),c.ua()),this.la(d.D.nc.H.RQ);
else{var k=d.F(d.BA);try{await k.U4(f,a);if(!k.TG())throw Error("image failed to load");await k.Fs(f.Hb(),{hj:this.j.Dd})}catch(g){console.error("Load image from URL failed: ",g);this.la(d.D.nc.H.q6);return}e.e7(k);this.kb.lV();this.gB()||0!==b||(c.Gc(e.O(),e.P()),c.ua());f.Z();this.gB()||await this.Cd(d.D.nc.H.RQ)}},Ita(a){this.B().$v(a)},NH(a,b){this.B().NH(0===a,b)},DR(a){this.B().fg(a);this.j.Z()}}}"use strict";
self.C.D.nc.zd={dla(){return this.Mb},ela(){return this.dc.oe.length},fla(){return this.dc.Ha()},gla(){return this.lT()},Iqa(){return this.dc.qm()},qoa(d){return this.Ik(d)[0]},roa(d){return this.Ik(d)[1]},poa(){return this.cG()},soa(){return this.hi().O()},ooa(){return this.hi().P()},xra(d){return this.fP(d)[0]},yra(d){return this.fP(d)[1]},wra(){return this.I1()}};{"use strict";const d=self.C;d.D.Hj=class extends d.Cj{constructor(a){super(a)}A(){super.A()}}}
{"use strict";const d=self.C;d.D.Hj.Ce=class extends d.Cm{constructor(a){super(a);this.Db=d.F(self.Y8)}A(){super.A()}Xb(){this.he().ZG(this.j)}eq(a){return this.he().Fs(a,{hj:this.j.Dd})}ho(){this.he().oi()}A9(a,b,e,c){const f=this.he(),k=this.Db;k.xe(f.O());k.Ve(f.P());k.YA(a);k.BH(b);k.CH(e);k.PH(c);k.nS()}}}
{"use strict";const d=self.C,a=self.Eg,b=["left","center","right"],e=["top","center","bottom"];d.D.Hj.Instance=class extends d.VA{constructor(k,g){super(k);this.eb="";this.Ee=!0;this.Qg=this.Df=16;this.Do="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789.,;:?!-_~#\"'&()[]|`\\/@\u00b0+=*$\u00a3\u20ac<>";k="";this.Wj=1;this.Vb=this.fc=this.Ic=this.Xj=0;this.ge=!0;this.Le=null;this.Rd=this.Xh=-1;this.zk=0;g&&(this.eb=g[0],this.Ee=g[1],this.Df=g[2],this.Qg=g[3],this.Do=g[4],k=g[5],this.Wj=
g[6],this.Xj=g[7],this.Ic=g[8],this.fc=g[9],this.Vb=g[10],this.ge=0===g[11],this.B().Ng(g[12]));this.kb.A9(this.Df,this.Qg,this.Do,k);this.Le=d.F(self.a9,this.kb.Db);g=this.B();this.Le.Gc(g.O(),g.P());this.Dh();this.I.h8()}A(){this.Xe();this.Le.A();this.Le=null;super.A()}Dh(){const k=this.Le;k&&(k.zH(this.Ee),k.bl(this.eb),k.UH(this.ge?"word":"character"),k.Z7(b[this.fc]),k.L8(e[this.Vb]),k.XR(this.Xj),k.Rs(this.Ic))}Se(k){const g=this.R.he();var l=g.ue();if(l){k.hg(l);l=this.B();var m=l.gi(),q=this.Le;
q.sq(this.Wj);q.q8(l.nG());this.j.Dl&&(m=l.hH(m));q.Gc(l.O(),l.P());q.Db.v8(g.bg());q.ri(l.Ua);q.Se(k,m.Kb,m.Lb,l.Y())}}mc(){const k={t:this.eb,ebbc:this.Ee,csc:this.Wj,csp:this.Xj,lh:this.Ic,ha:this.fc,va:this.Vb,w:this.ge,cw:this.kb.Db.Df,ch:this.kb.Db.Qg,cs:this.kb.Db.Do,sd:this.kb.Db.uu};-1!==this.Rd&&(k.tw={st:this.Xh,en:this.Rd,l:this.zk});return k}ac(k){this.Xe();this.eb=k.t;this.Ee=k.ebbc;this.Wj=k.csc;this.Xj=k.csp;this.Ic=k.lh;this.fc=k.ha;this.Vb=k.va;this.ge=k.w;if(k.hasOwnProperty("tw")){var g=
k.tw;this.Xh=g.st;this.Rd=g.en;this.zk=k.l}g=this.kb.Db;g.YA(k.cw);g.BH(k.ch);g.CH(k.cs);g.PH(k.sd);this.Dh();-1!==this.Rd&&this.De()}Wb(k){switch(k){case 0:return this.eb;case 1:return this.Ee;case 2:return this.kb.Db.Df;case 3:return this.kb.Db.Qg;case 4:return this.kb.Db.Do;case 5:return this.kb.Db.uu;case 6:return this.Wj;case 7:return this.Xj;case 8:return this.Ic;case 9:return this.fc;case 10:return this.Vb;case 11:return this.ge?1:0}}we(k,g){switch(k){case 0:if(this.eb===g)break;this.eb=g;
this.Dh();break;case 1:if(this.Ee===!!g)break;this.Ee=!!g;this.Dh();break;case 2:this.kb.Db.YA(g);break;case 3:this.kb.Db.BH(g);break;case 4:this.kb.Db.CH(g);break;case 5:this.kb.Db.PH(g);break;case 6:if(this.Wj===g)break;this.Wj=g;this.Dh();break;case 7:if(this.Xj===g)break;this.Xj=g;this.Dh();break;case 8:if(this.Ic===g)break;this.Ic=g;this.Dh();break;case 9:if(this.fc===g)break;this.fc=g;this.Dh();break;case 10:if(this.Vb===g)break;this.Vb=g;this.Dh();break;case 11:this.ge!==(0===g)&&(this.ge=
0===g,this.Dh())}}Nm(k){this.eb!==k&&(this.eb=k,this.Le.bl(k),this.j.Z())}uJ(k,g){this.Nm(k);this.Xh=this.j.Iv();this.Rd=this.Xh+g/this.Ia().$O();this.zk=d.lj.bB(k).length;this.Le.qq(0);this.De()}Xe(){this.Rd=this.Xh=-1;this.zk=0;this.Le.qq(-1);this.nl()}HI(){-1!==this.Rd&&(this.Xe(),this.la(d.D.Hj.H.Uv),this.j.Z())}Tfa(k){this.Wj!==k&&(this.Wj=k,this.Le.sq(this.Wj),this.j.Z())}ofa(k){this.Xj!==k&&(this.Xj=k,this.Le.XR(this.Xj),this.j.Z())}Qw(k){this.Ic!==k&&(this.Ic=k,this.Le.Rs(this.Ic),this.j.Z())}KI(){return this.Ic}lJ(k){this.fc!==
k&&(this.fc=k,this.Dh(),this.j.Z())}Tw(k){this.Vb!==k&&(this.Vb=k,this.Dh(),this.j.Z())}qJ(k){k=!!k;this.ge!==k&&(this.ge=k,this.Dh(),this.j.Z())}Md(){var k=this.j.Iv();k>=this.Rd?(this.Xe(),this.la(d.D.Hj.H.Uv),this.j.Z()):(k=d.$Y(this.Xh,this.Rd,k,this.zk),k=Math.floor(k),k!==this.Le.Sg&&(this.Le.qq(k),this.j.Z()))}ag(){return self.w3}};const c=new WeakMap,f=new Map([["top",0],["center",1],["bottom",2]]);self.w3=class extends self.Ov{constructor(){super();c.set(this,self.zs.Jm().ra)}get text(){return c.get(this).eb}set text(k){a.le(k);
const g=c.get(this);g.Xe();g.Nm(k)}set lineHeight(k){a.Kg(k);c.get(this).Qw(k)}get lineHeight(){return c.get(this).KI()}set verticalAlign(k){a.le(k);k=f.get(k);if("undefined"===typeof k)throw Error("invalid mode");c.get(this).Tw(k)}get verticalAlign(){return e[c.get(this).Vb]}}}{"use strict";const d=self.C;d.D.Hj.H={z_(a,b){return b?this.eb===a:d.bh(this.eb,a)},D4(){return-1!==this.Rd},Uv(){return!0}}}"use strict";
self.C.D.Hj.Qa={bl(d){this.Xe();"number"===typeof d&&1E9>d&&(d=Math.round(1E10*d)/1E10);this.Nm(d.toString())},kO(d){this.Xe();"number"===typeof d&&1E9>d&&(d=Math.round(1E10*d)/1E10);(d=d.toString())&&this.Nm(this.eb+d)},s9(d,a){this.Xe();"number"===typeof d&&1E9>d&&(d=Math.round(1E10*d)/1E10);this.uJ(d.toString(),a)},r9(){this.HI()},sq(d){this.Tfa(d)},Hta(d){this.ofa(d)},Rs(d){this.Qw(d)},YA(d,a){let b=!1;const e=this.kb.Db;for(const c of d)if(" "===c)e.r8(a),b=!0;else if(d=e.Zz(c))d.CR(a),b=!0;
b&&e.F7();this.j.Z()},DR(d){this.B().fg(d);this.j.Z()},W7(d){this.lJ(d)},H8(d){this.Tw(d)},M8(d){this.qJ(0===d)}};{"use strict";const d=self.C;d.D.Hj.zd={cma(a){return(a=this.kb.Db.Zz(a))?a.UF():this.kb.Db.Df},$la(){return this.Qg},ama(){return this.Wj},bma(){return this.Xj},O4(){return this.Ic},Text(){return this.eb},x6(){return this.Ee?d.lj.bB(this.eb):this.eb},i9(){const a=this.B();this.Le.Gc(a.O(),a.P());return this.Le.uG()},h9(){const a=this.B();this.Le.Gc(a.O(),a.P());return this.Le.tG()}}}
{"use strict";const d=self.C;self.Z8=class{constructor(a,b,e,c){b=a.Df;let f=a.Qg;this.Db=a;this.xX=new d.Rect(e,c,e+b,c+f);this.Ml=new d.Rect;this.nK=-1;this.sV()}A(){this.Ml=this.xX=this.Db=null}sV(){let a=this.Db.O(),b=this.Db.P();this.Ml.Aa(this.xX);this.Ml.Xl(a,b);this.Ml.sja(this.Db.bg())}bg(){return this.Ml}CR(a){this.nK=a}UF(){return 0>this.nK?this.Db.Df:this.nK}}}
{"use strict";const d=self.C,a=new d.Rect,b=new d.Bd,e=new d.jb,c=new Set(["left","center","right"]),f=new Set(["top","center","bottom"]),k=new Set(["word","character"]);self.a9=class{constructor(g){this.Db=g;this.Vm=this.Ff=0;this.eb="";this.ef=!1;this.Rj=null;this.Sf=d.F(d.rw);this.Wr="word";this.bN=!1;this.fc="left";this.Vb="top";this.uy=this.ic=1;this.Ic=this.Kr=0;this.Ua=d.F(d.jb);this.Sg=-1;this.Ih=0;this.cy=(l,m)=>this.Iw(l,m);this.Db.g$(this)}A(){this.Db.vea(this);this.cy=this.Ua=null;this.Sf.Vc();
this.Rj=this.Db=this.Sf=null}Iw(g,l){var m=this.Zc(l,"scale"),q=(m?parseFloat(m.wd):this.ic)*this.uy;m=this.Zc(l,"scalex");m=(m?parseFloat(m.wd):1)*q;l=this.Zc(l,"scaley");l=this.Db.Qg*(l?parseFloat(l.wd):1)*q+this.Ic;const r=this.Db;q=r.Df*m;const p=this.Kr;if(r.Qt){let t=0,w=0;for(var u of g){g=q;const x=r.Zz(u);x?g=x.UF()*m:" "===u&&(g=r.LP()*m);w+=g;++t}return{width:w+t*p,height:l}}u=[...g].length;return{width:q*u+Math.max(u,0)*p,height:l}}ll(){this.bN=!0;this.Sf.Vc()}Gc(g,l){0>=g||0>=l||this.Ff===
g&&this.Vm===l||(this.Ff!==g&&this.ll(),this.Ff=g,this.Vm=l)}qq(g){this.Sg=Math.floor(g)}Zc(g,l){for(let m=g.length-1;0<=m;--m){const q=g[m];if(q.tag===l)return q}return null}so(g,l){return!!this.Zc(g,l)}zq(){if(this.bN){!this.ef||this.Rj&&this.Rj.toString()===this.eb||(this.Rj=new d.lj(this.eb,{QY:!0}));var g=-this.Kr;this.Sf.rw(this.ef?this.Rj.hZ():this.eb,this.cy,this.Ff,this.Wr,g);this.bN=!1}}Se(g,l,m,q){this.zq();let r=this.Ih=0;const p=this.Ic,u=d.DE(this.Sf.Hl),t=Math.sin(q);q=Math.cos(q);
var w=u.reduce((x,z)=>x+z.height,0)-p;"center"===this.Vb?r=Math.max(Math.floor(this.Vm/2-w/2),0):"bottom"===this.Vb&&(r=Math.floor(this.Vm-w));for(let x=0,z=u.length;x<z;++x){w=u[x];const D=w.height;if(0<x&&r>this.Vm-(D-p))break;0<=r&&this.Waa(g,w,l,m,r,t,q);r+=D}}Waa(g,l,m,q,r,p,u){const t=l.height;let w=0;"center"===this.fc?w=Math.max(Math.floor((this.Ff-l.width)/2),0):"right"===this.fc&&(w=Math.max(Math.floor(this.Ff-l.width),0));for(const x of l.nN)this.Oaa(g,x,m,q,w,r,p,u,t),w+=x.width}Oaa(g,
l,m,q,r,p,u,t,w){var x=l.text,z=l.width,D=l.xd;if(-1!==this.Sg){if(this.Ih>=this.Sg)return;this.Ih+x.length>this.Sg&&(x=x.substr(0,this.Sg-this.Ih),z=this.Iw(x,D).width);this.Ih+=x.length}var G=this.Zc(D,"background");if(!(d.IA(x)&&!G||this.so(D,"hide"))){l=this.Zc(D,"scale");var N=(l?parseFloat(l.wd):this.ic)*this.uy;l=this.Zc(D,"scalex");l=(l?parseFloat(l.wd):1)*N;var B=this.Zc(D,"scaley");N*=this.Db.Qg*(B?parseFloat(B.wd):1);p+=w-this.Ic-N;w=this.Zc(D,"offsetx");r+=w?parseFloat(w.wd):0;w=this.Zc(D,
"offsety");p+=w?parseFloat(w.wd):0;G&&(g.DH(),e.VY(G.wd),e.bi(1),g.ri(e),a.set(r,p,r+z,p+N),a.ba>this.Ff&&a.Wja(this.Ff),b.WE(a,u,t),b.offset(m,q),g.Bd(b),g.vi());(z=this.Zc(D,"color"))?(e.VY(z.wd),e.bi(this.Ua.bb)):e.Aa(this.Ua);(z=this.Zc(D,"opacity"))&&e.bi(e.bb*parseFloat(z.wd)/100);e.TE();g.ri(e);z=this.Db.Df*l;D=Math.abs(this.Kr);for(const H of x)if(x=this.Db.Zz(H)){G=x.UF()*l;if(r+G>this.Ff+D+1E-5)break;a.set(r,p,r+z,p+N);b.WE(a,u,t);b.offset(m,q);g.eo(b,x.bg());r+=G+this.Kr}else r+=this.Db.LP()*
l+this.Kr}}zH(g){g=!!g;this.ef!==g&&(this.ef=g,this.ll())}bl(g){this.eb!==g&&(this.eb=g,this.ll())}UH(g){if(!k.has(g))throw Error("invalid word wrap mode");this.Wr!==g&&(this.Wr=g,this.ll())}Z7(g){if(!c.has(g))throw Error("invalid alignment");this.fc=g}L8(g){if(!f.has(g))throw Error("invalid alignment");this.Vb=g}sq(g){this.ic!==g&&(this.ic=g,this.ll())}q8(g){this.uy!==g&&(this.uy=g,this.ll())}nG(){return this.uy}XR(g){this.Kr!==g&&(this.Kr=g,this.ll())}Rs(g){this.Ic=g;this.ll()}Dj(g){g=d.ja(g,0,
1);this.Ua.up=g}ri(g){this.Ua.hd(g)||this.Ua.Aa(g)}uG(){this.zq();return this.Sf.uP()}tG(){this.zq();const g=this.Ic;return this.Sf.Hl.length*(this.Db.Qg*this.ic+g)-g}}}
{"use strict";const d=self.C,a={width:256,height:256,vY:16,uY:16,characterSet:""};self.Y8=class{constructor(b){b=Object.assign({},a,b);if(0>=b.width||0>=b.height||0>=b.vY||0>=b.uY)throw Error("invalid size");this.$=b.width;this.W=b.height;this.Df=b.vY;this.Qg=b.uY;this.Do=b.characterSet;this.uu="";this.By=null;this.Qt=!1;this.Jr=-1;this.Ml=new d.Rect(0,0,1,1);this.Lq=new Map;this.Uo=!0;this.Hq=new Set}A(){this.Ml=null;this.uU();this.Lq=null;this.Hq&&this.Hq.clear();this.Hq=null}uU(){for(let b of this.Lq.values())b.A();
this.Lq.clear()}g$(b){this.Hq.add(b)}vea(b){this.Hq.delete(b)}nS(){if(this.Uo){this.uU();var b=[...this.Do],e=Math.floor(this.$/this.Df),c=e*Math.floor(this.W/this.Qg);for(let f=0,k=b.length;f<k&&!(f>=c);++f){let g=b[f];this.Lq.set(g,d.F(self.Z8,this,g,f%e*this.Df,Math.floor(f/e)*this.Qg))}this.Qt=!1;this.Jr=-1;if(Array.isArray(this.By))for(let f of this.By)if(Array.isArray(f)&&2===f.length&&(b=f[0],e=f[1],"number"===typeof b&&isFinite(b)&&"string"===typeof e&&b!==this.Df))for(let k of e)(e=this.Lq.get(k))?
(e.CR(b),this.Qt=!0):" "===k&&(this.Jr=b,this.Qt=!0);this.Uo=!1;for(let f of this.Hq)f.ll()}}F7(){this.Qt=!0;for(const b of this.Hq)b.ll()}Zz(b){this.nS();return this.Lq.get(b)||null}xe(b){b=Math.floor(b);if(0>=b)throw Error("invalid size");this.$!==b&&(this.$=b,this.Uo=!0)}O(){return this.$}Ve(b){b=Math.floor(b);if(0>=b)throw Error("invalid size");this.W!==b&&(this.W=b,this.Uo=!0)}P(){return this.W}v8(b){if(!this.Ml.hd(b)){this.Ml.Aa(b);for(const e of this.Lq.values())e.sV()}}bg(){return this.Ml}YA(b){b=
Math.floor(b);if(0>=b)throw Error("invalid size");this.Df!==b&&(this.Df=b,this.Uo=!0)}BH(b){b=Math.floor(b);if(0>=b)throw Error("invalid size");this.Qg!==b&&(this.Qg=b,this.Uo=!0)}CH(b){this.Do!==b&&(this.Do=b,this.Uo=!0)}PH(b){if(this.uu!==b&&(this.uu=b,this.Uo=!0,this.By=null,this.uu.length))try{this.By=JSON.parse(this.uu)}catch(e){this.By=null}}r8(b){0>b&&(b=-1);this.Jr!==b&&(this.Jr=b,0<=this.Jr&&(this.Qt=!0))}LP(){return 0>this.Jr?this.Df:this.Jr}}}{"use strict";const d=self.C;d.D.Text=class extends d.Cj{constructor(a){super(a)}A(){super.A()}}}
{"use strict";const d=self.C;d.D.Text.Ce=class extends d.Cm{constructor(a){super(a)}A(){super.A()}Xb(){}eq(){}ho(){}}}
{"use strict";const d=self.C,a=self.Eg,b=[0,0,0],e=["left","center","right"],c=["top","center","bottom"],f=new d.Rect,k=new d.Bd;new d.jb;d.D.Text.Instance=class extends d.VA{constructor(m,q){super(m);this.eb="";this.Ee=!0;this.fk="Arial";this.Kl=12;this.Mi=0;this.lg=this.kg=!1;this.Ua=d.F(d.jb);this.Vb=this.fc=0;this.ge=!0;this.Rd=this.Xh=-1;this.zk=0;this.td=d.F(d.ka.pH,this.j.Hb(),{timeout:5});this.td.PE=()=>this.j.Z();this.td.LR();q&&(this.eb=q[0],this.Ee=!!q[1],this.fk=q[2],this.Kl=q[3],this.Mi=
q[4],this.kg=!!q[5],this.lg=!!q[6],this.fc=q[8],this.Vb=q[9],this.ge=0===q[10],m=q[7],this.Ua.Tu(m[0],m[1],m[2]),this.B().Ng(q[11]));this.$e()}A(){this.Xe();this.td.A();this.td=null;super.A()}$e(){const m=this.td;m.bl(this.eb);m.zH(this.Ee);m.FH(this.fk);m.Rs(this.Mi);m.wR(this.kg);m.NR(this.lg);m.ri(this.Ua);m.IR(e[this.fc]);m.bS(c[this.Vb]);m.UH(this.ge?"word":"character")}zJ(){const m=this.B();this.td.GH(this.Kl);this.td.T7(m.nG());var q=m.ca();q=q.pm()*q.YO(m.ve());this.td.Gc(m.O(),m.P(),q)}Se(m){var q=
this.B();this.zJ();const r=this.td.ue();if(r){var p=q.ca();if(0===q.Y()&&0===p.Y()&&0===q.ve()&&!q.eg()&&p.dR()){q=q.gi();const [u,t]=p.Vk(q.Kb,q.Lb),[w,x]=p.Vk(q.wc,q.xc);q=u-Math.round(u);const z=t-Math.round(t);f.set(u,t,w,x);f.offset(-q,-z);k.ij(f);const [D,G]=m.DP(m.Dv());this.j.ea.EH(m,D,G);m.hg(r);m.eo(k,this.td.bg());p.MB(m)}else m.hg(r),q.eg()?this.DI(q,m):this.EI(q,m)}}EI(m,q){m=m.gi();this.j.Dl&&(m=this.qU(m));q.eo(m,this.td.bg())}DI(m,q){const r=m.QP();if(m.jQ()){m.bv(f,k,!1);let p=k;
this.j.Dl&&(p=this.qU(p));r.tO(m.Rk(),p,this.td.bg());m.JH(!1)}r.Se(q)}qU(m){const q=m.Kb-Math.round(m.Kb),r=m.Lb-Math.round(m.Lb);if(0===q&&0===r)return m;k.Aa(m);k.offset(-q,-r);return k}mc(){const m={t:this.eb,c:this.Ua.toJSON(),fn:this.fk,ps:this.Kl};this.Ee&&(m.bbc=this.Ee);0!==this.fc&&(m.ha=this.fc);0!==this.Vb&&(m.va=this.Vb);this.ge||(m.wr=this.ge);0!==this.Mi&&(m.lho=this.Mi);this.kg&&(m.b=this.kg);this.lg&&(m.i=this.lg);-1!==this.Rd&&(m.tw={st:this.Xh,en:this.Rd,l:this.zk});return m}ac(m){this.Xe();
this.eb=m.t;this.Ua.Mn(m.c);this.fk=m.fn;this.Kl=m.ps;this.Ee=m.hasOwnProperty("bbc")?m.bbc:!1;this.fc=m.hasOwnProperty("ha")?m.ha:0;this.Vb=m.hasOwnProperty("va")?m.va:0;this.ge=m.hasOwnProperty("wr")?m.wr:!0;this.Mi=m.hasOwnProperty("lho")?m.lho:0;this.kg=m.hasOwnProperty("b")?m.b:!1;this.lg=m.hasOwnProperty("i")?m.i:!1;m.hasOwnProperty("tw")&&(m=m.tw,this.Xh=m.st,this.Rd=m.en,this.zk=m.l);this.$e();-1!==this.Rd&&this.De()}Wb(m){switch(m){case 0:return this.eb;case 1:return this.Ee;case 2:return this.fk;
case 3:return this.Kl;case 4:return this.Mi;case 5:return this.kg;case 6:return this.lg;case 7:return b[0]=this.Ua.ib,b[1]=this.Ua.Ma,b[2]=this.Ua.fb,b;case 8:return this.fc;case 9:return this.Vb;case 10:return this.ge?1:0}}we(m,q){switch(m){case 0:if(this.eb===q)break;this.eb=q;this.$e();break;case 1:if(this.Ee===!!q)break;this.Ee=!!q;this.$e();break;case 2:if(this.fk===q)break;this.fk=q;this.$e();break;case 3:if(this.Kl===q)break;this.Kl=q;this.$e();break;case 4:if(this.Mi===q)break;this.Mi=q;this.$e();
break;case 5:if(this.kg===!!q)break;this.kg=!!q;this.$e();break;case 6:if(this.lg===!!q)break;this.lg=!!q;this.$e();break;case 7:m=this.Ua;if(m.ib===q[0]&&m.Ma===q[1]&&m.fb===q[2])break;this.Ua.Tu(q[0],q[1],q[2]);this.$e();break;case 8:if(this.fc===q)break;this.fc=q;this.$e();break;case 9:if(this.Vb===q)break;this.Vb=q;this.$e();break;case 10:this.ge!==(0===q)&&(this.ge=0===q,this.$e())}}Nm(m){this.eb!==m&&(this.eb=m,this.td.bl(m),this.j.Z())}uJ(m,q){this.Nm(m);this.Xh=this.j.Iv();this.Rd=this.Xh+
q/this.Ia().$O();this.zk=d.lj.bB(m).length;this.td.qq(0);this.De()}Xe(){this.Rd=this.Xh=-1;this.zk=0;this.td.qq(-1);this.nl()}HI(){-1!==this.Rd&&(this.Xe(),this.la(d.D.Text.H.Uv),this.j.Z())}xfa(m){this.fk!==m&&(this.fk=m,this.td.FH(m),this.j.Z())}lfa(m){m=!!m;this.kg!==m&&(this.kg=m,this.td.wR(m),this.j.Z())}Ifa(m){m=!!m;this.lg!==m&&(this.lg=m,this.td.NR(m),this.j.Z())}yfa(m){this.Kl!==m&&(this.Kl=m,this.j.Z())}wfa(m){this.Ua.In(m)||(this.Ua.Wl(m),this.td.ri(this.Ua),this.j.Z())}Qw(m){this.Mi!==
m&&(this.Mi=m,this.$e(),this.j.Z())}KI(){return this.Mi}lJ(m){this.fc!==m&&(this.fc=m,this.$e(),this.j.Z())}Tw(m){this.Vb!==m&&(this.Vb=m,this.$e(),this.j.Z())}qJ(m){m=!!m;this.ge!==m&&(this.ge=m,this.$e(),this.j.Z())}Pba(){this.zJ();return this.td.uG()}Oba(){this.zJ();return this.td.tG()}Md(){var m=this.j.Iv();m>=this.Rd?(this.Xe(),this.la(d.D.Text.H.Uv),this.j.Z()):(m=d.$Y(this.Xh,this.Rd,m,this.zk),m=Math.floor(m),m!==this.td.Sg&&(this.td.qq(m),this.j.Z()))}ag(){return self.z3}};const g=new WeakMap,
l=new Map([["top",0],["center",1],["bottom",2]]);self.z3=class extends self.Ov{constructor(){super();g.set(this,self.zs.Jm().ra)}get text(){return g.get(this).eb}set text(m){a.le(m);const q=g.get(this);q.Xe();q.Nm(m)}set lineHeight(m){a.Kg(m);g.get(this).Qw(m)}get lineHeight(){return g.get(this).KI()}set verticalAlign(m){a.le(m);m=l.get(m);if("undefined"===typeof m)throw Error("invalid mode");g.get(this).Tw(m)}get verticalAlign(){return c[g.get(this).Vb]}}}
{"use strict";const d=self.C;d.D.Text.H={z_(a,b){return b?this.eb===a:d.bh(this.eb,a)},D4(){return-1!==this.Rd},Uv(){return!0}}}
{"use strict";const d=self.C,a=d.F(d.jb);d.D.Text.Qa={bl(b){this.Xe();"number"===typeof b&&1E9>b&&(b=Math.round(1E10*b)/1E10);this.Nm(b.toString())},kO(b){this.Xe();"number"===typeof b&&1E9>b&&(b=Math.round(1E10*b)/1E10);(b=b.toString())&&this.Nm(this.eb+b)},s9(b,e){this.Xe();"number"===typeof b&&1E9>b&&(b=Math.round(1E10*b)/1E10);this.uJ(b.toString(),e)},Xta(b,e){let c=!1,f=!1;switch(e){case 1:c=!0;break;case 2:f=!0;break;case 3:f=c=!0}if(b!==this.fk||c!==this.kg||f!==this.lg)this.xfa(b),this.lfa(c),
this.Ifa(f)},GH(b){this.yfa(b)},Wta(b){a.Ru(b);a.ja();this.wfa(a)},Wua(){console.warn("[Text] 'Set web font' action is deprecated and no longer has any effect")},DR(b){this.B().fg(b);this.j.Z()},r9(){this.HI()},Rs(b){this.Qw(b)},W7(b){this.lJ(b)},H8(b){this.Tw(b)},M8(b){this.qJ(0===b)}}}{"use strict";const d=self.C;d.D.Text.zd={Text(){return this.eb},x6(){return this.Ee?d.lj.bB(this.eb):this.eb},xna(){return this.fk},yna(){return this.Kl},i9(){return this.Pba()},h9(){return this.Oba()},O4(){return this.Mi}}}
{"use strict";const d=self.C;d.D.Function=class extends d.Cj{constructor(a){super(a)}A(){super.A()}}}{"use strict";const d=self.C;d.D.Function.Ce=class extends d.Cm{constructor(a){super(a)}A(){super.A()}Xb(){}}}
{"use strict";const d=self.C;class a{constructor(){this.name="";this.Cp=0;this.Tf=[]}}d.D.Function.Instance=class extends d.jo{constructor(b){super(b);this.an=this.j.aq();this.LC=-1;this.CK=[];b=(e,c)=>this.kca(e,c);self.c2_callFunction=b;self.c3_callFunction=b}A(){super.A()}Oa(){const b=this.CK,e=++this.LC;e===b.length&&b.push(new a);return b[e]}Na(){--this.LC}sj(){const b=this.LC;return 0>b?null:this.CK[b]}C2(){const b=this.CK;return b.length?b[Math.min(this.LC+1,b.length-1)]:null}A$(b,e){const c=
this.Oa();c.name=b.toLowerCase();c.Cp=0;d.jd(c.Tf,e);e=this.lv(d.D.Function.H.Tv,c.name);this.an&&!e&&console.warn(`[Construct 3] Function object: called function '${b}' but no event was triggered. Is the function call spelt incorrectly or no longer used?`);this.Na()}*haa(b,e){const c=this.Oa();c.name=b.toLowerCase();c.Cp=0;d.jd(c.Tf,e);e=yield*this.DF(d.D.Function.H.Tv,c.name);this.an&&!e&&console.warn(`[Construct 3] Function object: called function '${b}' but no event was triggered. Is the function call spelt incorrectly or no longer used?`);
this.Na()}kca(b,e){const c=this.Oa();c.name=b.toLowerCase();c.Cp=0;c.Tf=(e||[]).map(f=>"number"===typeof f||"string"===typeof f?f:"boolean"===typeof f?f?1:0:0);this.lv(d.D.Function.H.Tv,c.name);this.Na();return c.Cp}}}
{"use strict";const d=self.C;d.D.Function.H={Tv(){return!0},vma(a,b,e){const c=this.sj();if(!c)return this.an&&console.warn("[Construct 3] Function object: used 'Compare parameter' condition when not in a function call"),!1;const f=c.Tf;a=Math.floor(a);let k=0;0>a||a>=f.length?this.an&&console.warn(`[Construct 3] Function object: in function '${c.name}', compared parameter out of bounds (accessed index ${a} of ${f.length})`):k=f[a];return d.compare(k,b,e)}}}"use strict";
self.C.D.Function.Qa={CallFunction(d,a){if(this.j.Ge)return this.haa(d,a);this.A$(d,a)},Pua(d){const a=this.sj();a?a.Cp=d:this.an&&console.warn("[Construct 3] Function object: used 'Set return value' when not in a function call")},Ula(){}};
{"use strict";const d=self.C;d.D.Function.zd={Ssa(){const a=this.C2();return a?a.Cp:0},Lqa(){const a=this.sj();if(a)return a.Tf.length;this.an&&console.warn("[Construct 3] Function object: used 'ParamCount' expression when not in a function call");return 0},Kqa(a){a=Math.floor(a);const b=this.sj();if(b){const e=b.Tf;if(0<=a&&a<e.length)return e[a];this.an&&console.warn(`[Construct 3] Function object: in function '${b.name}', accessed parameter out of bounds (accessed index ${a} of ${e.length})`);
return 0}this.an&&console.warn("[Construct 3] Function object: used 'Param' expression when not in a function call");return 0},uO(a,...b){const e=this.Oa();e.name=a.toLowerCase();e.Cp=0;e.Tf=b;b=this.lv(d.D.Function.H.Tv,e.name);this.an&&!b&&console.warn(`[Construct 3] Function object: expression Function.Call("${a}" ...) was used, but no event was triggered. Is the function call spelt incorrectly or no longer used?`);this.Na();return e.Cp}}}{"use strict";const d=self.C;d.D.Audio=class extends d.Cj{constructor(a){super(a)}A(){super.A()}}}
{"use strict";const d=self.C;d.D.Audio.Ce=class extends d.Cm{constructor(a){super(a)}A(){super.A()}Xb(){}ag(){return self.m3}};self.m3=class extends self.Nv{constructor(a){super(a)}}}
{"use strict";const d=self.C,a=["interactive","balanced","playback"];d.D.Audio.Instance=class extends d.jo{constructor(b,e){super(b,"audio");this.Ph=0;this.KM="";this.qy=this.$X=0;this.cM=!1;this.OV=this.mX=1;this.Qo=this.j.vg/2;this.Ro=this.j.ug/2;this.tr=-600;this.zX=600;this.WW=1E4;this.FX=1;this.Ni=null;this.zD=-1;this.gu=1;this.Wg=!1;this.HX=0;this.vC=new Map;this.fM=this.gM=0;this.rn=new Map;b="interactive";e&&(this.$X=e[0],this.qy=e[1],this.cM=e[2],b=a[e[3]],this.mX=e[4],this.OV=e[5],this.tr=
-e[6],this.zX=e[7],this.WW=e[8],this.FX=e[9]);this.Nh=[];this.Vt=[];this.tD=[];this.iF([["state",c=>this.Qda(c)],["fxstate",c=>this.Pda(c)],["trigger",c=>this.Oda(c)]]);e=this.N().Fb();this.rd=new d.cm(d.pb.Gb(e,"instancedestroy",c=>this.Jw(c.instance)),d.pb.Gb(e,"afterload",()=>this.Lm()),d.pb.Gb(e,"suspend",()=>this.YI()),d.pb.Gb(e,"resume",()=>this.XI()));this.j.kF(this.Xk("create-audio-context",{preloadList:this.j.zb.C1().map(c=>({originalUrl:c.Fja,url:c.url,type:c.type,fileSize:c.fileSize})),
isiOSCordova:this.j.nL,timeScaleMode:this.$X,latencyHint:b,panningModel:this.mX,distanceModel:this.OV,refDistance:this.zX,maxDistance:this.WW,rolloffFactor:this.FX,listenerPos:[this.Qo,this.Ro,this.tr]}).then(c=>{this.HX=c.sampleRate}));this.De()}A(){this.Ni=null;super.A()}Jw(b){this.Ni===b&&(this.Ni=null)}Jz(b){return Math.pow(10,b/20)}Hd(b){b=this.Jz(b);return isFinite(b)?Math.max(Math.min(b,1),0):0}Q4(b){return Math.log(b)/Math.log(10)*20}pQ(b){return this.Q4(Math.max(Math.min(b,1),0))}YI(){this.cM||
this.Wa("set-suspended",{isSuspended:!0})}XI(){this.cM||this.Wa("set-suspended",{isSuspended:!1})}Qda(b){const e=b.tickCount,c=this.Nh.filter(f=>f.hasOwnProperty("placeholder")&&(f.placeholder>e||-1===f.placeholder));this.Nh=b.audioInstances;this.tD=b.analysers;0<c.length&&d.Gn(this.Nh,c)}Pda(b){this.Vt=b.fxstate}uB(b){for(const e of this.Nh)if(d.bh(e.tag,b))return e;return null}WT(b){return this.Nh.some(e=>d.bh(b,e.tag)&&e.isPlaying)}lt(b,e,c,f){if(this.WT(b))return null;b={tag:b,duration:0,volume:f,
isPlaying:!0,playbackTime:0,playbackRate:1,uid:-1,bufferOriginalUrl:"",bufferUrl:"",bufferType:"",isMusic:e,isLooping:c,isMuted:!1,resumePosition:0,pan:null,placeholder:-1};this.Nh.push(b);return b}async Oda(b){const e=b.type;this.KM=b.tag;b=b.aiid;if("ended"===e){for(const c of this.Nh)if(c.aiid===b){c.isPlaying=!1;break}await this.Cd(d.D.Audio.H.I5)}else"fade-ended"===e&&await this.Cd(d.D.Audio.H.J5)}Md(){const b={timeScale:this.j.Qd,gameTime:this.j.bG(),instPans:this.k2(),tickCount:this.j.yn};
if(this.Ni){const e=this.Ni.B();this.Qo=e.K();this.Ro=e.L();b.listenerPos=[this.Qo,this.Ro,this.tr]}this.Wa("tick",b)}QN(b,e,c,f,k){if(0===c)return[b,e];const g=Math.sin(c);c=Math.cos(c);b-=f;e-=k;const l=b*g;b=b*c-e*g;return[b+f,e*c+l+k]}k2(){return this.Nh.filter(b=>-1!==b.uid).map(b=>this.j.Te(b.uid)).filter(b=>b).map(b=>{const e=b.B(),c=e.ca().Y(),[f,k]=this.QN(e.K(),e.L(),-c,this.Qo,this.Ro);return{uid:b.ub,x:f,y:k,angle:e.Y()-c}})}Vz(b,e){for(const c of this.tD)if(c.index===e&&d.bh(c.tag,b))return c;
return null}yi(b){this.vC.set(b,(this.vC.get(b)||0)+1)}dga(b){return b.hasOwnProperty("placeholder")||3===this.qy?!1:b.isMusic&&1===this.qy?!1:b.isMusic||2!==this.qy?!0:!1}mc(){return{isSilent:this.Wg,masterVolume:this.gu,listenerZ:this.tr,listenerUid:this.Ni?this.Ni.ub:-1,remoteUrls:[...this.rn.entries()],playing:this.Nh.filter(b=>this.dga(b)),effects:this.Vt,analysers:this.tD}}ac(b){this.Wg=b.isSilent;this.gu=b.masterVolume;this.tr=b.listenerZ;this.Ni=null;this.zD=b.listenerUid;this.rn.clear();
if(b.remoteUrls)for(const [e,c]of b.remoteUrls)this.rn.set(e,c);this.Nh=b.playing;this.Vt=b.effects;this.tD=b.analysers}Lm(){if(-1!==this.zD&&(this.Ni=this.j.Te(this.zD),this.zD=-1,this.Ni)){var b=this.Ni.B();this.Qo=b.K();this.Ro=b.L()}for(var e of this.Nh)(b=this.j.zb.nh(e.bufferOriginalUrl))?(e.bufferUrl=b.url,e.bufferType=b.type):e.bufferUrl=null;for(const c of Object.values(this.Vt))for(const f of c)f.hasOwnProperty("bufferOriginalUrl")&&(e=this.j.zb.nh(f.bufferOriginalUrl))&&(f.bufferUrl=e.url,
f.bufferType=e.type);this.Wa("load-state",{saveLoadMode:this.qy,timeScale:this.j.Qd,gameTime:this.j.bG(),listenerPos:[this.Qo,this.Ro,this.tr],isSilent:this.Wg,masterVolume:this.gu,playing:this.Nh.filter(c=>null!==c.bufferUrl),effects:this.Vt})}}}{"use strict";const d=self.C;d.D.Audio.H={I5(a){return d.bh(this.KM,a)},J5(a){return d.bh(this.KM,a)},Dra(){return this.fM===this.gM},Rka(){return!0},lpa(){return this.Wg},zoa(){for(const a of this.Nh)if(a.isPlaying)return!0;return!1},opa(a){return this.WT(a)}}}
{"use strict";const d=self.C,a="lowpass highpass bandpass lowshelf highshelf peaking notch allpass".split(" ");d.D.Audio.Qa={async Play(b,e,c,f){if(!this.Wg){var k=b[1],g=this.j.zb.nh(b[0]);if(g){var l=this.Ph;this.Ph=0;var m=this.lt(f.toLowerCase(),k,0!==e,this.Hd(c));try{await this.Xk("play",{originalUrl:b[0],url:g.url,type:g.type,isMusic:k,tag:f.toLowerCase(),isLooping:0!==e,vol:this.Hd(c),pos:0,off:l,trueClock:!!self.C3_GetAudioContextCurrentTime})}finally{m&&(m.placeholder=this.j.yn)}}}},async ora(b,
e,c,f,k,g,l,m,q,r){if(!this.Wg){var p=b[1],u=this.j.zb.nh(b[0]);if(u){var t=this.Ph;this.Ph=0;var w=this.lt(r.toLowerCase(),p,0!==e,this.Hd(c));try{await this.Xk("play",{originalUrl:b[0],url:u.url,type:u.type,isMusic:p,tag:r.toLowerCase(),isLooping:0!==e,vol:this.Hd(c),pos:0,off:t,trueClock:!!self.C3_GetAudioContextCurrentTime,panning:{x:f,y:k,angle:d.Ea(g),innerAngle:d.Ea(l),outerAngle:d.Ea(m),outerGain:this.Hd(q)}})}finally{w&&(w.placeholder=this.j.yn)}}}},async mra(b,e,c,f,k,g,l,m){if(!this.Wg&&
f&&(f=f.ii())&&f.B()){var q=f.B(),r=q.ca().Y(),[p,u]=this.QN(q.K(),q.L(),-r,this.Qo,this.Ro),t=b[1],w=this.j.zb.nh(b[0]);if(w){var x=this.Ph;this.Ph=0;var z=this.lt(m.toLowerCase(),t,0!==e,this.Hd(c));try{await this.Xk("play",{originalUrl:b[0],url:w.url,type:w.type,isMusic:t,tag:m.toLowerCase(),isLooping:0!==e,vol:this.Hd(c),pos:0,off:x,trueClock:!!self.C3_GetAudioContextCurrentTime,panning:{x:p,y:u,angle:q.Y()-r,innerAngle:d.Ea(k),outerAngle:d.Ea(g),outerGain:this.Hd(l),uid:f.ub}})}finally{z&&(z.placeholder=
this.j.yn)}}}},async qra(b,e,c,f,k){if(!this.Wg){b=1===b;var g=this.j.zb.nh(e)||this.rn.get(e.toLowerCase());if(g){var l=this.Ph;this.Ph=0;var m=this.lt(k.toLowerCase(),b,0!==c,this.Hd(f));try{await this.Xk("play",{originalUrl:e,url:g.url,type:g.type,isMusic:b,tag:k.toLowerCase(),isLooping:0!==c,vol:this.Hd(f),pos:0,off:l,trueClock:!!self.C3_GetAudioContextCurrentTime})}finally{m&&(m.placeholder=this.j.yn)}}}},async pra(b,e,c,f,k,g,l,m,q,r,p){if(!this.Wg){b=1===b;var u=this.j.zb.nh(e)||this.rn.get(e.toLowerCase());
if(u){var t=this.Ph;this.Ph=0;var w=this.lt(p.toLowerCase(),b,0!==c,this.Hd(f));try{await this.Xk("play",{originalUrl:e,url:u.url,type:u.type,isMusic:b,tag:p.toLowerCase(),isLooping:0!==c,vol:this.Hd(f),pos:0,off:t,trueClock:!!self.C3_GetAudioContextCurrentTime,panning:{x:k,y:g,angle:d.Ea(l),innerAngle:d.Ea(m),outerAngle:d.Ea(q),outerGain:this.Hd(r)}})}finally{w&&(w.placeholder=this.j.yn)}}}},async nra(b,e,c,f,k,g,l,m,q){if(!this.Wg&&!this.Wg&&k&&(k=k.ii())&&k.B()){var r=k.B(),p=r.ca().Y(),[u,t]=
this.QN(r.K(),r.L(),-p,this.Qo,this.Ro);b=1===b;var w=this.j.zb.nh(e)||this.rn.get(e.toLowerCase());if(w){var x=this.Ph;this.Ph=0;var z=this.lt(q.toLowerCase(),b,0!==c,this.Hd(f));try{await this.Xk("play",{originalUrl:e,url:w.url,type:w.type,isMusic:b,tag:q.toLowerCase(),isLooping:0!==c,vol:this.Hd(f),pos:0,off:x,trueClock:!!self.C3_GetAudioContextCurrentTime,panning:{x:u,y:t,angle:r.Y()-p,innerAngle:d.Ea(g),outerAngle:d.Ea(l),outerGain:this.Hd(m),uid:k.ub}})}finally{z&&(z.placeholder=this.j.yn)}}}},
Aua(b,e){this.Wa("set-looping",{tag:b.toLowerCase(),isLooping:0===e})},Gua(b,e){this.Wa("set-muted",{tag:b.toLowerCase(),isMuted:0===e})},Uua(b,e){this.Wa("set-volume",{tag:b.toLowerCase(),vol:this.Hd(e)})},zna(b,e,c,f){this.Wa("fade-volume",{tag:b.toLowerCase(),vol:this.Hd(e),duration:c,stopOnEnd:0===f})},async Bra(b){const e=b[1],c=this.j.zb.nh(b[0]);c&&(this.gM++,await this.Xk("preload",{originalUrl:b[0],url:c.url,type:c.type,isMusic:e}),this.fM++)},async Cra(b,e){b=1===b;const c=this.j.zb.nh(e)||
this.rn.get(e.toLowerCase());c&&(this.gM++,await this.Xk("preload",{originalUrl:e,url:c.url,type:c.type,isMusic:b}),this.fM++)},fw(b,e){this.Wa("set-playback-rate",{tag:b.toLowerCase(),rate:Math.max(e,0)})},Og(b){this.Wa("stop",{tag:b.toLowerCase()})},lva(){this.Wa("stop-all")},Iua(b,e){this.Wa("set-paused",{tag:b.toLowerCase(),paused:0===e})},sta(b,e){this.Wa("seek",{tag:b.toLowerCase(),pos:e})},Qua(b){2===b&&(b=this.Wg?1:0);b=0===b;this.Wg!==b&&(this.Wg=b,this.Wa("set-silent",{isSilent:b}))},Cua(b){b=
this.Hd(b);this.gu!==b&&(this.gu=b,this.Wa("set-master-volume",{vol:b}))},Gka(b,e,c,f,k,g,l){b=b.toLowerCase();e=a[e];this.yi(b);this.Wa("add-effect",{type:"filter",tag:b,params:[e,c,f,k,g,d.ja(l/100,0,1)]})},Dka(b,e,c,f){b=b.toLowerCase();this.yi(b);this.Wa("add-effect",{type:"delay",tag:b,params:[e,this.Hd(c),d.ja(f/100,0,1)]})},Hka(b,e,c,f,k,g){b=b.toLowerCase();this.yi(b);this.Wa("add-effect",{type:"flanger",tag:b,params:[e/1E3,c/1E3,f,k/100,d.ja(g/100,0,1)]})},Lka(b,e,c,f,k,g,l){b=b.toLowerCase();
this.yi(b);this.Wa("add-effect",{type:"phaser",tag:b,params:[e,c,f,k,g,d.ja(l/100,0,1)]})},Cka(b,e,c,f){b=b.toLowerCase();const k=this.j.zb.nh(e[0]);k&&(this.yi(b),this.Wa("add-effect",{type:"convolution",tag:b,bufferOriginalUrl:e[0],bufferUrl:k.url,bufferType:k.type,params:[0===c,d.ja(f/100,0,1)]}))},Ika(b,e){b=b.toLowerCase();this.yi(b);this.Wa("add-effect",{type:"gain",tag:b,params:[this.Hd(e)]})},Kka(b){b=b.toLowerCase();this.yi(b);this.Wa("add-effect",{type:"gain",tag:b,params:[0]})},Pka(b,e,
c){b=b.toLowerCase();this.yi(b);this.Wa("add-effect",{type:"tremolo",tag:b,params:[e,d.ja(c/100,0,1)]})},Oka(b,e,c){b=b.toLowerCase();this.yi(b);this.Wa("add-effect",{type:"ringmod",tag:b,params:[e,d.ja(c/100,0,1)]})},Eka(b,e,c,f,k,g){b=b.toLowerCase();this.yi(b);this.Wa("add-effect",{type:"distortion",tag:b,params:[this.Jz(e),this.Jz(c),f,this.Jz(k),d.ja(g/100,0,1)]})},Bka(b,e,c,f,k,g){b=b.toLowerCase();this.yi(b);this.Wa("add-effect",{type:"compressor",tag:b,params:[e,c,f,k/1E3,g/1E3]})},Aka(b,
e,c){b=b.toLowerCase();this.yi(b);this.Wa("add-effect",{type:"analyser",tag:b,params:[e,c]})},Rra(b){b=b.toLowerCase();this.vC.set(b,0);this.Wa("remove-effects",{tag:b});this.Vt={}},Qta(b,e,c,f,k,g){this.Wa("set-effect-param",{tag:b.toLowerCase(),index:Math.floor(e),param:c,value:f,ramp:k,time:g})},yua(b){b&&(b=b.ii())&&b.B()&&(this.Ni=b)},zua(b){this.tr=b},ita(b){this.Ph=Math.max(b,0)},Sva(b){const e=b[1];(b=this.j.zb.nh(b[0]))&&this.Wa("unload",{url:b.url,type:b.type,isMusic:e})},Tva(b,e){b=1===
b;(e=this.j.zb.nh(e)||this.rn.get(e.toLowerCase()))&&this.Wa("unload",{url:e.url,type:e.type,isMusic:b})},Rva(){this.Wa("unload-all")},Nka(b,e,c){this.rn.set(c.toLowerCase(),{url:b,type:e})}}}"use strict";
self.C.D.Audio.zd={nna(d){return(d=this.uB(d))?d.duration:0},sra(d){return(d=this.uB(d))?d.playbackTime:0},rra(d){return(d=this.uB(d))?d.playbackRate:0},hwa(d){return(d=this.uB(d))?this.pQ(d.volume):0},Xpa(){return this.pQ(this.gu)},ona(d){return this.vC.get(d.toLowerCase())||0},Vka(d,a){return(d=this.Vz(d,Math.floor(a)))?d.binCount:0},Uka(d,a,b){d=this.Vz(d,Math.floor(a));if(!d)return 0;b=Math.floor(b);return 0>b||b>=d.binCount?0:d.freqBins[b]},Wka(d,a){return(d=this.Vz(d,Math.floor(a)))?d.peak:
0},Xka(d,a){return(d=this.Vz(d,Math.floor(a)))?d.rms:0},hta(){return this.HX},$ma(){return self.C3_GetAudioContextCurrentTime?self.C3_GetAudioContextCurrentTime():performance.now()/1E3}};{"use strict";const d=self.C;d.D.yd=class extends d.Cj{constructor(a){super(a)}A(){super.A()}}}{"use strict";const d=self.C;d.D.yd.Ce=class extends d.Cm{constructor(a){super(a)}A(){super.A()}Xb(){}}}
{"use strict";const d=self.C;d.D.yd.Instance=class extends d.jo{constructor(a){super(a,"browser");this.yl="";this.Lx=!1;this.PV=this.AX="";this.yW=!1;this.$M=this.JX=this.KX=0;this.Nx=!1;this.iF([["online-state",b=>this.Gda(b)],["backbutton",()=>this.jda()],["sw-message",b=>this.Lda(b)],["hashchange",b=>this.tda(b)]]);a=this.N().Fb();this.rd=new d.cm(d.pb.Gb(a,"afterfirstlayoutstart",()=>this.ida()),d.pb.Gb(a,"window-resize",()=>this.bJ()),d.pb.Gb(a,"suspend",()=>this.YI()),d.pb.Gb(a,"resume",()=>
this.XI()));this.j.kF(this.Xk("get-initial-state",{exportType:this.j.ek}).then(b=>{this.yl=b.location;this.Lx=b.isOnline;this.AX=b.referrer;this.PV=b.title;this.yW=b.isCookieEnabled;this.KX=b.screenWidth;this.JX=b.screenHeight;this.$M=b.windowOuterWidth;this.Nx=b.isScirraArcade}))}A(){super.A()}ida(){this.Wa("ready-for-sw-messages")}async Gda(a){a=!!a.isOnline;this.Lx!==a&&((this.Lx=a)?await this.Cd(d.D.yd.H.Z5):await this.Cd(d.D.yd.H.X5))}async bJ(){await this.Cd(d.D.yd.H.h6)}YI(){this.la(d.D.yd.H.a6)}XI(){this.la(d.D.yd.H.b6)}async jda(){await this.Cd(d.D.yd.H.y5)}Lda(a){a=
a.type;"downloading-update"===a?this.la(d.D.yd.H.r6):"update-ready"===a||"update-pending"===a?this.la(d.D.yd.H.s6):"offline-ready"===a&&this.la(d.D.yd.H.Y5)}tda(a){this.yl=a.location;this.la(d.D.yd.H.L5)}}}"use strict";
self.C.D.yd.H={epa(){return this.Lx},Z5(){return!0},X5(){return!0},h6(){return!0},Sma(){return this.yW},Qoa(){return this.j.ea.gr},y5(){return!0},kpa(d){return(this.j.ea.Tl<=this.j.ea.Sl?0:1)===d},r6(){return!0},s6(){return!0},Y5(){return!0},L5(){return!0},Jqa(){return!this.j.ao()},a6(){return!0},b6(){return!0},eoa(){return!1},Loa(){return!1},wqa(){return!1},xqa(){return!1},Yoa(){return!1},Eoa(){return!0},Ava(){return!0}};
{"use strict";const d=self.C,a="portrait landscape portrait-primary portrait-secondary landscape-primary landscape-secondary".split(" ");d.D.yd.Qa={Ska(b){this.Wa("alert",{message:b.toString()})},v_(){this.Nx||(this.j.Bb?self.Dg.fma():this.Wa("close"))},Hna(){this.Wa("set-focus",{isFocus:!0})},Hla(){this.Wa("set-focus",{isFocus:!1})},Xna(){this.Nx||this.Wa("navigate",{type:"back"})},Yna(){this.Nx||this.Wa("navigate",{type:"forward"})},Zna(){},Qra(){this.Nx||(this.j.Bb?this.j.C6():this.Wa("navigate",
{type:"reload"}))},aoa(b,e){this.hl("navigate",{type:"url",url:b,target:e,exportType:this.j.ek})},boa(b,e){this.hl("navigate",{type:"new-window",url:b,tag:e,exportType:this.j.ek})},Xra(b,e){2<=b&&(b+=1);6===b&&(b=2);1===b&&(b=0);b=d.tF.hT(b);this.j.ea.M7(b);this.hl("request-fullscreen",{navUI:e})},Wla(){this.hl("exit-fullscreen")},gwa(b){b=b.split(",");for(let e=0,c=b.length;e<c;++e)b[e]=parseInt(b[e],10);this.hl("vibrate",{pattern:b})},async GG(b,e){b&&e&&(b=await this.j.zb.nA(b),this.j.GG(b,e))},
xoa(b,e,c){c&&(b=`data:${e},${encodeURIComponent(b)}`,this.j.GG(b,c))},Oma(b,e){e=e.toString();0===b?console.log(e):1===b?console.warn(e):2===b&&console.error(e)},Mma(b){console.group(b)},Nma(){console.groupEnd()},wna(b){try{eval(b)}catch(e){console.error("Error executing JavaScript: ",e)}},Rpa(b){b=Math.floor(b);0>b||b>=a.length||this.hl("lock-orientation",{orientation:a[b]})},Wva(){this.hl("unlock-orientation")},tQ(b){this.j.zb.tQ(b)},aua(b){this.Wa("set-hash",{hash:b})}}}"use strict";
self.C.D.yd.zd={URL(){return this.j.ff?this.yl:location.toString()},Hra(){return this.j.ff?(new URL(this.yl)).protocol:location.protocol},jna(){return this.j.ff?(new URL(this.yl)).hostname:location.hostname},Ara(){return this.j.ff?(new URL(this.yl)).port:location.port},Nqa(){return this.j.ff?(new URL(this.yl)).pathname:location.pathname},hoa(){return this.j.ff?(new URL(this.yl)).hash:location.hash},kH(){return this.j.ff?(new URL(this.yl)).search:location.search},Jra(d){const a=this.j.ff?(new URL(this.yl)).search:
location.search;return(d=RegExp("[?&]"+d+"=([^&]*)").exec(a))?decodeURIComponent(d[1].replace(/\+/g," ")):""},Nra(){return this.AX},Dva(){return this.PV},tpa(){return navigator.language},md(){return navigator.platform},awa(){return navigator.userAgent},vna(d){let a=0;try{a=eval(d)}catch(b){console.error("Error executing JavaScript: ",b)}return"number"===typeof a||"string"===typeof a?a:"boolean"===typeof a?a?1:0:0},jqa(){return navigator.appName},fwa(){return navigator.appVersion},Gra(){return navigator.product},
ewa(){return navigator.vendor},Cla(){return 1},Dla(){return Infinity},Ala(){const d=navigator.connection;return d?d.downlink||d.downlinkMax||d.bandwidth||Infinity:Infinity},ConnectionType(){const d=navigator.connection;return d?d.type||"unknown":"unknown"},gna(){return self.devicePixelRatio},mta(){return this.KX},lta(){return this.JX},wwa(){return this.j.ea.Tl},vwa(){return this.j.ea.Sl},ywa(){return this.$M},xwa(){return this.$M}};{"use strict";const d=self.C;d.D.Keyboard=class extends d.Cj{constructor(a){super(a)}A(){super.A()}}}
{"use strict";const d=self.C;d.D.Keyboard.Ce=class extends d.Cm{constructor(a){super(a)}A(){super.A()}Xb(){}ag(){return self.o3}};self.o3=class extends self.Nv{constructor(a){super(a);a.N().xt.keyboard=this}}}
{"use strict";const d=self.C;d.D.Keyboard.Instance=class extends d.jo{constructor(a){super(a);this.Ux=new Set;this.Ut=new Set;this.Ol=0;this.Oy=this.sE="";a=this.N().Fb();this.rd=new d.cm(d.pb.Gb(a,"keydown",b=>this.Ada(b.data)),d.pb.Gb(a,"keyup",b=>this.Bda(b.data)),d.pb.Gb(a,"window-blur",()=>this.pU()),d.pb.Gb(a,"keyboard-blur",()=>this.pU()))}A(){super.A()}Ada(a){const b=a.which,e=a.code||b.toString();a=a.key;this.Ux.has(e)||(this.Ux.add(e),this.Ut.add(b),this.sE=e,this.Ol=b,this.Oy=a,this.la(d.D.Keyboard.H.x5),
this.la(d.D.Keyboard.H.P5),this.la(d.D.Keyboard.H.S5),this.la(d.D.Keyboard.H.Q5))}Bda(a){const b=a.which,e=a.code||b.toString();a=a.key;this.Ux.delete(e);this.Ut.delete(b);this.sE=e;this.Ol=b;this.Oy=a;this.la(d.D.Keyboard.H.DQ);this.la(d.D.Keyboard.H.HQ);this.la(d.D.Keyboard.H.T5);this.la(d.D.Keyboard.H.GQ)}pU(){for(const a of this.Ut)this.Ut.delete(a),this.Ol=a,this.la(d.D.Keyboard.H.DQ),this.la(d.D.Keyboard.H.HQ),this.la(d.D.Keyboard.H.GQ);this.Ux.clear()}mc(){return{tk:this.Ol,tkk:this.Oy}}ac(a){this.Ol=
a.tk;a.hasOwnProperty("tkk")&&(this.Oy=a.tkk)}}}{"use strict";const d="ShiftLeft ShiftRight ControlLeft ControlRight AltLeft AltRight MetaLeft MetaRight".split(" ");self.C.D.Keyboard.H={Uoa(a){return this.Ut.has(a)},P5(a){return this.Ol===a},x5(){return!0},DQ(){return!0},HQ(a){return this.Ol===a},Toa(a){a=Math.floor(a);return this.Ut.has(a)},Q5(a){return this.Ol===a},GQ(a){return this.Ol===a},S5(a){return this.sE===d[a]},T5(a){return this.sE===d[a]},Voa(a){return this.Ux.has(d[a])}}}"use strict";
self.C.D.Keyboard.Qa={};
{"use strict";function d(a){a=Math.floor(a);switch(a){case 8:return"backspace";case 9:return"tab";case 13:return"enter";case 16:return"shift";case 17:return"control";case 18:return"alt";case 19:return"pause";case 20:return"capslock";case 27:return"esc";case 33:return"pageup";case 34:return"pagedown";case 35:return"end";case 36:return"home";case 37:return"\u2190";case 38:return"\u2191";case 39:return"\u2192";case 40:return"\u2193";case 45:return"insert";case 46:return"del";case 91:return"left window key";
case 92:return"right window key";case 93:return"select";case 96:return"numpad 0";case 97:return"numpad 1";case 98:return"numpad 2";case 99:return"numpad 3";case 100:return"numpad 4";case 101:return"numpad 5";case 102:return"numpad 6";case 103:return"numpad 7";case 104:return"numpad 8";case 105:return"numpad 9";case 106:return"numpad *";case 107:return"numpad +";case 109:return"numpad -";case 110:return"numpad .";case 111:return"numpad /";case 112:return"F1";case 113:return"F2";case 114:return"F3";
case 115:return"F4";case 116:return"F5";case 117:return"F6";case 118:return"F7";case 119:return"F8";case 120:return"F9";case 121:return"F10";case 122:return"F11";case 123:return"F12";case 144:return"numlock";case 145:return"scroll lock";case 186:return";";case 187:return"=";case 188:return",";case 189:return"-";case 190:return".";case 191:return"/";case 192:return"'";case 219:return"[";case 220:return"\\";case 221:return"]";case 222:return"#";case 223:return"`";default:return String.fromCharCode(a)}}
self.C.D.Keyboard.zd={upa(){return this.Ol},qva(a){return d(a)},Ova(){return this.Oy}}}{"use strict";const d=self.C;d.D.Kd=class extends d.Cj{constructor(a){super(a)}A(){super.A()}}}{"use strict";const d=self.C;d.D.Kd.Ce=class extends d.Cm{constructor(a){super(a)}A(){super.A()}Xb(){}ag(){return self.r3}};self.r3=class extends self.Nv{constructor(a){super(a);a.N().xt.BN=this}}}
{"use strict";const d=self.C;d.D.Kd.Instance=class extends d.jo{constructor(a){super(a,"mouse");this.Kq=[!1,!1,!1];this.cY=this.tE=this.Rr=this.Wo=this.Vo=0;this.QC=!1;this.NL=this.ML=0;this.iF([["pointer-lock-change",b=>this.Ida(b)],["pointer-lock-error",b=>this.Jda(b)]]);a=this.N().Fb();this.rd=new d.cm(d.pb.Gb(a,"pointermove",b=>this.Lw(b.data)),d.pb.Gb(a,"pointerdown",b=>this.Kw(b.data)),d.pb.Gb(a,"pointerup",b=>this.Aq(b.data)),d.pb.Gb(a,"dblclick",b=>this.nda(b.data)),d.pb.Gb(a,"wheel",b=>this.Eda(b.data)),
d.pb.Gb(a,"window-blur",()=>this.aJ()))}A(){super.A()}Kw(a){"mouse"===a.pointerType&&(this.Vo=a.pageX-this.j.gm(),this.Wo=a.pageY-this.j.hm(),this.kI(a.lastButtons,a.buttons))}Lw(a){this.ML=a.movementX;this.NL=a.movementY;this.la(d.D.Kd.H.U5);this.NL=this.ML=0;"mouse"===a.pointerType&&(this.Vo=a.pageX-this.j.gm(),this.Wo=a.pageY-this.j.hm(),this.kI(a.lastButtons,a.buttons))}Aq(a){"mouse"===a.pointerType&&this.kI(a.lastButtons,a.buttons)}kI(a,b){this.jI(a,b,1,0);this.jI(a,b,4,1);this.jI(a,b,2,2)}jI(a,
b,e,c){!(a&e)&&b&e?this.Cda(c):a&e&&!(b&e)&&this.Dda(c)}Cda(a){this.Kq[a]=!0;this.la(d.D.Kd.H.w5);this.Rr=a;this.tE=0;this.la(d.D.Kd.H.EQ);this.la(d.D.Kd.H.NQ)}Dda(a){this.Kq[a]&&(this.Kq[a]=!1,this.Rr=a,this.la(d.D.Kd.H.OQ))}nda(a){this.Rr=a.button;this.tE=1;this.la(d.D.Kd.H.EQ);this.la(d.D.Kd.H.NQ)}Eda(a){this.cY=0>a.deltaY?1:0;this.la(d.D.Kd.H.t6)}aJ(){for(let a=0,b=this.Kq.length;a<b&&this.Kq[a];++a)this.Kq[a]=!1,this.Rr=a,this.la(d.D.Kd.H.OQ)}xP(a){const b=this.j.Nb(),e=this.Vo,c=this.Wo;return"undefined"===
typeof a?b.Bv(0).xO(e,c):(a=b.ca(a))?a.Vf(e,c):[0,0]}UT(){return 0<=this.Vo&&0<=this.Wo&&this.Vo<this.j.eP()&&this.Wo<this.j.dP()}Ida(a){this.qV(a["has-pointer-lock"])}Jda(a){this.qV(a["has-pointer-lock"]);this.la(d.D.Kd.H.e6)}qV(a){this.QC!==a&&((this.QC=a)?this.la(d.D.Kd.H.f6):this.la(d.D.Kd.H.g6))}}}
{"use strict";const d=self.C;d.D.Kd.H={EQ(a,b){return this.Rr===a&&this.tE===b},w5(){return!0},o4(a){return this.Kq[a]},OQ(a){return this.Rr===a},gpa(a){if(!this.UT())return!1;const b=this.j.Xf().Ki;return d.xor(this.j.Ef.bt(a,this.Vo,this.Wo,b),b)},NQ(a,b,e){return a===this.Rr&&b===this.tE&&this.UT()?this.j.Ef.bt(e,this.Vo,this.Wo,!1):!1},t6(a){return this.cY===a},f6(){return!0},g6(){return!0},e6(){return!0},goa(){return this.QC},U5(){return!0}}}
{"use strict";const d=self.C;let a=null;const b="auto pointer text crosshair move help wait none".split(" ");d.D.Kd.Qa={Jta(e){e=b[e];a!==e&&(a=e,this.Wa("cursor",e))},I7(e){if(!d.md.GA&&e&&(e=e.ii())){var c=e.B(),f=e.hi();c&&f&&a!==f&&(a=f,f.q1().then(k=>d.gv(k)).then(k=>{k=`url(${URL.createObjectURL(k)}) ${Math.round(c.Kk()*f.O())} ${Math.round(c.Lk()*f.P())}, auto`;this.Wa("cursor","");this.Wa("cursor",k)}))}},$ra(){this.hl("request-pointer-lock")},Pra(){this.Wa("release-pointer-lock")}}}"use strict";
self.C.D.Kd.zd={uS(d){return this.xP(d)[0]},gI(d){return this.xP(d)[1]},tZ(){return this.Vo},uZ(){return this.Wo},hqa(){return this.ML},iqa(){return this.NL}};{"use strict";const d=self.C;d.D.Touch=class extends d.Cj{constructor(a){super(a)}A(){super.A()}}}
{"use strict";const d=self.C,a=self.Eg;d.D.Touch.Ce=class extends d.Cm{constructor(e){super(e)}A(){super.A()}Xb(){}ag(){return self.A3}};let b=null;self.A3=class extends self.Nv{constructor(e){super(e);b=e;e.N().xt.cO=this}requestPermission(e){a.le(e);const c=b.Qk().ra;if("orientation"===e)return c.cJ(0);if("motion"===e)return c.cJ(1);throw Error("invalid type");}}}
{"use strict";const d=self.C;d.D.Touch.Instance=class extends d.jo{constructor(a,b){super(a,"touch");this.Ed=new Map;this.gD=this.eY=!1;this.NC=this.Gi=this.Fi=this.JM=this.rE=this.Bu=this.DJ=this.CJ=this.BJ=this.GJ=this.FJ=this.EJ=this.WL=this.VL=this.UL=this.JD=0;this.LD=[];b&&(this.eY=b[0]);this.hF("permission-result",e=>this.Hda(e));a=this.N().Fb();this.rd=new d.cm(d.pb.Gb(a,"pointerdown",e=>this.Kw(e.data)),d.pb.Gb(a,"pointermove",e=>this.Lw(e.data)),d.pb.Gb(a,"pointerup",e=>this.Aq(e.data,!1)),
d.pb.Gb(a,"pointercancel",e=>this.Aq(e.data,!0)),d.pb.Gb(a,"deviceorientation",e=>this.lda(e.data)),d.pb.Gb(a,"deviceorientationabsolute",e=>this.mda(e.data)),d.pb.Gb(a,"devicemotion",e=>this.kda(e.data)),d.pb.Gb(a,"tick2",()=>this.ZI()))}A(){this.Ed.clear();super.A()}Kw(a){if("mouse"===a.pointerType)if(this.eY)this.gD=!0;else return;const b=a.pointerId;if(!this.Ed.has(b)){var e=a.pageX-this.j.gm();a=a.pageY-this.j.hm();var c=performance.now(),f=this.Ed.size;this.Bu=f;this.rE=b;var k=d.F(d.D.Touch.m9);
k.ph(c,e,a,b,f);this.Ed.set(b,k);this.la(d.D.Touch.H.W5);this.la(d.D.Touch.H.p6);this.Fi=e;this.Gi=a;this.la(d.D.Touch.H.QQ)}}Lw(a){if("mouse"!==a.pointerType||this.gD){var b=this.Ed.get(a.pointerId);if(b){var e=performance.now();2>e-b.La()||b.Fm(e,a.pageX-this.j.gm(),a.pageY-this.j.hm(),a.width,a.height,a.pressure)}}}Aq(a,b){if("mouse"===a.pointerType)if(this.gD)this.gD=!1;else return;const e=performance.now();a=a.pointerId;const c=this.Ed.get(a);c&&(this.Bu=c.Uh,this.rE=c.Hk(),this.la(d.D.Touch.H.V5),
this.la(d.D.Touch.H.o6),b||(b=c.S8(e),"single-tap"===b?(this.la(d.D.Touch.H.m6),this.Fi=c.K(),this.Gi=c.L(),this.la(d.D.Touch.H.n6)):"double-tap"===b&&(this.la(d.D.Touch.H.E5),this.Fi=c.K(),this.Gi=c.L(),this.la(d.D.Touch.H.F5))),c.A(),this.Ed.delete(a))}cJ(a){this.hl("request-permission",{type:a});return new Promise((b,e)=>{this.LD.push({type:a,resolve:b,reject:e})})}Hda(a){const b=a.result,e=a.type;this.JM=e;a=this.LD.filter(c=>c.type===e);for(const c of a)c.resolve(b?"granted":"denied");this.LD=
this.LD.filter(c=>c.type!==e);b?(this.la(d.D.Touch.H.d6),0===e?this.j.Ls():this.j.io()):this.la(d.D.Touch.H.c6)}lda(a){"number"===typeof a.webkitCompassHeading?this.JD=a.webkitCompassHeading:a.absolute&&(this.JD=a.alpha);this.UL=a.alpha;this.VL=a.beta;this.WL=a.gamma}mda(a){this.JD=a.alpha}kda(a){const b=a.acceleration;b&&(this.EJ=b.x,this.FJ=b.y,this.GJ=b.z);if(a=a.accelerationIncludingGravity)this.BJ=a.x,this.CJ=a.y,this.DJ=a.z}ZI(){const a=performance.now();let b=0;for(const e of this.Ed.values())e.La()<=
a-50&&e.Kfa(a),e.Q8(a)&&(this.Bu=e.Uh,this.rE=e.Hk(),this.NC=b,this.la(d.D.Touch.H.M5),this.Fi=e.K(),this.Gi=e.L(),this.la(d.D.Touch.H.N5),this.NC=0),++b}Lj(a){a=Math.floor(a);for(const b of this.Ed.values()){if(0===a)return b;--a}return null}Dw(a,b){return 0<=a&&0<=b&&a<this.j.eP()&&b<this.j.dP()}}}
{"use strict";const d=self.C,a=[];d.D.Touch.H={p6(){return!0},o6(){return!0},Roa(){return 0<this.Ed.size},QQ(b){return b&&this.Dw(this.Fi,this.Gi)?this.j.Ef.bt(b,this.Fi,this.Gi,!1):!1},ppa(b){if(!b)return!1;const e=b.ia();var c=e.qa();for(const f of c){c=f.B();const k=c.ca();for(const g of this.Ed.values()){if(!this.Dw(g.K(),g.L()))continue;const [l,m]=k.Vf(g.K(),g.L(),c.ve());if(c.ms(l,m)){a.push(f);break}}}return a.length?(e.Yv(a),b.rc(),d.G(a),!0):!1},zma(b,e,c){return(b=this.Lj(b))?d.compare(b.qm(),
e,c):!1},Hqa(){return!0},dqa(){return!0},uma(b,e,c){this.j.Ls();return d.compare(0===b?this.UL:1===b?this.VL:this.WL,e,c)},ima(b,e,c){this.j.io();return d.compare(0===b?this.BJ:1===b?this.CJ:2===b?this.DJ:3===b?this.EJ:4===b?this.FJ:this.GJ,e,c)},W5(b){b=Math.floor(b);return b===this.Bu},V5(b){b=Math.floor(b);return b===this.Bu},foa(b){b=Math.floor(b);return this.Ed.size>=b+1},M5(){return!0},m6(){return!0},E5(){return!0},N5(b){return b&&this.Dw(this.Fi,this.Gi)?this.j.Ef.bt(b,this.Fi,this.Gi,!1):
!1},n6(b){return b&&this.Dw(this.Fi,this.Gi)?this.j.Ef.bt(b,this.Fi,this.Gi,!1):!1},F5(b){return b&&this.Dw(this.Fi,this.Gi)?this.j.Ef.bt(b,this.Fi,this.Gi,!1):!1},d6(b){return this.JM===b},c6(b){return this.JM===b}}}"use strict";self.C.D.Touch.Qa={Zra(d){this.cJ(d)}};
{"use strict";const d=self.C;d.D.Touch.zd={Hva(){return this.Ed.size},uS(a){const b=this.Lj(this.NC);return b?b.ws(this.j.Ta(),a,!0):0},gI(a){const b=this.Lj(this.NC);return b?b.ws(this.j.Ta(),a,!1):0},zwa(a,b){return(a=this.Lj(a))?a.ws(this.j.Ta(),b,!0):0},Bwa(a,b){return(a=this.Lj(a))?a.ws(this.j.Ta(),b,!1):0},Awa(a,b){return(a=this.Ed.get(a))?a.ws(this.j.Ta(),b,!0):0},Cwa(a,b){return(a=this.Ed.get(a))?a.ws(this.j.Ta(),b,!1):0},tZ(){const a=this.Lj(0);return a?a.K():0},uZ(){const a=this.Lj(0);return a?
a.L():0},pka(a){return(a=this.Lj(a))?a.K():0},rka(a){return(a=this.Lj(a))?a.L():0},qka(a){return(a=this.Ed.get(a))?a.K():0},ska(a){return(a=this.Ed.get(a))?a.L():0},fva(a){return(a=this.Lj(a))?a.qm():0},gva(a){return(a=this.Ed.get(a))?a.qm():0},Zka(a){return(a=this.Lj(a))?d.Td(a.Y()):0},$ka(a){return(a=this.Ed.get(a))?d.Td(a.Y()):0},Ima(){this.j.Ls();return this.JD},Tka(){this.j.Ls();return this.UL},Ela(){this.j.Ls();return this.VL},Qna(){this.j.Ls();return this.WL},vka(){this.j.io();return this.BJ},
xka(){this.j.io();return this.CJ},zka(){this.j.io();return this.DJ},uka(){this.j.io();return this.EJ},wka(){this.j.io();return this.FJ},yka(){this.j.io();return this.GJ},Jva(){return this.Bu},Iva(){return this.rE},twa(a){return(a=this.Ed.get(a))?a.O():0},joa(a){return(a=this.Ed.get(a))?a.P():0},Era(a){return(a=this.Ed.get(a))?a.uX:0}}}
{"use strict";const d=self.C;let a=-1E3,b=-1E3,e=-1E4;d.D.Touch.m9=class extends d.oa{constructor(){super();this.uX=this.W=this.$=this.Fl=this.El=this.X=this.fa=this.iE=this.hE=this.yD=this.gd=this.hp=this.Uh=this.rX=0;this.oD=this.NK=!1}A(){}ph(c,f,k,g,l){this.rX=g;this.Uh=l;this.hp=this.yD=this.gd=c;this.hE=f;this.iE=k;this.fa=f;this.X=k;this.El=f;this.Fl=k}Fm(c,f,k,g,l,m){this.yD=this.gd;this.gd=c;this.El=this.fa;this.Fl=this.X;this.fa=f;this.X=k;this.$=g;this.W=l;this.uX=m;!this.oD&&15<=d.pf(this.hE,
this.iE,this.fa,this.X)&&(this.oD=!0)}Hk(){return this.rX}La(){return this.gd}Kfa(c){this.yD=c}K(){return this.fa}L(){return this.X}qm(){const c=d.pf(this.fa,this.X,this.El,this.Fl),f=(this.gd-this.yD)/1E3;return 0<f?c/f:0}Y(){return d.wg(this.El,this.Fl,this.fa,this.X)}O(){return this.$}P(){return this.W}Q8(c){return this.NK?!1:500<=c-this.hp&&!this.oD&&15>d.pf(this.hE,this.iE,this.fa,this.X)?this.NK=!0:!1}S8(c){if(this.NK)return"";if(333>=c-this.hp&&!this.oD&&15>d.pf(this.hE,this.iE,this.fa,this.X)){if(666>=
c-e&&25>d.pf(a,b,this.fa,this.X))return b=a=-1E3,e=-1E4,"double-tap";a=this.fa;b=this.X;e=c;return"single-tap"}return""}ws(c,f,k){return"undefined"===typeof f?c.Bv(0).xO(this.fa,this.X)[k?0:1]:(c=c.ca(f))?c.Vf(this.fa,this.X)[k?0:1]:0}}}{"use strict";const d=self.C;d.T.Ep=class extends d.kq{constructor(a){super(a)}A(){super.A()}}}{"use strict";const d=self.C;d.T.Ep.Ce=class extends d.mq{constructor(a){super(a)}A(){super.A()}Xb(){}}}
{"use strict";const d=self.C;d.T.Ep.Instance=class extends d.lq{constructor(a,b){super(a);this.si(!0);b&&(this.si(b[0]),this.Xs(b[1]))}A(){super.A()}si(a){this.I.Yfa(!!a)}ke(){return this.I.VT()}Xs(a){const b=this.I.xf();if(a.trim()){var e=b.get("solidTags");e||(e=new Set,b.set("solidTags",e));e.clear();for(const c of a.split(" "))c&&e.add(c.toLowerCase())}else b.delete("solidTags")}mc(){return{e:this.ke()}}ac(a){this.si(a.e)}Wb(a){switch(a){case 0:return this.ke()}}we(a,b){switch(a){case 0:this.si(b)}}}}"use strict";
self.C.T.Ep.H={ke(){return this.ke()}};"use strict";self.C.T.Ep.Qa={si(d){this.si(d)},Xs(d){this.Xs(d)}};"use strict";self.C.T.Ep.zd={};{"use strict";const d=self.C;d.T.di=class extends d.kq{constructor(a){super(a)}A(){super.A()}}}{"use strict";const d=self.C;d.T.di.Ce=class extends d.mq{constructor(a){super(a)}A(){super.A()}Xb(){}}}
{"use strict";const d=self.C,a=self.Eg,b=self.AA;d.T.di.Instance=class extends d.lq{constructor(c,f){super(c);c=this.B();this.Ma=this.Eh=this.Cy=0;this.Mo=this.Ll=this.Uj=!1;this.V=!0;this.qb=this.Ab=0;this.El=c.K();this.Fl=c.L();this.Yd=c.Y();this.Qr=0;this.kE=Math.min(Math.abs(c.O()),Math.abs(c.P())/2);this.DM=!1;f&&(this.Cy=f[0],this.Eh=f[1],this.Ma=f[2],this.Uj=!!f[3],this.Ll=!!f[4],this.Mo=!!f[5],this.V=!!f[6]);f=c.Y();this.Ab=Math.cos(f)*this.Cy;this.qb=Math.sin(f)*this.Cy;this.V&&(this.De(),
this.Uj&&this.sJ())}A(){super.A()}mc(){const c={dx:this.Ab,dy:this.qb,lx:this.El,ly:this.Fl,lka:this.Yd,t:this.Qr};0!==this.Eh&&(c.acc=this.Eh);0!==this.Ma&&(c.g=this.Ma);this.Mo&&(c.st=this.Mo);this.V||(c.e=this.V);this.Uj&&(c.bos=this.Uj);this.Ll&&(c.sa=this.Ll);return c}ac(c){this.Ab=c.dx;this.qb=c.dy;this.El=c.lx;this.Fl=c.ly;this.Yd=c.lka;this.Qr=c.t;this.Eh=c.hasOwnProperty("acc")?c.acc:0;this.Ma=c.hasOwnProperty("g")?c.g:0;this.Mo=c.hasOwnProperty("st")?c.st:!1;this.Uj=c.hasOwnProperty("bos")?
c.bos:!1;this.Ll=c.hasOwnProperty("sa")?c.sa:!1;this.Ch(c.hasOwnProperty("e")?c.e:!0)}Md(){if(this.V){var c=this.j.Gk(this.I),f=this.I.B();if(f.Y()!==this.Yd){var k=f.Y();if(this.Ll){var g=d.pf(0,0,this.Ab,this.qb);this.Ab=Math.cos(k)*g;this.qb=Math.sin(k)*g}this.Yd=k}k=g=0;if(0!==this.Eh){let l=d.pf(0,0,this.Ab,this.qb),m;m=0===this.Ab&&0===this.qb?f.Y():d.wg(0,0,this.Ab,this.qb);l+=this.Eh*c;g=Math.cos(m)*this.Eh;k=Math.sin(m)*this.Eh;0>l&&(k=g=l=0);this.Ab=Math.cos(m)*l;this.qb=Math.sin(m)*l}0!==
this.Ma&&(this.qb+=this.Ma*c,k+=this.Ma);this.El=f.K();this.Fl=f.L();if(0!==this.Ab||0!==this.qb)g=this.Ab*c+.5*g*c*c,c=this.qb*c+.5*k*c*c,k=d.pf(0,0,g,c),this.dda(g,c,k),this.Qr+=k,!this.Ll||0===g&&0===c||(f.tc(d.wg(0,0,g,c)),this.Yd=f.Y()),f.ua()}}dda(c,f,k){const g=this.B();if(!this.Mo||k<=this.kE)g.ym(c,f),g.ua(),this.Mo&&this.la(d.T.di.H.gH);else{this.DM=!1;var l=g.K(),m=g.L(),q=l+c,r=m+f;f=d.wg(0,0,c,f);c=Math.cos(f)*this.kE;f=Math.sin(f)*this.kE;k=Math.floor(k/this.kE);for(let p=1;p<=k;++p)if(g.Lc(l+
c*p,m+f*p),g.ua(),this.la(d.T.di.H.gH),this.I.KG()||this.DM)return;g.Lc(q,r);g.ua();this.la(d.T.di.H.gH)}}iH(){if(this.V&&this.Uj&&(0!==this.Ab||0!==this.qb)){var c=this.j.Gk(this.I),f=this.I.B(),k=this.j.Ef,g=k.qo(this.I);if(g){k.bR(this.I,g);g=d.pf(0,0,this.Ab,this.qb);const l=k.rO(this.I,this.El,this.Fl);this.Ab=Math.cos(l)*g;this.qb=Math.sin(l)*g;f.ym(this.Ab*c,this.qb*c);f.ua();this.Ll&&(f.tc(l),this.Yd=f.Y(),f.ua());k.YQ(this.I,this.Ab/g,this.qb/g,Math.max(2.5*g*c,30))||k.ZQ(this.I)}}}Wb(c){switch(c){case 0:return this.NI();
case 1:return this.Eh;case 2:return this.Ma;case 4:return this.Ll;case 5:return this.Mo;case 6:return this.V}}we(c,f){switch(c){case 0:this.oJ(f);break;case 1:this.Eh=f;break;case 2:this.Ma=f;break;case 4:this.Ll=!!f;break;case 5:this.Mo=!!f;break;case 6:this.Ch(!!f)}}oJ(c){const f=d.wg(0,0,this.Ab,this.qb);this.Ab=Math.cos(f)*c;this.qb=Math.sin(f)*c}NI(){return d.UN(d.pf(0,0,this.Ab,this.qb))}LU(c){this.Eh=c}Bfa(c){this.Ma=c}efa(c){const f=d.pf(0,0,this.Ab,this.qb);this.Ab=Math.cos(c)*f;this.qb=
Math.sin(c)*f}tba(){return d.wg(0,0,this.Ab,this.qb)}mfa(c){c=!!c;this.Uj!==c&&(this.Uj=c,this.V&&(this.Uj?this.sJ():this.vJ()))}tfa(c){this.Qr=c}Ch(c){(this.V=!!c)?(this.De(),this.Uj&&this.sJ()):(this.nl(),this.vJ())}ag(){return self.n3}};const e=new WeakMap;self.n3=class extends b{constructor(){super();e.set(this,b.Jm().ra)}get speed(){return e.get(this).NI()}set speed(c){a.Kg(c);e.get(this).oJ(c)}get acceleration(){return e.get(this).Eh}set acceleration(c){a.Kg(c);e.get(this).LU(c)}get isEnabled(){return e.get(this).V}set isEnabled(c){e.get(this).Ch(c)}}}
{"use strict";const d=self.C;d.T.di.H={xma(a,b){return d.compare(Math.sqrt(this.Ab*this.Ab+this.qb*this.qb),a,b)},Ama(a,b){return d.compare(this.Qr,a,b)},gH(){return!0},ke(){return this.V}}}
{"use strict";const d=self.C;d.T.di.Qa={s8(a){this.oJ(a)},tta(a){this.LU(a)},GR(a){this.Bfa(a)},uta(a){this.efa(d.Ea(a))},Ila(a){if(a&&(a=a.ii(this.I))){var b=this.I.B(),e=this.j.Ef,c=this.j.Gk(this.I),f=d.pf(0,0,this.Ab,this.qb),k=e.rO(this.I,this.El,this.Fl,a);this.Ab=Math.cos(k)*f;this.qb=Math.sin(k)*f;b.ym(this.Ab*c,this.qb*c);b.ua();this.Ll&&(b.tc(k),this.Yd=b.Y(),b.ua());0!==f&&(this.Uj?e.YQ(this.I,this.Ab/f,this.qb/f,Math.max(2.5*f*c,30))||e.ZQ(this.I):e.L6(this.I,this.Ab/f,this.qb/f,Math.max(2.5*
f*c,30),a))}},Dta(a){this.mfa(a)},Nta(a){this.tfa(a)},si(a){this.Ch(a)},ova(){this.DM=!0}}}{"use strict";const d=self.C;d.T.di.zd={X8(){return this.NI()},tka(){return this.Eh},ala(){return d.Td(this.tba())},ina(){return this.Qr},doa(){return this.Ma}}}
{"use strict";const d=self.C;d.T.pj=class extends d.kq{constructor(a){super(a);a=this.j.Fb();this.rd=new d.cm(d.pb.Gb(a,"pointerdown",b=>this.Kw(b.data)),d.pb.Gb(a,"pointermove",b=>this.Lw(b.data)),d.pb.Gb(a,"pointerup",b=>this.Aq(b.data,!1)),d.pb.Gb(a,"pointercancel",b=>this.Aq(b.data,!0)))}A(){this.rd.A();this.rd=null;super.A()}Kw(a){"mouse"===a.pointerType&&0!==a.button||this.uda(a.pointerId.toString(),a.pageX-this.j.gm(),a.pageY-this.j.hm())}Lw(a){0!==(a.lastButtons&1)&&0===(a.buttons&1)?this.jU(a.pointerId.toString()):
this.vda(a.pointerId.toString(),a.pageX-this.j.gm(),a.pageY-this.j.hm())}Aq(a){"mouse"===a.pointerType&&0!==a.button||this.jU(a.pointerId.toString())}async uda(a,b,e){var c=this.qa();let f=null,k=null,g=0,l=0;for(const m of c){c=m.RF(d.T.pj);if(!c.ke()||c.Al)continue;const q=m.B(),r=q.ca(),[p,u]=r.Vf(b,e,q.ve());if(!q.ms(p,u))continue;if(!f){f=m;k=c;g=p;l=u;continue}const t=f.B();if(r.Ka()>t.ca().Ka()||r.Ka()===t.ca().Ka()&&q.li()>t.li())f=m,k=c,g=p,l=u}f&&await k.oda(a,g,l)}vda(a,b,e){var c=this.qa();
for(const f of c){c=f.RF(d.T.pj);if(!c.ke()||!c.Al||c.Al&&c.qK!==a)continue;const k=f.B(),g=k.ca(),[l,m]=g.Vf(b,e,k.ve());c.Fda(l,m)}}async jU(a){var b=this.qa();for(const e of b)b=e.RF(d.T.pj),b.Al&&b.qK===a&&await b.oU()}}}{"use strict";const d=self.C;d.T.pj.Ce=class extends d.mq{constructor(a){super(a)}A(){super.A()}Xb(){}}}
{"use strict";const d=self.C;d.T.pj.Instance=class extends d.lq{constructor(a,b){super(a);this.Al=!1;this.qb=this.Ab=0;this.qK="<none>";this.Qm=0;this.V=!0;b&&(this.Qm=b[0],this.V=b[1])}A(){super.A()}mc(){return{a:this.Qm,e:this.V}}ac(a){this.Qm=a.a;this.V=a.e;this.Al=!1}ke(){return this.V}async oda(a,b,e){const c=this.B();this.Ab=b-c.K();this.qb=e-c.L();this.Al=!0;this.qK=a;await this.Cd(d.T.pj.H.G5)}Fda(a,b){const e=this.B();a-=this.Ab;b-=this.qb;if(0===this.Qm){if(e.K()!==a||e.L()!==b)e.Lc(a,b),
e.ua()}else 1===this.Qm?e.K()!==a&&(e.ye(a),e.ua()):2===this.Qm&&e.L()!==b&&(e.Ae(b),e.ua())}async oU(){this.Al=!1;await this.Cd(d.T.pj.H.H5)}Wb(a){switch(a){case 0:return this.Qm;case 1:return this.V}}we(a,b){switch(a){case 0:this.Qm=b;break;case 1:this.V=!!b}}}}"use strict";self.C.T.pj.H={Moa(){return this.Al},G5(){return!0},H5(){return!0},ke(){return this.V}};"use strict";self.C.T.pj.Qa={si(d){this.V=!!d;this.V||(this.Al=!1)},zta(d){this.Qm=d},mna(){this.Al&&this.oU()}};"use strict";
self.C.T.pj.zd={};{"use strict";const d=self.C;d.T.bound=class extends d.kq{constructor(a){super(a)}A(){super.A()}}}{"use strict";const d=self.C;d.T.bound.Ce=class extends d.mq{constructor(a){super(a)}A(){super.A()}Xb(){}}}
{"use strict";const d=self.C;d.T.bound.Instance=class extends d.lq{constructor(a,b){super(a);this.Zd=0;b&&(this.Zd=b[0]);this.tJ()}A(){super.A()}mc(){return{m:this.Zd}}ac(a){this.Zd=a.m}ct(){const a=this.I.B(),b=a.Kc(),e=a.sc();let c=!1;0===this.Zd?(0>a.K()&&(a.ye(0),c=!0),0>a.L()&&(a.Ae(0),c=!0),a.K()>e.O()&&(a.ye(e.O()),c=!0),a.L()>e.P()&&(a.Ae(e.P()),c=!0)):(0>b.U&&(a.dH(-b.U),c=!0),0>b.S&&(a.eH(-b.S),c=!0),b.ba>e.O()&&(a.dH(-(b.ba-e.O())),c=!0),b.aa>e.P()&&(a.eH(-(b.aa-e.P())),c=!0));c&&a.ua()}Wb(a){switch(a){case 0:return this.Zd}}we(a,
b){switch(a){case 0:this.Zd=b}}}}"use strict";self.C.T.bound.H={};"use strict";self.C.T.bound.Qa={};"use strict";self.C.T.bound.zd={};{"use strict";const d=self.C;d.T.Wk=class extends d.kq{constructor(a){super(a)}A(){super.A()}}}{"use strict";const d=self.C;d.T.Wk.Ce=class extends d.mq{constructor(a){super(a)}A(){super.A()}Xb(){}}}
{"use strict";const d=self.C;d.T.Wk.Instance=class extends d.lq{constructor(a,b){super(a);this.Il=null;this.MD=-1;this.Zd="";this.Ar=new Set;this.Yd=this.uC=this.Eo=this.Dt=this.Et=this.qb=this.Ab=this.iy=this.yr=this.kf=0;this.rC=!1;b&&(this.rC=b[0]);a=this.j.Fb();this.rd=new d.cm(d.pb.Gb(a,"instancedestroy",e=>this.Jw(e.instance)),d.pb.Gb(a,"afterload",()=>this.Lm()))}A(){this.Il=null;super.A()}Rw(a){a?(this.Il=a,this.tJ()):(this.Il=null,this.OB())}to(a,b,e){if(a&&(a=a.ii(this.I)))if(this.Zd=b,
this.Rw(a),b=this.I.B(),a=a.B(),"properties"===this.Zd){const c=this.Ar;c.clear();for(const f of e)c.add(f);this.Ab=b.K()-a.K();this.qb=b.L()-a.L();this.Eo=b.Y()-a.Y();this.Yd=b.Y();this.uC=b.Va()-a.Va();c.has("x")&&c.has("y")&&(this.yr=d.wg(a.K(),a.L(),b.K(),b.L())-a.Y(),this.kf=d.pf(a.K(),a.L(),b.K(),b.L()));c.has("width-abs")?this.Et=b.O()-a.O():c.has("width-scale")&&(this.Et=b.O()/a.O());c.has("height-abs")?this.Dt=b.P()-a.P():c.has("height-scale")&&(this.Dt=b.P()/a.P())}else this.kf=d.pf(a.K(),
a.L(),b.K(),b.L())}mc(){const a=this.Ar,b=this.Zd,e={uid:this.Il?this.Il.ub:-1,m:b};if("rope"===b||"bar"===b)e.pd=this.kf;else if("properties"===b){e.ps=[...this.Ar];a.has("imagepoint")?e.ip=this.iy:a.has("x")&&a.has("y")?(e.pa=this.yr,e.pd=this.kf):(a.has("x")&&(e.dx=this.Ab),a.has("y")&&(e.dy=this.qb));a.has("angle")&&(e.da=this.Eo,e.lka=this.Yd);if(a.has("width-abs")||a.has("width-scale"))e.dw=this.Et;if(a.has("height-abs")||a.has("height-scale"))e.dh=this.Dt;a.has("z")&&(e.dz=this.uC)}return e}ac(a){const b=
a.m,e=this.Ar;e.clear();this.MD=a.uid;if("number"===typeof b)this.Cca(a);else if(this.Zd=b,"rope"===b||"bar"===b)this.kf=a.pd;else if("properties"===b){for(const c of a.ps)e.add(c);e.has("imagepoint")?this.iy=a.ip:e.has("x")&&e.has("y")?(this.yr=a.pa,this.kf=a.pd):(e.has("x")&&(this.Ab=a.dx),e.has("y")&&(this.qb=a.dy));e.has("angle")&&(this.Eo=a.da,this.Yd=a.lka||0);if(e.has("width-abs")||e.has("width-scale"))this.Et=a.dw;if(e.has("height-abs")||e.has("height-scale"))this.Dt=a.dh;e.has("z")&&(this.uC=
a.dz)}}Cca(a){const b=this.Ar,e=a.msa,c=a.tsa,f=a.pa,k=a.pd;switch(a.m){case 0:this.Zd="properties";b.add("x").add("y").add("angle");this.yr=f;this.kf=k;this.Eo=e-c;this.Yd=a.lka;break;case 1:this.Zd="properties";b.add("x").add("y");this.yr=f;this.kf=k;break;case 2:this.Zd="properties";b.add("angle");this.Eo=e-c;this.Yd=a.lka;break;case 3:this.Zd="rope";this.kf=a.pd;break;case 4:this.Zd="bar",this.kf=a.pd}}Lm(){-1===this.MD?this.Rw(null):(this.Rw(this.j.Te(this.MD)),this.MD=-1)}Jw(a){this.Il===a&&
(this.Rw(null),this.rC&&this.j.Qn(this.I))}ct(){var a=this.Il;if(a){var b=a.B(),e=this.I.B(),c=this.Zd,f=!1;if("rope"===c||"bar"===c){if(a=d.pf(e.K(),e.L(),b.K(),b.L()),a>this.kf||"bar"===c&&a<this.kf)f=d.wg(b.K(),b.L(),e.K(),e.L()),e.Lc(b.K()+Math.cos(f)*this.kf,b.L()+Math.sin(f)*this.kf),f=!0}else{c=this.Ar;if(c.has("imagepoint")){const [k,g]=a.Ik(this.iy);e.KF(k,g)||(e.Lc(k,g),f=!0)}else if(c.has("x")&&c.has("y")){a=b.K()+Math.cos(b.Y()+this.yr)*this.kf;const k=b.L()+Math.sin(b.Y()+this.yr)*this.kf;
e.KF(a,k)||(e.Lc(a,k),f=!0)}else a=b.K()+this.Ab,c.has("x")&&a!==e.K()&&(e.ye(a),f=!0),a=b.L()+this.qb,c.has("y")&&a!==e.L()&&(e.Ae(a),f=!0);c.has("angle")&&(this.Yd!==e.Y()&&(this.Eo=d.Tc(this.Eo+(e.Y()-this.Yd))),a=d.Tc(b.Y()+this.Eo),a!==e.Y()&&(e.tc(a),f=!0),this.Yd=e.Y());c.has("width-abs")&&(a=b.O()+this.Et,a!==e.O()&&(e.xe(a),f=!0));c.has("width-scale")&&(a=b.O()*this.Et,a!==e.O()&&(e.xe(a),f=!0));c.has("height-abs")&&(a=b.P()+this.Dt,a!==e.P()&&(e.Ve(a),f=!0));c.has("height-scale")&&(a=b.P()*
this.Dt,a!==e.P()&&(e.Ve(a),f=!0));c.has("z")&&(a=b.Va()+this.uC,a!==e.Va()&&(e.We(a),this.j.Z()))}f&&e.ua()}}}}"use strict";self.C.T.Wk.H={jpa(){return!!this.Il},uwa(){return this.rC}};"use strict";
self.C.T.Wk.Qa={ira(d,a){this.to(d,0===a?"rope":"bar")},kra(d,a,b,e,c,f,k){const g=[];a&&g.push("x");b&&g.push("y");e&&g.push("angle");k&&g.push("z");1===c?g.push("width-abs"):2===c&&g.push("width-scale");1===f?g.push("height-abs"):2===f&&g.push("height-scale");0!==g.length&&this.to(d,"properties",g)},jra(d,a,b,e,c,f){const k=["imagepoint"];b&&k.push("angle");f&&k.push("z");1===e?k.push("width-abs"):2===e&&k.push("width-scale");1===c?k.push("height-abs"):2===c&&k.push("height-scale");this.iy=a;this.to(d,
"properties",k)},Lua(d){if("rope"===this.Zd||"bar"===this.Zd)this.kf=Math.max(d,0)},Mta(d){this.rC=d},Xva(){this.Rw(null);this.Zd="";this.Ar.clear();this.iy=""},Wk(d,a){switch(a){case 0:this.to(d,"properties",["x","y","angle"]);break;case 1:this.to(d,"properties",["x","y"]);break;case 2:this.to(d,"properties",["angle"]);break;case 3:this.to(d,"rope");break;case 4:this.to(d,"bar")}}};"use strict";self.C.T.Wk.zd={lra(){return this.Il?this.Il.ub:-1}};{"use strict";const d=self.C;d.T.Zs=class extends d.kq{constructor(a){super(a)}A(){super.A()}}}
{"use strict";const d=self.C;d.T.Zs.Ce=class extends d.mq{constructor(a){super(a)}A(){super.A()}Xb(){}}}
{"use strict";const d=self.C,a=self.AA,b=2*Math.PI,e=Math.PI/2,c=3*Math.PI/2,f=[0,1,8,3,4,2,5,6,9,7];d.T.Zs.Instance=class extends d.lq{constructor(g,l){super(g);this.Qc=this.jf=this.tp=this.Xg=this.Pc=0;this.V=!0;this.VD=this.Wt=this.og=this.br=this.rb=this.FL=this.aM=this.bM=this.bC=this.zV=this.cC=0;l&&(this.Xg=f[l[0]],this.tp=l[1],this.bM=this.j.Bm()*l[3],this.cC=l[2],this.jf=l[2],this.jf+=this.bM,this.zV=l[4],0!==this.jf&&(this.aM=this.j.Bm()*l[5],this.Pc=l[4]/this.jf*b,this.Pc+=this.aM/this.jf*
b),this.FL=this.j.Bm()*l[7],this.bC=l[6],this.Qc=l[6],this.Qc+=this.FL,this.V=!!l[8]);5===this.Xg&&(this.Qc=d.Ea(this.Qc));this.ph();this.V&&this.De()}A(){super.A()}mc(){return{i:this.Pc,e:this.V,mv:this.Xg,w:this.tp,p:this.jf,mag:this.Qc,iv:this.rb,iv2:this.br,r:this.VD,lkv:this.og,lkv2:this.Wt}}ac(g){this.Pc=g.i;this.Ch(g.e);this.Xg=g.mv;this.tp=g.w;this.jf=g.p;this.Qc=g.mag;this.rb=g.iv;this.br=g.iv2;this.VD=g.r;this.og=g.lkv;this.Wt=g.lkv2}ph(){const g=this.I.B();switch(this.Xg){case 0:this.rb=
g.K();break;case 1:this.rb=g.L();break;case 2:this.rb=g.O();this.VD=g.P()/g.O();break;case 3:this.rb=g.O();break;case 4:this.rb=g.P();break;case 5:this.rb=g.Y();break;case 6:this.rb=g.vf();break;case 7:this.rb=0;break;case 8:this.rb=g.K();this.br=g.L();break;case 9:this.rb=g.Va()}this.og=this.rb;this.Wt=this.br}wi(g){g%=b;switch(this.tp){case 0:return Math.sin(g);case 1:return g<=e?g/e:g<=c?1-2*(g-e)/Math.PI:(g-c)/e-1;case 2:return 2*g/b-1;case 3:return-2*g/b+1;case 4:return g<Math.PI?-1:1}return 0}Md(){const g=
this.j.Gk(this.I);this.V&&0!==g&&(this.Pc=0===this.jf?0:(this.Pc+g/this.jf*b)%b,this.pV())}pV(){const g=this.I.B();switch(this.Xg){case 0:g.K()!==this.og&&(this.rb+=g.K()-this.og);g.ye(this.rb+this.wi(this.Pc)*this.Qc);this.og=g.K();break;case 1:g.L()!==this.og&&(this.rb+=g.L()-this.og);g.Ae(this.rb+this.wi(this.Pc)*this.Qc);this.og=g.L();break;case 2:g.xe(this.rb+this.wi(this.Pc)*this.Qc);g.Ve(g.O()*this.VD);break;case 3:g.xe(this.rb+this.wi(this.Pc)*this.Qc);break;case 4:g.Ve(this.rb+this.wi(this.Pc)*
this.Qc);break;case 5:g.Y()!==this.og&&(this.rb=d.Tc(this.rb+(g.Y()-this.og)));g.tc(this.rb+this.wi(this.Pc)*this.Qc);this.og=g.Y();break;case 6:g.Dj(this.rb+this.wi(this.Pc)*this.Qc/100);break;case 8:g.K()!==this.og&&(this.rb+=g.K()-this.og);g.L()!==this.Wt&&(this.br+=g.L()-this.Wt);g.ye(this.rb+Math.cos(g.Y())*this.wi(this.Pc)*this.Qc);g.Ae(this.br+Math.sin(g.Y())*this.wi(this.Pc)*this.Qc);this.og=g.K();this.Wt=g.L();break;case 9:g.We(this.rb+this.wi(this.Pc)*this.Qc)}g.ua()}Qfa(g){this.jf=g}Lfa(g){this.Qc=
g}Mfa(g){5===this.Xg&&(g=d.Ea(g));this.Lfa(g)}LI(){let g=this.Qc;5===this.Xg&&(g=d.Td(g));return g}Pfa(g){5===this.Xg&&5!==g&&(this.Qc=d.Td(this.Qc));this.Xg=g;this.ph()}Rfa(g){this.Pc=d.ja(g,0,2*Math.PI);this.pV()}Ch(g){(this.V=!!g)?this.De():this.nl()}Wb(g){switch(g){case 0:return this.Xg;case 1:return this.tp;case 2:return this.cC;case 6:return this.bC;case 8:return this.V}}we(g,l){switch(g){case 0:this.Xg=f[l];this.ph();break;case 1:this.tp=l;break;case 2:this.cC=l;this.jf=this.cC+this.bM;this.V||
(0!==this.jf?(this.Pc=this.zV/this.jf*b,this.Pc+=this.aM/this.jf*b):this.Pc=0);break;case 6:this.bC=l;this.Qc=this.bC+this.FL;5===this.Xg&&(this.Qc=d.Ea(this.Qc));break;case 8:this.V=!!l}}ag(){return self.v3}};const k=new WeakMap;self.v3=class extends a{constructor(){super();k.set(this,a.Jm().ra)}get value(){const g=k.get(this);return g.wi(g.Pc)*g.Qc}set isEnabled(g){k.get(this).Ch(!!g)}get isEnabled(){return k.get(this).V}}}
{"use strict";const d=self.C;d.T.Zs.H={ke(){return this.V},sma(a){return this.Xg===a},wma(a,b){return d.compare(this.jf,a,b)},qma(a,b){return d.compare(this.LI(),a,b)},Dma(a){return this.tp===a}}}"use strict";self.C.T.Zs.Qa={si(d){this.Ch(0!==d)},Jua(d){this.Qfa(d)},Bua(d){this.Mfa(d)},Fua(d){this.Pfa(d)},Vua(d){this.tp=d},Kua(d){const a=2*Math.PI;this.Rfa(d*a%a)},Zva(){this.ph()}};"use strict";
self.C.T.Zs.zd={cna(){return this.Pc/(2*Math.PI)},Pqa(){return this.jf},Spa(){return this.LI()},bwa(){return this.wi(this.Pc)*this.LI()}};
{"use strict";const d=self.C;let a=null,b=null,e=[],c=null;function f(k,g,l){var m=k.xf();const q=g.xf();l?((m=m.get("Physics_DisabledCollisions"))&&m.delete(g.cb),(g=q.get("Physics_DisabledCollisions"))&&g.delete(k.cb)):(l=m.get("Physics_DisabledCollisions"),l||(l=new Set,m.set("Physics_DisabledCollisions",l)),m=q.get("Physics_DisabledCollisions"),m||(m=new Set,q.set("Physics_DisabledCollisions",m)),l.add(g.cb),m.add(k.cb))}d.T.nb=class extends d.kq{constructor(k){k.Tja=self.s3;super(k);this.nf=
null;this.aN=10;this.Cc=.02;this.lY=null;this.OW=-1;this.VX=1;this.iY=8;this.sX=3;this.uV=!0;this.j.kF(this.wca())}async wca(){const k=await this.j.zb.nA("box2d.wasm");await new Promise(g=>{self.Box2DWasmModule({wasmBinaryFile:k}).then(l=>{c=l;this.Zba();g()})})}Zba(){const k=this.j.Ef;a=d.T.nb.Tp(0,0);b=d.T.nb.Tp(0,0);this.nf=new c.b2World(d.T.nb.sG(0,this.aN),!0);var g=new c.JSContactListener;g.BeginContact=l=>{var m=c.wrapPointer(l,c.b2Contact);l=d.T.nb.Instance.OA(m.GetFixtureA().GetBody());m=
d.T.nb.Instance.OA(m.GetFixtureB().GetBody());k.bR(l.I,m.I)};g.EndContact=()=>{};g.PreSolve=()=>{};g.PostSolve=()=>{};this.nf.SetContactListener(g);g=new c.JSContactFilter;g.ShouldCollide=(l,m)=>{if(this.uV)return!0;l=c.wrapPointer(l,c.b2Fixture);m=c.wrapPointer(m,c.b2Fixture);l=d.T.nb.Instance.OA(l.GetBody());m=d.T.nb.Instance.OA(m.GetBody());l=l.I.M();const q=m.I.M();m=l.cb;const r=q.cb;return(l=l.xf().get("Physics_DisabledCollisions"))&&l.has(r)?!1:(l=q.xf().get("Physics_DisabledCollisions"))&&
l.has(m)?!1:!0};this.nf.SetContactFilter(g);this.lY=new c.b2WorldManifold}A(){super.A()}H1(){return c}YR(k){this.VX=k}e8(k){this.OW=k}K8(k){this.iY=Math.max(k,1)}n8(k){this.sX=Math.max(k,1)}OR(k,g){this.K8(k);this.n8(g)}GR(k){k!==this.aN&&(this.nf.SetGravity(d.T.nb.sG(0,k)),this.aN=k,this.Dga())}Dga(){for(const g of this.qa()){var k=d.T.nb.Instance.xm(g);k&&(k=k.Fa)&&k.SetAwake(!0)}}d0(){this.uV=!1}G7(k,g,l){l=!!l;if(k&&g){if(g.gb)for(const m of g.Go)f(k,m,l);else f(k,g,l);this.d0()}}static Tp(k,
g){if(e.length){const l=e.pop();l.set_x(k);l.set_y(g);return l}return new c.b2Vec2(k,g)}static Uz(k){e.push(k)}static sG(k,g){a.set_x(k);a.set_y(g);return a}static K2(k,g){b.set_x(k);b.set_y(g);return b}static BF(k){const g=new c.b2PolygonShape,l=c._malloc(8*k.length);var m=0;for(let q=0;q<k.length;++q)c.HEAPF32[l+m>>2]=k[q].get_x(),c.HEAPF32[l+(m+4)>>2]=k[q].get_y(),m+=8;m=c.wrapPointer(l,c.b2Vec2);g.Set(m,k.length);c._free(l);return g}};self.s3=class extends self.VP{constructor(k){super(k)}}}
{"use strict";const d=self.C;d.T.nb.Ce=class extends d.mq{constructor(a){super(a)}A(){super.A()}Xb(){}}}
{"use strict";const d=self.C,a=self.Eg,b=self.AA,e=new WeakMap,c=new WeakMap,f=new WeakMap,k=d.T.nb.sG,g=d.T.nb.K2,l=d.F(d.Rect),m=d.F(d.Bd);d.T.nb.Instance=class extends d.lq{constructor(r,p){super(r);r=this.rf();const u=this.B();this.Ci=r.H1();this.nf=r.nf;this.Cc=r.Cc;this.Kx=!1;this.GV=0;this.bp=!1;this.Qq=1;this.Xq=.5;this.Gr=.2;this.rr=0;this.Iq=.01;this.Ko=!1;this.V=!0;this.Fa=null;this.Nt=[];this.Oh=[];this.Lf=[];this.Oo=new Set;this.Xt=u.K();this.Yt=u.L();this.Yd=u.Y();this.pL=this.vL=0;
this.Wx=!1;p&&(this.Kx=!!p[0],this.GV=p[1],this.bp=!!p[2],this.Qq=p[3],this.Xq=p[4],this.Gr=p[5],this.rr=p[6],this.Iq=p[7],this.Ko=!!p[8],this.V=!!p[9]);p=this.j.Fb();this.rd=new d.cm(d.pb.Gb(p,"instancedestroy",t=>this.Jw(t.instance)),d.pb.Gb(p,"beforeload",()=>this.mt()),d.pb.Gb(p,"afterload",()=>this.Lm()));c.set(this.I,this);this.V&&this.De()}RA(){this.jB()}A(){this.oB();d.G(this.Lf);this.Oo.clear();this.Fa&&(this.xI(),this.nf.DestroyBody(this.Fa),this.Fa=null);super.A()}vw(r){this.Fa&&(r=this.Fa.CreateFixture(r),
this.Nt.push(r))}xI(){if(this.Fa){for(const r of this.Nt)this.Fa.DestroyFixture(r);d.G(this.Nt)}}ht(){const r=this.B();return r.eg()?(r.bv(l,m,!1),m):r.gi()}Kj(r){this.Ci.destroy(r)}jB(){if(this.V){var r=this.Ci.b2FixtureDef,p=this.Ci.b2BodyDef,u=this.B();if(!this.Fa){p=new p;p.set_type(this.Kx?0:2);var t=this.ht();p.set_position(g(t.fj()*this.Cc,t.gj()*this.Cc));p.set_angle(u.Y());p.set_fixedRotation(this.bp);p.set_linearDamping(this.rr);p.set_angularDamping(this.Iq);p.set_bullet(this.Ko);this.Fa=
this.nf.CreateBody(p);this.Kj(p);e.set(this.Fa,this)}this.xI();r=new r;r.set_density(this.Qq);r.set_friction(this.Xq);r.set_restitution(this.Gr);p=this.GV;u.Lv()||this.I.yj()||0!==p||(p=1);t=Math.max(Math.abs(u.O()),1);var w=Math.max(Math.abs(u.P()),1);0===p?this.I.yj()?this.daa(r):this.X$(r,t,w):1===p?this.KS(r,t,w):this.K$(r,t,w);this.vL=u.O();this.pL=u.P();u.WR(!1);this.Kj(r)}}KS(r,p,u){const t=new this.Ci.b2PolygonShape;t.SetAsBox(p*this.Cc*.5,u*this.Cc*.5);r.set_shape(t);this.vw(r);this.Kj(t)}K$(r,
p,u){const t=new this.Ci.b2CircleShape;t.set_m_radius(Math.min(p,u)*this.Cc*.5);r.set_shape(t);this.vw(r);this.Kj(t)}X$(r,p,u){var t=this.B(),w=0>t.O();const x=0>t.P(),z=this.Cc;var D=t.Y();0!==D&&(t.tc(0),t.ua());var G=this.ht();const N=G.fj()-t.K();G=G.gj()-t.L();0!==D&&(t.tc(D),t.ua());D=t.L1(w?-p:p,x?-u:u).Pd;const B=D.length/2;t=[];for(let H=0;H<B;++H)t.push(d.T.nb.Tp(D[2*H]-N,D[2*H+1]-G));w!==x&&t.reverse();w=d.T.nb.uR.tR(t,p*u);for(const H of t)d.T.nb.Uz(H);if(w.length)for(const H of w){for(const I of H)I.set_x(I.get_x()*
z),I.set_y(I.get_y()*z);p=d.T.nb.BF(H);r.set_shape(p);this.vw(r);this.Kj(p);for(const I of H)d.T.nb.Uz(I)}else this.KS(r,p,u)}daa(r){var p=this.B(),u=this.ht();const t=u.fj()-p.K();p=u.gj()-p.L();u=this.Cc;const w=d.T.nb.Tp,x=d.T.nb.Uz,z=[];this.I.ra.Rna(z);const D=[];for(let I=0,K=z.length;I<K;++I){var G=z[I],N=G.H2(),B=G.zP();if(B){var H=f.get(B);if(!H){H=B.Pd;const Q=B.KN();for(let R=0;R<Q;++R)D.push(w(H[2*R],H[2*R+1]));G=G.Wna()&3758096384;(-2147483648===G||1073741824===G||536870912===G||G&-2147483648&&
G&1073741824&&G&536870912)&&D.reverse();H=d.T.nb.uR.tR(D,N.width()*N.height());f.set(B,H);for(const R of D)x(R);d.G(D)}for(let Q=0,R=H.length;Q<R;++Q){B=H[Q];for(let U=0,Z=B.length;U<Z;++U)D.push(w((N.U+B[U].get_x()-t)*u,(N.S+B[U].get_y()-p)*u));B=d.T.nb.BF(D);r.set_shape(B);this.vw(r);this.Kj(B);for(const U of D)x(U);d.G(D)}}else D.push(w((N.U-t)*u,(N.S-p)*u)),D.push(w((N.ba-t)*u,(N.S-p)*u)),D.push(w((N.ba-t)*u,(N.aa-p)*u)),D.push(w((N.U-t)*u,(N.aa-p)*u)),N=d.T.nb.BF(D),r.set_shape(N),this.vw(r),
this.Kj(N);for(const Q of D)x(Q);d.G(D)}}SS(){this.Fa&&(this.oB(),e.delete(this.Fa),this.xI(),this.nf.DestroyBody(this.Fa),this.Fa=null)}oB(){for(const r of this.Oh)this.nf.DestroyJoint(r);d.G(this.Oh)}dea(){for(const r of this.Lf)switch(r.type){case 0:this.VS(...r.Tf);break;case 1:this.YS(...r.Tf);break;case 2:this.WS(...r.Tf);break;case 3:this.XS(...r.Tf)}}gl(r){var p=this.B();return-1===r?[p.K(),p.L()]:0===r&&this.Fa?(r=this.Fa.GetPosition(),p=this.Fa.GetLocalCenter(),[(r.get_x()+p.get_x())/this.Cc,
(r.get_y()+p.get_y())/this.Cc]):this.I.Ik(r)}L$(r,p,u,t,w){this.V&&p&&p!==this.I&&d.T.nb.Instance.xm(p)&&(this.Lf.push({type:0,Tf:[r,p.ub,u,t,w]}),this.VS(r,p.ub,u,t,w))}VS(r,p,u,t,w){if(this.V){var x=this.j.Te(p);if(x&&x!==this.I&&c.has(x)){p=d.T.nb.Instance.xm(x);p.Oo.add(this.I);this.Om(!1);p.Om(!1);var [z,D]=this.gl(r),[G,N]=x.Ik(u);r=z-G;u=D-N;x=this.Cc;var B=new this.Ci.b2DistanceJointDef;B.Initialize(this.Fa,p.Fa,k(z*x,D*x),g(G*x,N*x));B.set_length(Math.hypot(r,u)*x);B.set_dampingRatio(t);
B.set_frequencyHz(w);this.Oh.push(this.nf.CreateJoint(B));this.Kj(B)}}}$$(r,p){this.V&&p&&p!==this.I&&d.T.nb.Instance.xm(p)&&(this.Lf.push({type:1,Tf:[r,p.ub]}),this.YS(r,p.ub))}YS(r,p){if(this.V&&(p=this.j.Te(p))&&p!==this.I&&c.has(p)){p=d.T.nb.Instance.xm(p);p.Oo.add(this.I);this.Om(!1);p.Om(!1);var [u,t]=this.gl(r);r=this.Cc;var w=new this.Ci.b2RevoluteJointDef;w.Initialize(this.Fa,p.Fa,k(u*r,t*r));this.Oh.push(this.nf.CreateJoint(w));this.Kj(w)}}V$(r,p,u,t){this.V&&p&&p!==this.I&&d.T.nb.Instance.xm(p)&&
(u=d.Td(u),t=d.Td(t),this.Lf.push({type:2,Tf:[r,p.ub,u,t]}),this.WS(r,p.ub,u,t))}WS(r,p,u,t){if(this.V&&(p=this.j.Te(p))&&p!==this.I&&c.has(p)){p=d.T.nb.Instance.xm(p);p.Oo.add(this.I);this.Om(!1);p.Om(!1);var [w,x]=this.gl(r);r=this.Cc;var z=new this.Ci.b2RevoluteJointDef;z.Initialize(this.Fa,p.Fa,k(w*r,x*r));z.set_enableLimit(!0);z.set_lowerAngle(d.Ea(u));z.set_upperAngle(d.Ea(t));this.Oh.push(this.nf.CreateJoint(z));this.Kj(z)}}Y$(r,p,u,t,w,x,z,D,G){this.V&&p&&p!==this.I&&d.T.nb.Instance.xm(p)&&
(u=d.Td(u),D=d.Td(D),this.Lf.push({type:3,Tf:[r,p.ub,u,t,w,x,z,D,G]}),this.XS(r,p.ub,u,t,w,x,z,D,G))}XS(r,p,u,t,w,x,z,D,G){if(this.V&&(p=this.j.Te(p))&&p!==this.I&&c.has(p)){p=d.T.nb.Instance.xm(p);p.Oo.add(this.I);this.Om(!1);p.Om(!1);var [N,B]=this.gl(r);u=d.Ea(u);r=Math.cos(u);u=Math.sin(u);var H=this.Cc,I=new this.Ci.b2PrismaticJointDef;I.Initialize(this.Fa,p.Fa,k(N*H,B*H),g(r,u));I.set_enableLimit(!!t);I.set_lowerTranslation(w*H);I.set_upperTranslation(x*H);I.set_enableMotor(!!z);I.set_motorSpeed(d.Ea(D));
I.set_maxMotorForce(G);this.Oh.push(this.nf.CreateJoint(I));this.Kj(I)}}rea(){this.V&&(this.oB(),d.G(this.Lf),this.Oo.clear())}Jw(r){const p=r.ub;let u=0;for(let t=0,w=this.Lf.length;t<w;++t)this.Lf[u]=this.Lf[t],u<this.Oh.length&&(this.Oh[u]=this.Oh[t]),this.Lf[t].Tf[1]===p?t<this.Oh.length&&this.nf.DestroyJoint(this.Oh[t]):++u;d.Qe(this.Lf,u);u<this.Oh.length&&d.Qe(this.Oh,u);this.Oo.delete(r)}static OA(r){return e.get(r)||null}static xm(r){return c.get(r)||null}mc(){const r={e:this.V,pr:this.bp,
d:this.Qq,fr:this.Xq,re:this.Gr,ld:this.rr,ad:this.Iq,b:this.Ko,mcj:this.Lf};if(this.V){const p=this.Fa.GetLinearVelocity();r.vx=p.get_x();r.vy=p.get_y();r.om=this.Fa.GetAngularVelocity()}return r}mt(){this.oB();d.G(this.Lf);this.Oo.clear()}ac(r){this.SS();this.V=r.e;this.bp=r.pr;this.Qq=r.d;this.Xq=r.fr;this.Gr=r.re;this.rr=r.ld;this.Iq=r.ad;this.Ko=r.b;this.Lf=r.mcj;const p=this.B();this.Xt=p.K();this.Yt=p.L();this.Yd=p.Y();this.vL=p.O();this.pL=p.P();this.V&&(this.jB(),this.Fa.SetLinearVelocity(k(r.vx,
r.vy)),this.Fa.SetAngularVelocity(r.om),0===r.vx&&0===r.vy&&0===r.om||this.Fa.SetAwake(!0),this.Lf=r.mcj);this.V?this.De():this.nl()}Lm(){this.V&&this.dea()}Md(){if(this.V){var r=this.j,p=this.rf();if(0===p.VX)var u=r.Qd/60;else u=r.Gk(this.I),u>1/30&&(u=1/30);var t=r.yn;if(t>p.OW&&0<r.Qd){r=this.j.Bb;let w=0;r&&(w=performance.now());0!==u&&this.nf.Step(u,p.iY,p.sX);this.nf.ClearForces();r&&self.Dg.Mka(performance.now()-w);p.e8(t)}this.Om(!0)}}Om(r){const p=this.I.B();var u=this.Cc;(p.O()!==this.vL||
p.P()!==this.pL||p.z4())&&this.jB();var t=this.Fa,w=p.K()!==this.Xt||p.L()!==this.Yt,x=p.Y()!==this.Yd;if(w){var z=this.ht();const D=z.fj();z=z.gj();const G=D-this.Xt,N=z-this.Yt;x?t.SetTransform(k(D*u,z*u),p.Y()):t.SetTransform(k(D*u,z*u),t.GetAngle());r&&(t.SetLinearVelocity(k(G,N)),this.Wx=!0);t.SetAwake(!0)}else r&&this.Wx&&(r=this.ht(),this.Wx=!1,t.SetLinearVelocity(k(0,0)),t.SetTransform(k(r.fj()*u,r.gj()*u),t.GetAngle()));!w&&x&&(t.SetTransform(t.GetPosition(),p.Y()),t.SetAwake(!0));x=t.GetPosition();
w=x.get_x()/u;u=x.get_y()/u;t=t.GetAngle();if(w!==p.K()||u!==p.L()||t!==p.Y())if(p.Lc(w,u),p.tc(t),p.ua(),u=this.ht(),t=u.fj()-p.K(),u=u.gj()-p.L(),0!==t||0!==u)p.ym(-t,-u),p.ua();this.Xt=p.K();this.Yt=p.L();this.Yd=p.Y()}Wb(r){switch(r){case 2:return this.bp;case 3:return this.sT();case 4:return this.wT();case 5:return this.tT();case 6:return this.yT();case 7:return this.jT();case 8:return this.Ko;case 9:return this.V}}we(r,p){switch(r){case 2:this.YU(p);break;case 3:this.QU(p);break;case 4:this.TU(p);
break;case 5:this.SU(p);break;case 6:this.VU(p);break;case 7:this.MU(p);break;case 8:this.PU(p);break;case 9:this.Ch(p)}}Ch(r){r=!!r;this.V&&!r?(this.SS(),this.V=!1,this.nl()):!this.V&&r&&(this.V=!0,this.jB(),this.De())}j$(r,p,u){const [t,w]=this.gl(u);this.zI(r,p,t,w)}l$(r,p,u,t){const [w,x]=this.gl(t);p=d.wg(w,x,p,u);this.zI(Math.cos(p)*r,Math.sin(p)*r,w,x)}k$(r,p,u){const [t,w]=this.gl(u);this.zI(Math.cos(p)*r,Math.sin(p)*r,t,w)}zI(r,p,u,t){if(this.V){var w=this.Cc;this.Fa.ApplyForce(k(r,p),g(u*
w,t*w),!0)}}m$(r,p,u){const [t,w]=this.gl(u);this.AI(r,p,t,w)}o$(r,p,u,t){const [w,x]=this.gl(t);p=d.wg(w,x,p,u);this.AI(Math.cos(p)*r,Math.sin(p)*r,w,x)}n$(r,p,u){const [t,w]=this.gl(u);this.AI(Math.cos(p)*r,Math.sin(p)*r,t,w)}AI(r,p,u,t){if(this.V){var w=this.Cc;this.Fa.ApplyLinearImpulse(k(r,p),g(u*w,t*w),!0);r=this.B();this.Xt=r.K();this.Yt=r.L();this.Wx=!1}}iI(r){this.V&&this.Fa.ApplyTorque(r,!0)}p$(r,p){p=d.Oe(this.B().Y(),p)?-1:1;this.iI(r*p)}q$(r,p,u){var t=this.B();p=d.wg(t.K(),t.L(),p,u);
t=d.Oe(t.Y(),p)?-1:1;this.iI(r*t)}ffa(r){this.V&&(this.Fa.SetAngularVelocity(r),this.Fa.SetAwake(!0))}kT(){return this.V?this.Fa.GetAngularVelocity():0}aV(r,p){if(this.V){var u=this.Cc;this.Fa.SetLinearVelocity(k(r*u,p*u));this.Fa.SetAwake(!0);r=this.B();this.Xt=r.K();this.Yt=r.L();this.Wx=!1}}Rba(){if(!this.V)return[0,0];const r=this.Cc,p=this.Fa.GetLinearVelocity();return[p.get_x()/r,p.get_y()/r]}IT(){return this.V?this.Fa.GetLinearVelocity().get_x()/this.Cc:0}JT(){return this.V?this.Fa.GetLinearVelocity().get_y()/
this.Cc:0}QU(r){if(this.V&&this.Qq!==r){this.Qq=r;for(const p of this.Nt)p.SetDensity(r);this.Fa.ResetMassData()}}sT(){return this.V?this.Qq:0}TU(r){if(this.V&&this.Xq!==r){this.Xq=r;for(var p of this.Nt)p.SetFriction(r);for(r=this.Fa.GetContactList();this.Ci.getPointer(r);r=r.get_next())(p=r.get_contact())&&p.ResetFriction()}}wT(){return this.V?this.Xq:0}SU(r){if(this.V&&this.Gr!==r){this.Gr=r;for(const p of this.Nt)p.SetRestitution(r)}}tT(){return this.V?this.Gr:0}VU(r){this.V&&this.rr!==r&&(this.rr=
r,this.Fa.SetLinearDamping(r))}yT(){return this.V?this.rr:0}MU(r){this.V&&this.Iq!==r&&(this.Iq=r,this.Fa.SetAngularDamping(r))}jT(){return this.V?this.Iq:0}Ffa(r){this.V&&(r=!!r,this.Kx!==r&&(this.Kx=r,this.Fa.SetType(this.Kx?0:2),this.Fa.SetAwake(!0)))}YU(r){this.V&&(r=!!r,this.bp!==r&&(this.bp=r,this.Fa.SetFixedRotation(this.bp),this.Fa.SetAngularVelocity(0),this.Fa.SetAwake(!0)))}PU(r){this.V&&(r=!!r,this.Ko!==r&&(this.Ko=r,this.Fa.SetBullet(this.Ko),this.Fa.SetAwake(!0)))}AT(){return this.V?
this.Fa.GetMass()/this.Cc:0}wba(){return this.V?(this.Fa.GetPosition().get_x()+this.Fa.GetLocalCenter().get_x())/this.Cc:0}xba(){return this.V?(this.Fa.GetPosition().get_y()+this.Fa.GetLocalCenter().get_y())/this.Cc:0}qca(){return this.V?!this.Fa.IsAwake():!1}yba(){if(!this.V)return 0;let r=0;for(let u=this.Fa.GetContactList();this.Ci.getPointer(u);u=u.get_next()){var p=u.get_contact();p&&(p=p.GetManifold().get_pointCount(),r+=p)}return r}pT(r){r=Math.floor(r);if(!this.V)return[0,0];var p=0;for(let t=
this.Fa.GetContactList();this.Ci.getPointer(t);t=t.get_next()){var u=t.get_contact();if(!u)continue;const w=u.GetManifold().get_pointCount();if(r>=p&&r<p+w)return r-=p,p=this.rf().lY,u.GetWorldManifold(p),u=p.get_points(r),[u.get_x()/this.Cc,u.get_y()/this.Cc];p+=w}return[0,0]}ag(){return self.t3}};const q=new WeakMap;self.t3=class extends b{constructor(){super();q.set(this,b.Jm().ra)}get isEnabled(){return q.get(this).V}set isEnabled(r){q.get(this).Ch(r)}setVelocity(r,p){a.Kg(r);a.Kg(p);q.get(this).aV(r,
p)}}}{"use strict";const d=self.C;d.T.nb.H={mpa(){return this.qca()},Bma(a,b,e){if(!this.V)return!1;if(0===a)a=this.IT();else if(1===a)a=this.JT();else{const [c,f]=this.Rba();a=Math.hypot(c,f)}return d.compare(a,b,e)},jma(a,b){if(!this.V)return!1;const e=d.Td(this.kT());return d.compare(e,a,b)},rma(a,b){if(!this.V)return!1;const e=this.AT();return d.compare(e,a,b)},ke(){return this.V}}}
{"use strict";const d=self.C;d.T.nb.Qa={hla(a,b,e){this.j$(a,b,e)},jla(a,b,e,c){this.l$(a,b,e,c)},ila(a,b,e){this.k$(a,d.Ea(b),e)},SZ(a,b,e){this.m$(a,b,e)},lla(a,b,e,c){this.o$(a,b,e,c)},kla(a,b,e){this.n$(a,d.Ea(b),e)},mla(a){this.iI(d.Ea(a))},nla(a,b){this.p$(d.Ea(a),d.Ea(b))},ola(a,b,e){this.q$(d.Ea(a),b,e)},wta(a){this.ffa(d.Ea(a))},Uma(a,b,e,c,f){b&&(b=b.ii(this.I),this.L$(a,b,e,c,f))},Zma(a,b){b&&(b=b.ii(this.I),this.$$(a,b))},Wma(a,b,e,c){b&&(b=b.ii(this.I),this.V$(a,b,d.Ea(e),d.Ea(c)))},
Yma(a,b,e,c,f,k,g,l,m){b&&(b=b.ii(this.I),this.Y$(a,b,d.Ea(e),c,f,k,g,d.Ea(l),m))},Ura(){this.rea()},Xua(a){this.rf().GR(a)},YR(a){this.rf().YR(a)},OR(a,b){this.rf().OR(a,b)},Tua(a,b){this.aV(a,b)},Lta(a){this.QU(a)},Yta(a){this.TU(a)},Rta(a){this.SU(a)},xua(a){this.VU(a)},vta(a){this.MU(a)},bua(a){this.Ffa(a)},rna(a,b){this.rf().G7(this.M(),a,0!==b)},Oua(a){this.YU(0!==a)},Eta(a){this.PU(0!==a)},si(a){this.Ch(0!==a)}}}
{"use strict";const d=self.C;d.T.nb.zd={cwa(){return this.IT()},dwa(){return this.JT()},cla(){return d.Td(this.kT())},Wpa(){return this.AT()},Yla(){return this.wba()},Zla(){return this.xba()},ena(){return this.sT()},Nna(){return this.wT()},qna(){return this.tT()},Fpa(){return this.yT()},bla(){return this.jT()},Pma(){return this.yba()},Qma(a){return this.pT(a)[0]},Rma(a){return this.pT(a)[1]}}}
{"use strict";const d=self.C,a={};d.T.nb.uR=a;const b=d.T.nb.Tp,e=d.T.nb.Uz;function c(k){return b(k.get_x(),k.get_y())}a.Jia=function(k,g,l,m,q,r){return k*m+l*r+q*g-g*l-m*q-r*k};a.aja=function(k,g,l,m,q,r,p,u){var t=l-k,w=m-g,x=p-q;const z=u-r;x=(x*(r-g)-z*(q-k))/(w*x-t*z);t=k+x*t;w=g+x*w;q=a.NE(t,w,q,r,p,u);return a.NE(l,m,k,g,t,w)&&q?b(t,w):null};a.NE=function(k,g,l,m,q,r){return(l+.1>=k&&k>=q-.1||l-.1<=k&&k<=q+.1)&&(m+.1>=g&&g>=r-.1||m-.1<=g&&g<=r+.1)&&a.kja(k,g,l,m,q,r)};a.kja=function(k,g,
l,m,q,r){return.1<Math.abs(q-l)?.1>Math.abs((r-m)/(q-l)*(k-l)+m-g):.1>Math.abs(k-l)};a.WY=function(k,g,l,m){return.1>Math.abs(l-k)&&.1>Math.abs(m-g)};a.tR=function(k,g){k=a.uia(k);let l=[];for(let m=0,q=k.length;m<q;++m){const r=k[m],p=[];let u=0;for(let t=0,w=r.length;t<w;++t){const x=r[t],z=r[(t+1)%w];u+=x.get_x()*z.get_y()-x.get_y()*z.get_x();p.push(b(x.get_x(),x.get_y()))}u=Math.abs(u/2);if(u>=.001*g)l.push(p);else for(let t=0,w=p.length;t<w;t++)e(p[t])}g=l;k=[];for(const m of g)8>=m.length?k.push(m):
k.push.apply(k,f(m));return l=k};a.uia=function(k){var g;let l;var m;let q;let r,p,u,t;let w;var x=0;let z=0,D,G=[],N=[];for(N.push(k);N.length;){k=N[0];l=k.length;D=!0;for(g=0;g<l;g++){r=g;p=g<l-1?g+1:g+1-l;var B=g<l-2?g+2:g+2-l;u=k[r];t=k[p];B=k[B];B=a.Jia(u.get_x(),u.get_y(),t.get_x(),t.get_y(),B.get_x(),B.get_y());if(0>B){D=!1;var H=1E9;for(m=0;m<l;m++)if(m!==r&&m!==p){g=m;B=m<l-1?m+1:0;var I=k[g];var K=k[B];if(I=a.aja(u.get_x(),u.get_y(),t.get_x(),t.get_y(),I.get_x(),I.get_y(),K.get_x(),K.get_y()))K=
t.get_x()-I.get_x(),q=t.get_y()-I.get_y(),K=K*K+q*q,K<H?(z=g,x=B,w=I,H=K):e(I)}if(1E9===H)return[];m=[];H=[];g=z;B=x;I=k[g];K=k[B];x=!1;a.WY(w.get_x(),w.get_y(),K.get_x(),K.get_y())||(m.push(w),x=!0);a.WY(w.get_x(),w.get_y(),I.get_x(),I.get_y())||(H.push(w),x=!0);x||e(w);z=-1;for(x=r;;){if(x!==B)m.push(k[x]);else{if(0>z||z>=l)return[];a.NE(K.get_x(),K.get_y(),k[z].get_x(),k[z].get_y(),u.get_x(),u.get_y())||m.push(k[x]);break}z=x;0>x-1?x=l-1:x--}m.reverse();z=-1;for(x=p;;){if(x!==g)H.push(k[x]);else{if(0>
z||z>=l)return[];x!==g||a.NE(I.get_x(),I.get_y(),k[z].get_x(),k[z].get_y(),t.get_x(),t.get_y())||H.push(k[x]);break}z=x;x+1>l-1?x=0:x++}N.push(m,H);N.shift();break}}D&&G.push(N.shift())}return G};function f(k){const g=[];g.push(k.splice(0,8));const l=g[0][0];let m=g[0][7];for(;k.length;){const q=k.splice(0,Math.min(k.length,6));let r=q.Pe(-1);q.push(c(l));q.push(c(m));g.push(q);m=r}return g}}
{const d=self.C;self.qO=function(){return[d.D.nc,d.T.Ep,d.T.di,d.T.pj,d.T.bound,d.T.Wk,d.D.Hj,d.T.Zs,d.T.nb,d.D.Text,d.D.Function,d.D.Audio,d.D.yd,d.D.Keyboard,d.D.Kd,d.D.Touch,d.D.ob.H.JQ,d.D.Function.Qa.CallFunction,d.D.nc.Qa.m8,d.D.nc.Qa.j5,d.T.Wk.Qa.Wk,d.D.Hj.Qa.bl,d.D.ob.Qa.J8,d.D.ob.Qa.rq,d.T.di.Qa.si,d.D.ob.H.Bs,d.D.Function.H.Tv,d.D.nc.Qa.n7,d.D.ob.zd.random,d.D.nc.H.A5,d.D.nc.Qa.z7,d.D.nc.H.CQ,d.D.ob.H.o1,d.D.ob.Qa.f9,d.D.ob.H.p1,d.D.ob.H.A_,d.D.nc.Qa.Ng,d.D.ob.Qa.eI,d.D.ob.Qa.R2,d.D.nc.Qa.CZ,
d.D.Hj.Qa.Ng,d.D.nc.H.y_,d.D.Hj.Qa.kO,d.D.nc.Qa.ye,d.D.nc.Qa.Ae,d.D.nc.zd.gI,d.D.nc.Qa.A7,d.D.nc.Qa.k5,d.T.di.Qa.s8,d.D.Touch.H.QQ,d.D.Audio.Qa.Play,d.D.ob.Qa.MZ,d.D.Text.Qa.bl,d.D.ob.zd.vja,d.D.nc.Qa.xe,d.D.ob.H.MQ,d.T.nb.Qa.SZ,d.D.yd.Qa.v_,d.D.Kd.H.o4,d.D.Kd.Qa.I7,d.D.ob.H.QO,d.D.Audio.Qa.Og]};self.e_=[{ava:0},{kwa:0},{vra:0},{jta:0},{coa:0},{di:0},{vla:0},{lna:0},{Jla:0},{Wk:0},{tra:0},{Jma:0},{ura:0},{Bna:0},{Kva:0},{Lva:0},{Cva:0},{Zua:0},{Rla:0},{ana:0},{bna:0},{kta:0},{Pna:0},{Bva:0},{wla:0},
{Cna:0},{Zpa:0},{Apa:0},{Dpa:0},{Tsa:0},{Wsa:0},{Xsa:0},{Epa:0},{cqa:0},{yla:0},{Usa:0},{Bpa:0},{Vsa:0},{Cpa:0},{Lma:0},{xla:0},{zla:0},{Mla:0},{Ola:0},{Qla:0},{Sla:0},{Kma:0},{Dna:0},{ata:0},{nb:0},{Pla:0},{Tla:0},{Nla:0},{jva:0},{eta:0},{Bla:0},{$ua:0},{Opa:0},{Mpa:0},{Npa:0},{Ppa:0},{Function:0},{Audio:0},{yd:0},{Keyboard:0},{Kd:0},{Touch:0},{X8:0},{dva:0},{Ypa:0},{bqa:0},{rta:0}]}
{function d(a,b){return"string"===typeof a||"string"===typeof b?("number"===typeof a?(Math.round(1E10*a)/1E10).toString():a)+("number"===typeof b?(Math.round(1E10*b)/1E10).toString():b):a&&b?1:0}self.d_=[()=>"Ball.Create",()=>80,()=>360,()=>1200,()=>0,a=>{const b=a.ig(0).ul,e=a.ig(1).ul;return()=>d(d("0",b.Jd())+":",e.Jd())},()=>1,()=>3,()=>30,()=>"Sound",()=>640,()=>-1360,()=>213,()=>216,()=>367,()=>521,()=>353,()=>618,()=>842,()=>1066,()=>250,()=>420,()=>320,()=>390,()=>490,()=>496,()=>784,()=>
890,()=>960,()=>1030,()=>514,()=>560,()=>598,()=>682,()=>766,()=>1360,()=>"Ball",a=>{const b=a.ig(0).vv();return()=>b(360)},()=>"Touch",()=>"Default",()=>"Timer",()=>"TimerEnd",()=>59,()=>9,a=>{const b=a.ig(0).ul,e=a.ig(1).ul;return()=>d(d("0",b.Jd())+":0",e.Jd())},()=>"00:00",()=>"Computer & Difficulty Selection",()=>"2Players",()=>4,()=>"Goals",()=>1800,()=>"Score.Show",()=>2,()=>"",a=>{const b=a.ig(0);return()=>d(b.TO()," : ")},a=>{const b=a.ig(0);return()=>b.TO()},()=>-1,a=>{const b=a.ig(0);return()=>
180+b.Rz()},a=>{const b=a.ig(0);return()=>-150+b.Rz()},a=>{const b=a.ig(0);return()=>80+b.Rz()},a=>{const b=a.ig(0);return()=>-80+b.Rz()},()=>"Field & Ball & Speed & Time Selection",()=>5,()=>10,a=>{const b=a.ig(0).ul,e=a.ig(1).ul;return()=>d(d(b.Jd(),":0"),e.Jd())},()=>11,()=>"SoccerBall",()=>"BasketBall",()=>"VolleyBall",()=>"StreetBall",()=>800,()=>1E3,()=>1400,()=>1600,()=>6,()=>7,()=>8,()=>"TouchControl",()=>1216,()=>1353,()=>1420,()=>1490,()=>1560,a=>{const b=a.ig(0).vv();return()=>d(Math.round(100*
b()),"%")},a=>{const b=a.ig(0).vv();return()=>Math.round(640*b())},()=>-5,()=>"Melody",()=>"Demo Balls",()=>243,()=>1147,()=>50,()=>"Mouse",()=>"Sound ON/OFF",()=>"SoundON",()=>"SoundOFF",()=>"MelodyON",()=>"MelodyOFF"]};
